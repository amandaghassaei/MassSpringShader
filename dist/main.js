(()=>{var e={650:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,{default:()=>d});var a,s,l,u,f,c=(a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],s=function(){function e(t){var r=t.targetModal,n=t.triggers,o=void 0===n?[]:n,a=t.onShow,s=void 0===a?function(){}:a,l=t.onClose,u=void 0===l?function(){}:l,f=t.openTrigger,c=void 0===f?"data-micromodal-trigger":f,d=t.closeTrigger,h=void 0===d?"data-micromodal-close":d,g=t.openClass,v=void 0===g?"is-open":g,m=t.disableScroll,p=void 0!==m&&m,b=t.disableFocus,y=void 0!==b&&b,_=t.awaitCloseAnimation,T=void 0!==_&&_,E=t.awaitOpenAnimation,F=void 0!==E&&E,A=t.debugMode,w=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(r),this.config={debugMode:w,disableScroll:p,openTrigger:c,closeTrigger:h,openClass:v,onShow:s,onClose:u,awaitCloseAnimation:T,awaitOpenAnimation:F,disableFocus:y},o.length>0&&this.registerTriggers.apply(this,i(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,r;return t=e,(r=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var r=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",r,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var r=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(r),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(e)}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(a);return Array.apply(void 0,i(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var r=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));r.length>0&&r[0].focus(),0===r.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var r=t.indexOf(document.activeElement);e.shiftKey&&0===r&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&r===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&n(t.prototype,r),e}(),l=null,u=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},f=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var r in t)u(r);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),r=i(document.querySelectorAll("[".concat(t.openTrigger,"]"))),n=function(e,t){var r=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===r[n]&&(r[n]=[]),r[n].push(e)})),r}(r,t.openTrigger);if(!0!==t.debugMode||!1!==f(r,n))for(var o in n){var a=n[o];t.targetModal=o,t.triggers=i(a),l=new s(t)}},show:function(e,t){var r=t||{};r.targetModal=e,!0===r.debugMode&&!1===u(e)||(l&&l.removeEventListeners(),(l=new s(r)).showModal())},close:function(e){e?l.closeModalById(e):l.closeModal()}});window.MicroModal=c;const d=c},607:(e,t,r)=>{"use strict";var n=r(561),i=r(650),o=r(942),a=r(539),s=r(950);i.default.init();var l=document.getElementById("glcanvas"),u=new n.GPGPU(null,l,(function(e){i.default.show("modal-2");var t=document.getElementById("glErrorMsg");t&&(t.innerHTML="Error: "+e);var r=document.getElementById("coverImg");r&&(r.style.display="block")})),f=u.initProgram("sim",o,[{name:"u_state",value:0,dataType:"INT"},{name:"u_pxSize",value:[1/l.clientWidth,1/l.clientHeight],dataType:"FLOAT"}]),c=u.initProgram("render",a,[{name:"u_state",value:0,dataType:"INT"}]),d=u.initProgram("interaction",s,[{name:"u_state",value:0,dataType:"INT"}]),h=u.initDataLayer("state",{width:l.clientWidth,height:l.clientHeight,type:"float16",numChannels:3},!0,2);function g(e){e.preventDefault();var t="scale(1)";document.body.style.webkitTransform=t,document.body.style.msTransform=t,document.body.style.transform=t}function v(){var e=l.clientWidth,t=l.clientHeight;h.resize(e,t),f.setUniform("u_pxSize",[1/e,1/t],"FLOAT"),u.onResize(l)}l.addEventListener("mousemove",(function(e){u.stepCircle(d,[e.clientX,e.clientY],10,[h],h)})),l.addEventListener("touchmove",(function(e){e.preventDefault();for(var t=0;t<e.touches.length;t++){var r=e.touches[t];u.stepCircle(d,[r.pageX,r.pageY],10,[h],h)}})),document.addEventListener("gesturestart",g),document.addEventListener("gesturechange",g),document.addEventListener("gestureend",g),v(),window.addEventListener("resize",v),window.requestAnimationFrame((function e(){u.stepNonBoundary(f,[h],h),u.step(c,[h]),window.requestAnimationFrame(e)}))},249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataLayer=void 0;var r=function(){function e(e,t,r,n,i,o){if(this.bufferIndex=0,this.buffers=[],this.name=e,this.gl=t,this.errorCallback=n,i<0||i%1!=0)throw new Error("Invalid numBuffers: "+i+" for DataLayer "+this.name+", must be positive integer.");this.numBuffers=i,this.width=r.width,this.height=r.height,this.glInternalFormat=r.glInternalFormat,this.glFormat=r.glFormat,this.glType=r.glType,this.writable=o,this.initBuffers(r.data)}return e.prototype.initBuffers=function(e){for(var t=this,r=t.numBuffers,n=t.gl,i=t.width,o=t.height,a=t.glInternalFormat,s=t.glFormat,l=t.glType,u=t.writable,f=t.errorCallback,c=0;c<r;c++){var d=n.createTexture();if(!d)return void f("Could not init texture for DataLayer "+this.name+": "+n.getError()+".");n.bindTexture(n.TEXTURE_2D,d),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);var h=n.NEAREST;n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,h),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,h),n.texImage2D(n.TEXTURE_2D,0,a,i,o,0,s,l,e||null);var g={texture:d};if(u){var v=n.createFramebuffer();if(!v)return void f("Could not init framebuffer for DataLayer "+this.name+": "+n.getError()+".");n.bindFramebuffer(n.FRAMEBUFFER,v),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,d,0);var m=n.checkFramebufferStatus(n.FRAMEBUFFER);m!=n.FRAMEBUFFER_COMPLETE&&f("Invalid status for framebuffer for DataLayer "+this.name+": "+m+"."),g.framebuffer=v}this.buffers.push(g)}},e.prototype.getCurrentStateTexture=function(){return this.buffers[this.bufferIndex].texture},e.prototype.getLastStateTexture=function(){if(1===this.numBuffers)throw new Error("Calling getLastState on DataLayer "+this.name+" with 1 buffer, no last state available.");return this.buffers[this.bufferIndex].texture},e.prototype.setAsRenderTarget=function(e){var t=this.gl;e&&(this.bufferIndex=(this.bufferIndex+1)%this.numBuffers);var r=this.buffers[this.bufferIndex].framebuffer;if(!r)throw new Error("DataLayer "+this.name+" is not writable.");t.bindFramebuffer(t.FRAMEBUFFER,r)},e.prototype.resize=function(e,t,r){this.destroyBuffers(),this.width=e,this.height=t,this.initBuffers(r)},e.prototype.destroyBuffers=function(){var e=this.gl,t=this.buffers;t.forEach((function(t){var r=t.framebuffer,n=t.texture;e.deleteTexture(n),r&&e.deleteFramebuffer(r),delete t.texture,delete t.framebuffer})),t.length=0},e.prototype.destroy=function(){this.destroyBuffers(),delete this.gl},e}();t.DataLayer=r},576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPGPU=void 0;for(var n=r(416),i=r(900),o=r(249),a=r(389),s=r(989),l=new Float32Array([-1,-1,1,-1,-1,1,1,1]),u=new Float32Array([-1,-1,1,-1,1,1,-1,1]),f=[0,0],c=0;c<=20;c++)f.push(Math.cos(2*Math.PI*c/20),Math.sin(2*Math.PI*c/20));var d=new Float32Array(f),h=function(){function e(e,t,r){void 0===r&&(r=function(e){throw new Error(e)}),this.extensions={},this.errorState=!1,this.shaders=[];var o=this;if(this.errorCallback=function(e){o.errorState||(o.errorState=!0,r&&r(e))},e||null!==(e=t.getContext("webgl2",{antialias:!1})||t.getContext("webgl",{antialias:!1}))){this.isWebGL2=!!e.HALF_FLOAT,this.isWebGL2?console.log("Using WebGL 2.0 context."):console.log("Using WebGL 1.0 context."),this.gl=e,this.isWebGL2?this.loadExtension("EXT_color_buffer_float"):this.loadExtension("OES_texture_half_float"),this.linearFilterEnabled=this.loadExtension("OES_texture_half_float_linear",!0),e.disable(e.DEPTH_TEST),e.pixelStorei(e.UNPACK_ALIGNMENT,1);var a=s.compileShader(e,this.errorCallback,n.default,e.VERTEX_SHADER);if(a){this.defaultVertexShader=a,this.passThroughProgram=this.initProgram("passThrough",i.default,[{name:"u_state",value:0,dataType:"INT"}]),this.quadPositionsBuffer=this.initVertexBuffer(l),this.boundaryPositionsBuffer=this.initVertexBuffer(u),this.circlePositionsBuffer=this.initVertexBuffer(d),e.bindBuffer(e.ARRAY_BUFFER,null),this.onResize(t);var f=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);console.log(f+" textures max.")}else this.errorCallback("Unable to initialize fullscreen quad vertex shader.")}else this.errorCallback("Unable to initialize WebGL context.")}return e.prototype.initVertexBuffer=function(e){var t=this.errorCallback,r=this.gl,n=r.createBuffer();if(n)return r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW),n;t("Unable to allocate gl buffer.")},e.prototype.loadExtension=function(e,t){void 0===t&&(t=!1);var r,n=this,i=n.extensions,o=n.gl,a=n.errorCallback;try{r=o.getExtension(e)}catch(e){}return r?(i[e]=r,console.log("Loaded extension: "+e+".")):console.warn("Unsupported "+(t?"optional ":"")+"extension: "+e+"."),r||t||a("Required extension unsupported by this device / browser: "+e+"."),!!r},e.prototype.initProgram=function(e,t,r){var n=this.gl,i=this.errorCallback;return this.defaultVertexShader,new a.GPUProgram(e,n,i,this.defaultVertexShader,t,r)},e.prototype.glTextureParameters=function(e,t,r){var n,i,o,a,s=this,l=s.gl,u=s.isWebGL2,f=s.extensions;if(u){switch(a=e,3===e&&r&&(a=4),a){case 1:i=l.RED;break;case 2:i=l.RG;break;case 3:i=l.RGB;break;case 4:i=l.RGBA}switch(t){case"float16":switch(n=l.HALF_FLOAT,a){case 1:o=l.R16F;break;case 2:o=l.RG16F;break;case 3:o=l.RGB16F;break;case 4:o=l.RGBA16F}break;case"uint8":switch(n=l.UNSIGNED_BYTE,a){case 1:o=l.R8;break;case 2:o=l.RG8;break;case 3:o=l.RGB8;break;case 4:o=l.RGBA8}}}else{switch(e){case 1:case 2:case 3:i=l.RGB,o=l.RGB,a=3;break;case 4:i=l.RGBA,o=l.RGBA,a=4}switch(t){case"float16":n=f.OES_texture_half_float.HALF_FLOAT_OES;break;case"uint8":n=l.UNSIGNED_BYTE}}if(void 0===n||void 0===i||void 0===o)throw new Error("Invalid type: "+t+" or numChannels "+e+".");if(void 0===a||e<1||e>4)throw new Error("Invalid numChannels: "+e+".");return{glFormat:i,glInternalFormat:o,glType:n,glNumChannels:a}},e.prototype.initDataLayer=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=1);var i=this.gl,a=this.errorCallback,s=t.data,l=t.width,u=t.height,f=t.type,c=t.numChannels;if(s&&s.length!==l*u*c)throw new Error("Invalid data array of size "+s.length+" for DataLayer "+e+" of dimensions "+l+" x "+u+" x "+c+".");var d=this.glTextureParameters(c,f,r),h=d.glFormat,g=d.glInternalFormat,v=d.glNumChannels,m=d.glType,p=s;if(s&&c!==v){var b=l*u,y=void 0;switch(f){case"uint8":y=new Uint8Array(l*u*v);break;default:throw new Error("Error initing "+e+".  Unsupported type "+f+" for GPGPU.initDataLayer.")}for(var _=0;_<b;_++)for(var T=0;T<c;T++)y[v*_+T]=s[_*c+T];p=y}return new o.DataLayer(e,i,{width:l,height:u,glInternalFormat:g,glFormat:h,glType:m,data:p},a,n,r)},e.prototype.onResize=function(e){var t=this.gl,r=e.clientWidth,n=e.clientHeight;t.viewport(0,0,r,n),e.width=r,e.height=n,this.width=r,this.height=n},e.prototype.drawSetup=function(e,t,r,n){var i=this.gl;if(e.program){var o=r.map((function(e){return e.getCurrentStateTexture()}));this.setOutput(t,r,n),i.useProgram(e.program);for(var a=0;a<r.length;a++)i.activeTexture(i.TEXTURE0+a),i.bindTexture(i.TEXTURE_2D,o[a])}},e.prototype.setOutput=function(e,t,r){var n=this.gl,i=this.passThroughProgram;if(r){if(t.indexOf(r)>-1){if(1===r.numBuffers)throw new Error("\n\t\t\t\tCannot use same buffer for input and output of a program.\n\t\t\t\tTry increasing the number of buffers in your output layer to at least 2 so you\n\t\t\t\tcan render to nextState using currentState as an input.");return e?void r.setAsRenderTarget(!0):(this.step(i,[r],r),void r.setAsRenderTarget(!1))}r.setAsRenderTarget(!1)}else n.bindFramebuffer(n.FRAMEBUFFER,null)},e.prototype.step=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,o=n.errorState,a=n.quadPositionsBuffer;if(!o){this.drawSetup(e,!0,t,r),e.setUniform("u_scale",[1,1],"FLOAT"),e.setUniform("u_translation",[0,0],"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,a);var s=i.getAttribLocation(e.program,"aPosition");i.vertexAttribPointer(s,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(s),i.drawArrays(i.TRIANGLE_STRIP,0,4)}},e.prototype.stepBoundary=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,o=n.errorState,a=n.boundaryPositionsBuffer,s=n.width,l=n.height;if(!o){this.drawSetup(e,!1,t,r);var u=[1/s,1/l];e.setUniform("u_scale",[1-u[0],1-u[1]],"FLOAT"),e.setUniform("u_translation",u,"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,a);var f=i.getAttribLocation(e.program,"aPosition");i.vertexAttribPointer(f,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(f),i.drawArrays(i.LINE_LOOP,0,4)}},e.prototype.stepNonBoundary=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,o=n.errorState,a=n.quadPositionsBuffer,s=n.width,l=n.height;if(!o){this.drawSetup(e,!1,t,r);var u=[1/s,1/l];e.setUniform("u_scale",[1-2*u[0],1-2*u[1]],"FLOAT"),e.setUniform("u_translation",u,"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,a);var f=i.getAttribLocation(e.program,"aPosition");i.vertexAttribPointer(f,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(f),i.drawArrays(i.TRIANGLE_STRIP,0,4)}},e.prototype.stepCircle=function(e,t,r,n,i){void 0===n&&(n=[]);var o=this,a=o.gl,s=o.errorState,l=o.circlePositionsBuffer,u=o.width,f=o.height;if(!s){this.drawSetup(e,!1,n,i),e.setUniform("u_scale",[r/u,r/f],"FLOAT"),e.setUniform("u_translation",[2*t[0]/u-1,-2*t[1]/f+1],"FLOAT"),a.bindBuffer(a.ARRAY_BUFFER,l);var c=a.getAttribLocation(e.program,"aPosition");a.vertexAttribPointer(c,2,a.FLOAT,!1,0,0),a.enableVertexAttribArray(c),a.drawArrays(a.TRIANGLE_FAN,0,22)}},e.prototype.reset=function(){},e}();t.GPGPU=h},389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPUProgram=void 0;var n=r(647),i=r(989),o=function(){function e(e,t,r,n,o,a){var s=this;this.uniforms={},this.shaders=[],this.name=e,this.gl=t,this.errorCallback=r;var l=t.createProgram();if(l){var u=i.compileShader(t,r,o,t.FRAGMENT_SHADER);u?(this.shaders.push(u),t.attachShader(l,n),t.attachShader(l,u),t.linkProgram(l),t.getProgramParameter(l,t.LINK_STATUS)?(this.program=l,null==a||a.forEach((function(e){var t=e.name,r=e.value,n=e.dataType;s.setUniform(t,r,n)}))):r("Program "+e+" failed to link: "+t.getProgramInfoLog(l))):r("Unable to compile fragment shader for program "+e+".")}else r("Unable to init gl program: "+e+".")}return e.prototype.uniformTypeForValue=function(e,t){if(t===n.FLOAT_TYPE){if(!isNaN(e)||1===e.length)return n.FLOAT_1D_UNIFORM;if(2===e.length)return n.FLOAT_2D_UNIFORM;if(3===e.length)return n.FLOAT_3D_UNIFORM;if(4===e.length)return n.FLOAT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}if(t===n.INT_TYPE){if(!isNaN(e)||1===e.length)return n.INT_1D_UNIFORM;if(2===e.length)return n.INT_2D_UNIFORM;if(3===e.length)return n.INT_3D_UNIFORM;if(4===e.length)return n.INT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}throw new Error("Invalid uniform data type: "+t)},e.prototype.setUniform=function(e,t,r){var i=this,o=i.gl,a=i.errorCallback,s=i.program,l=i.uniforms;if(s){o.useProgram(s);var u=this.uniformTypeForValue(t,r);if(!l[e]){var f=o.getUniformLocation(s,e);if(!f)return void a("Could not init uniform "+e+".\nCheck that uniform is present in shader code, unused uniforms may be removed by compiler.\nAlso check that uniform type in shader code matches type "+u+".\nError code: "+o.getError()+".");l[e]={location:f,type:u}}var c=l[e];if(c.type!=u)throw new Error("Uniform "+e+" cannot change from type "+c.type+" to type "+u+".");var d=c.location;switch(u){case n.FLOAT_1D_UNIFORM:o.uniform1f(d,t);break;case n.FLOAT_2D_UNIFORM:o.uniform2fv(d,t);break;case n.FLOAT_3D_UNIFORM:o.uniform3fv(d,t);break;case n.FLOAT_4D_UNIFORM:o.uniform4fv(d,t);break;case n.INT_1D_UNIFORM:o.uniform1i(d,t);break;case n.INT_2D_UNIFORM:o.uniform2iv(d,t);break;case n.INT_3D_UNIFORM:o.uniform3iv(d,t);break;case n.INT_4D_UNIFORM:o.uniform4iv(d,t);break;default:throw new Error("Unknown uniform type: "+u+".")}}else a("Program not inited.")},e.prototype.destroy=function(){var e=this,t=e.gl,r=e.program,n=e.shaders;r&&t.deleteProgram(r);for(var i=0;i<n.length;i++)t.deleteShader(n[i]);n.length=0,delete this.gl,delete this.program},e}();t.GPUProgram=o},647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INT_TYPE=t.FLOAT_TYPE=t.INT_4D_UNIFORM=t.INT_3D_UNIFORM=t.INT_2D_UNIFORM=t.INT_1D_UNIFORM=t.FLOAT_4D_UNIFORM=t.FLOAT_3D_UNIFORM=t.FLOAT_2D_UNIFORM=t.FLOAT_1D_UNIFORM=void 0,t.FLOAT_1D_UNIFORM="1f",t.FLOAT_2D_UNIFORM="2f",t.FLOAT_3D_UNIFORM="3f",t.FLOAT_4D_UNIFORM="3f",t.INT_1D_UNIFORM="1i",t.INT_2D_UNIFORM="2i",t.INT_3D_UNIFORM="3i",t.INT_4D_UNIFORM="3i",t.FLOAT_TYPE="FLOAT",t.INT_TYPE="INT"},561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleColorFragShader=t.GPGPU=void 0;var n=r(576);Object.defineProperty(t,"GPGPU",{enumerable:!0,get:function(){return n.GPGPU}});var i=r(929);t.SingleColorFragShader=i.default},416:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nattribute vec2 aPosition;\n\nuniform vec2 u_scale;\nuniform vec2 u_translation;\n\nvarying vec2 vUV_local;\nvarying vec2 vUV;\n\nvoid main() {\n\t// Calculate UV coordinates of current rendered object.\n\tvUV_local = 0.5 * (aPosition + 1.0);\n\t// Apply transformations.\n\tvec2 position = u_scale * aPosition + u_translation;\n\t// Calculate a global uv for the viewport.\n\tvUV = 0.5 * (position + 1.0);\n\t// Calculate vertex position.\n\tgl_Position = vec4(position, 0, 1);\n}\n"},900:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\n\nvoid main() {\n\tgl_FragColor = texture2D(u_state, vUV);\n}"},929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nuniform vec3 u_color;\n\nvoid main() {\n\tgl_FragColor = vec4(u_color, 1);\n}"},989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileShader=void 0,t.compileShader=function(e,t,r,n){var i=e.createShader(n);return i?(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(t("Could not compile "+(n===e.FRAGMENT_SHADER?"fragment":"vertex")+"\n\t\t\t shader: "+e.getShaderInfoLog(i)),null)):(t("Unable to init gl shader."),null)}},950:e=>{e.exports="precision mediump float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\n\nvoid main() {\n\tvec2 currentState = texture2D(u_state, vUV).xy;\n\t// Add external force to current px.\n\tgl_FragColor = vec4(currentState, -5.0, 0);\n}"},539:e=>{e.exports="precision mediump float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\n\nvoid main() {\n\tfloat position = texture2D(u_state, vUV).r / 20.0 + 0.5;\n\tif (position > 1.0) position = 1.0;\n\tif (position < 0.0) position = 0.0;\n\n\tif (position < 0.5){\n\t\tposition *= 2.0;\n\t\t//position = 0 -> blue\n\t\t//position = 1 -> magenta\n\t\tgl_FragColor = vec4((255.0*position)/255.0,(179.0*(1.0-position))/255.0,(150.0-54.0*position)/255.0,1.0);\n\t} else {\n\t\tposition -= 0.5;\n\t\tposition *= 2.0;\n\t\t//position = 0 -> magenta\n\t\t//position = 1 -> white\n\t\tgl_FragColor = vec4((255.0-(10.0*position))/255.0,(223.0*position)/255.0,(106.0+(67.0*position))/255.0,1.0);\n\t}\n}"},942:e=>{e.exports="precision mediump float;\n\n#define K 2.0\n#define D 1.0\n#define DT 1.0\n#define MASS 10.0\n\nvarying vec2 vUV;\nuniform sampler2D u_state; // position, velocity, externalForces = r, g, b\nuniform vec2 u_pxSize;\n\nvoid main() {\n\n\tvec3 currentState = texture2D(u_state, vUV).xyz;\n\tfloat currentPosition = currentState.x;\n\tfloat currentVelocity = currentState.y;\n\tfloat fTotal = currentState.z;\n\n\t// Get interactions with N, S, E, W neighbors.\n\tfor (int i = -1; i <= 1; i += 2) {\n\t\tfor (int j = -1; j <= 1; j += 2) {\n\t\t\t// Calculate uv coordinate of neighbor px.\n\t\t\tvec2 neighborUV = vUV + vec2(u_pxSize.x * float(i), u_pxSize.y * float(j));\n\t\t\t// Apply spring damper constraint.\n\t\t\tvec2 neighborState = texture2D(u_state, neighborUV).xy;\n\t\t\tfloat deltaP =  neighborState.x - currentPosition;\n\t\t\tfloat deltaV = neighborState.y - currentVelocity;\n\t\t\tfTotal += K * deltaP + D * deltaV;\n\t\t}\n\t}\n\n\tfloat acceleration = fTotal / MASS;\n\tfloat velocity = acceleration * DT + currentVelocity;\n\tfloat position = velocity * DT + currentPosition;\n\n\tgl_FragColor = vec4(position, velocity, 0, 0);\n}"}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL21pY3JvbW9kYWwvZGlzdC9taWNyb21vZGFsLmVzLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L0RhdGFMYXllci5qcyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3QvR1BHUFUuanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L0dQVVByb2dyYW0uanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2tlcm5lbHMvRGVmYXVsdFZlcnRleFNoYWRlci5qcyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3Qva2VybmVscy9QYXNzVGhyb3VnaFNoYWRlci5qcyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3Qva2VybmVscy9TaW5nbGVDb2xvckZyYWdTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L3V0aWxzLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMva2VybmVscy9JbnRlcmFjdGlvblNoYWRlci5nbHNsIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMva2VybmVscy9SZW5kZXJTaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vc3JjL2tlcm5lbHMvU2ltU2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmcm9tIiwiX2l0ZXJhYmxlVG9BcnJheSIsIm8iLCJtaW5MZW4iLCJuIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwibGVuIiwiYXJyMiIsIkZPQ1VTQUJMRV9FTEVNRU5UUyIsIk1vZGFsIiwiYWN0aXZlTW9kYWwiLCJ2YWxpZGF0ZU1vZGFsUHJlc2VuY2UiLCJ2YWxpZGF0ZUFyZ3MiLCJNaWNyb01vZGFsIiwiX3JlZiIsInRhcmdldE1vZGFsIiwiX3JlZiR0cmlnZ2VycyIsInRyaWdnZXJzIiwiX3JlZiRvblNob3ciLCJvblNob3ciLCJfcmVmJG9uQ2xvc2UiLCJvbkNsb3NlIiwiX3JlZiRvcGVuVHJpZ2dlciIsIm9wZW5UcmlnZ2VyIiwiX3JlZiRjbG9zZVRyaWdnZXIiLCJjbG9zZVRyaWdnZXIiLCJfcmVmJG9wZW5DbGFzcyIsIm9wZW5DbGFzcyIsIl9yZWYkZGlzYWJsZVNjcm9sbCIsImRpc2FibGVTY3JvbGwiLCJfcmVmJGRpc2FibGVGb2N1cyIsImRpc2FibGVGb2N1cyIsIl9yZWYkYXdhaXRDbG9zZUFuaW1hdCIsImF3YWl0Q2xvc2VBbmltYXRpb24iLCJfcmVmJGF3YWl0T3BlbkFuaW1hdGkiLCJhd2FpdE9wZW5BbmltYXRpb24iLCJfcmVmJGRlYnVnTW9kZSIsImRlYnVnTW9kZSIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwibW9kYWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29uZmlnIiwicmVnaXN0ZXJUcmlnZ2VycyIsImFwcGx5Iiwib25DbGljayIsImJpbmQiLCJvbktleWRvd24iLCJwcm90b1Byb3BzIiwidmFsdWUiLCJfdGhpcyIsIl9sZW4iLCJhcmd1bWVudHMiLCJfa2V5IiwiZmlsdGVyIiwiQm9vbGVhbiIsImZvckVhY2giLCJ0cmlnZ2VyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwic2hvd01vZGFsIiwiX3RoaXMyIiwidW5kZWZpbmVkIiwiYWN0aXZlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFkZCIsInNjcm9sbEJlaGF2aW91ciIsImFkZEV2ZW50TGlzdGVuZXJzIiwiaGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRGb2N1c1RvRmlyc3ROb2RlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJmb2N1cyIsInJlbW92ZSIsImNsb3NlTW9kYWwiLCJ0b2dnbGUiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsImFzc2lnbiIsInN0eWxlIiwib3ZlcmZsb3ciLCJoYXNBdHRyaWJ1dGUiLCJrZXlDb2RlIiwicmV0YWluRm9jdXMiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdGhpczMiLCJmb2N1c2FibGVOb2RlcyIsImdldEZvY3VzYWJsZU5vZGVzIiwibm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cyIsIm5vZGUiLCJvZmZzZXRQYXJlbnQiLCJjb250YWlucyIsImZvY3VzZWRJdGVtSW5kZXgiLCJpbmRleE9mIiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImlkIiwiY29uc29sZSIsIndhcm4iLCJjb25jYXQiLCJ0cmlnZ2VyTWFwIiwidmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UiLCJpbml0Iiwib3B0aW9ucyIsInRyaWdnZXJBdHRyIiwiYXR0cmlidXRlcyIsInB1c2giLCJnZW5lcmF0ZVRyaWdnZXJNYXAiLCJzaG93IiwiY2xvc2UiLCJjbG9zZU1vZGFsQnlJZCIsIndpbmRvdyIsInNpbVNoYWRlclNvdXJjZSIsInJlbmRlclNoYWRlclNvdXJjZSIsImludGVyYWN0aW9uU2hhZGVyU291cmNlIiwiY2FudmFzIiwiZ3BncHUiLCJHUEdQVSIsIm1lc3NhZ2UiLCJlcnJvckVsIiwiaW5uZXJIVE1MIiwiY292ZXJJbWciLCJkaXNwbGF5Iiwic2ltIiwiaW5pdFByb2dyYW0iLCJkYXRhVHlwZSIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicmVuZGVyIiwiaW50ZXJhY3Rpb24iLCJzdGF0ZSIsImluaXREYXRhTGF5ZXIiLCJ3aWR0aCIsImhlaWdodCIsInR5cGUiLCJudW1DaGFubmVscyIsImRpc2FibGVab29tIiwiZSIsInNjYWxlIiwid2Via2l0VHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJvblJlc2l6ZSIsInJlc2l6ZSIsInNldFVuaWZvcm0iLCJzdGVwQ2lyY2xlIiwiY2xpZW50WCIsImNsaWVudFkiLCJ0b3VjaGVzIiwidG91Y2giLCJwYWdlWCIsInBhZ2VZIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic3RlcCIsInN0ZXBOb25Cb3VuZGFyeSIsImV4cG9ydHMiLCJEYXRhTGF5ZXIiLCJnbCIsImVycm9yQ2FsbGJhY2siLCJudW1CdWZmZXJzIiwiYnVmZmVySW5kZXgiLCJidWZmZXJzIiwiRXJyb3IiLCJnbEludGVybmFsRm9ybWF0IiwiZ2xGb3JtYXQiLCJnbFR5cGUiLCJpbml0QnVmZmVycyIsImRhdGEiLCJfYSIsInRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwiZ2V0RXJyb3IiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9XUkFQX1MiLCJDTEFNUF9UT19FREdFIiwiVEVYVFVSRV9XUkFQX1QiLCJORUFSRVNUIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwidGV4SW1hZ2UyRCIsImJ1ZmZlciIsImZyYW1lYnVmZmVyIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJzdGF0dXNfMSIsImNoZWNrRnJhbWVidWZmZXJTdGF0dXMiLCJGUkFNRUJVRkZFUl9DT01QTEVURSIsImdldEN1cnJlbnRTdGF0ZVRleHR1cmUiLCJnZXRMYXN0U3RhdGVUZXh0dXJlIiwic2V0QXNSZW5kZXJUYXJnZXQiLCJpbmNyZW1lbnRCdWZmZXJJbmRleCIsImRlc3Ryb3lCdWZmZXJzIiwiZGVsZXRlVGV4dHVyZSIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZGVzdHJveSIsIkRlZmF1bHRWZXJ0ZXhTaGFkZXJfMSIsIlBhc3NUaHJvdWdoU2hhZGVyXzEiLCJEYXRhTGF5ZXJfMSIsIkdQVVByb2dyYW1fMSIsInV0aWxzXzEiLCJmc1F1YWRQb3NpdGlvbnMiLCJGbG9hdDMyQXJyYXkiLCJib3VuZGFyeVBvc2l0aW9ucyIsInVuaXRDaXJjbGVQb2ludHMiLCJNYXRoIiwiY29zIiwiUEkiLCJzaW4iLCJjaXJjbGVQb3NpdGlvbnMiLCJjYW52YXNFbCIsImV4dGVuc2lvbnMiLCJlcnJvclN0YXRlIiwic2hhZGVycyIsInNlbGYiLCJnZXRDb250ZXh0IiwiYW50aWFsaWFzIiwiaXNXZWJHTDIiLCJIQUxGX0ZMT0FUIiwibG9nIiwibG9hZEV4dGVuc2lvbiIsImxpbmVhckZpbHRlckVuYWJsZWQiLCJkaXNhYmxlIiwiREVQVEhfVEVTVCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX0FMSUdOTUVOVCIsImRlZmF1bHRWZXJ0ZXhTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiZGVmYXVsdCIsIlZFUlRFWF9TSEFERVIiLCJwYXNzVGhyb3VnaFByb2dyYW0iLCJxdWFkUG9zaXRpb25zQnVmZmVyIiwiaW5pdFZlcnRleEJ1ZmZlciIsImJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyIiwiY2lyY2xlUG9zaXRpb25zQnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIm1heFRleHR1cmVzSW5GcmFnbWVudFNoYWRlciIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiY3JlYXRlQnVmZmVyIiwiYnVmZmVyRGF0YSIsIlNUQVRJQ19EUkFXIiwiZXh0ZW5zaW9uIiwib3B0aW9uYWwiLCJleHQiLCJnZXRFeHRlbnNpb24iLCJmcmFnbWVudFNoYWRlclNvdXJjZSIsInVuaWZvcm1zIiwiR1BVUHJvZ3JhbSIsImdsVGV4dHVyZVBhcmFtZXRlcnMiLCJnbE51bUNoYW5uZWxzIiwiUkVEIiwiUkciLCJSR0IiLCJSR0JBIiwiUjE2RiIsIlJHMTZGIiwiUkdCMTZGIiwiUkdCQTE2RiIsIlVOU0lHTkVEX0JZVEUiLCJSOCIsIlJHOCIsIlJHQjgiLCJSR0JBOCIsIkhBTEZfRkxPQVRfT0VTIiwiX2IiLCJkYXRhUmVzaXplZCIsImltYWdlU2l6ZSIsIm5ld0FycmF5IiwiVWludDhBcnJheSIsImoiLCJ2aWV3cG9ydCIsImRyYXdTZXR1cCIsInByb2dyYW0iLCJmdWxsc2NyZWVuUmVuZGVyIiwiaW5wdXRMYXllcnMiLCJvdXRwdXRMYXllciIsImlucHV0VGV4dHVyZXMiLCJtYXAiLCJsYXllciIsInNldE91dHB1dCIsInVzZVByb2dyYW0iLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJwb3NpdGlvbkxvY2F0aW9uIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImRyYXdBcnJheXMiLCJUUklBTkdMRV9TVFJJUCIsInN0ZXBCb3VuZGFyeSIsIm9uZVB4IiwiTElORV9MT09QIiwicG9zaXRpb24iLCJyYWRpdXMiLCJUUklBTkdMRV9GQU4iLCJOVU1fU0VHTUVOVFNfQ0lSQ0xFIiwicmVzZXQiLCJjb25zdGFudHNfMSIsInZlcnRleFNoYWRlciIsImNyZWF0ZVByb2dyYW0iLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwidW5pZm9ybSIsImdldFByb2dyYW1JbmZvTG9nIiwidW5pZm9ybVR5cGVGb3JWYWx1ZSIsIkZMT0FUX1RZUEUiLCJpc05hTiIsIkZMT0FUXzFEX1VOSUZPUk0iLCJGTE9BVF8yRF9VTklGT1JNIiwiRkxPQVRfM0RfVU5JRk9STSIsIkZMT0FUXzREX1VOSUZPUk0iLCJJTlRfVFlQRSIsIklOVF8xRF9VTklGT1JNIiwiSU5UXzJEX1VOSUZPUk0iLCJJTlRfM0RfVU5JRk9STSIsIklOVF80RF9VTklGT1JNIiwidW5pZm9ybU5hbWUiLCJsb2NhdGlvbl8xIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwibG9jYXRpb24iLCJ1bmlmb3JtMWYiLCJ1bmlmb3JtMmZ2IiwidW5pZm9ybTNmdiIsInVuaWZvcm00ZnYiLCJ1bmlmb3JtMWkiLCJ1bmlmb3JtMml2IiwidW5pZm9ybTNpdiIsInVuaWZvcm00aXYiLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiU2luZ2xlQ29sb3JGcmFnU2hhZGVyIiwiR1BHUFVfMSIsImdldCIsIlNpbmdsZUNvbG9yRnJhZ1NoYWRlcl8xIiwic2hhZGVyU291cmNlIiwic2hhZGVyVHlwZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsInIiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6IndDQU1BLFNBQVNBLEVBQWtCQyxFQUFRQyxHQUNqQyxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUNyQyxJQUFJRSxFQUFhSCxFQUFNQyxHQUN2QkUsRUFBV0MsV0FBYUQsRUFBV0MsYUFBYyxFQUNqREQsRUFBV0UsY0FBZSxFQUN0QixVQUFXRixJQUFZQSxFQUFXRyxVQUFXLEdBQ2pEQyxPQUFPQyxlQUFlVCxFQUFRSSxFQUFXTSxJQUFLTixJQVVsRCxTQUFTTyxFQUFtQkMsR0FDMUIsT0FHRixTQUE0QkEsR0FDMUIsR0FBSUMsTUFBTUMsUUFBUUYsR0FBTSxPQUFPRyxFQUFrQkgsR0FKMUNJLENBQW1CSixJQU81QixTQUEwQkssR0FDeEIsR0FBc0Isb0JBQVhDLFFBQTBCQSxPQUFPQyxZQUFZWCxPQUFPUyxHQUFPLE9BQU9KLE1BQU1PLEtBQUtILEdBUnRESSxDQUFpQlQsSUFXckQsU0FBcUNVLEVBQUdDLEdBQ3RDLEdBQUtELEVBQUwsQ0FDQSxHQUFpQixpQkFBTkEsRUFBZ0Is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MlgsYUFDMUNyWSxPQUFPQyxlQUFlb0wsRUFBUzNLLE9BQU8yWCxZQUFhLENBQUU1VCxNQUFPLFdBRTdEekUsT0FBT0MsZUFBZW9MLEVBQVMsYUFBYyxDQUFFNUcsT0FBTyxLQ0h2RG1ULEVBQW9CLE0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obik7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG52YXIgTWljcm9Nb2RhbCA9IGZ1bmN0aW9uICgpIHtcblxuICB2YXIgRk9DVVNBQkxFX0VMRU1FTlRTID0gWydhW2hyZWZdJywgJ2FyZWFbaHJlZl0nLCAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pOm5vdChbdHlwZT1cImhpZGRlblwiXSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ3RleHRhcmVhOm5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnaWZyYW1lJywgJ29iamVjdCcsICdlbWJlZCcsICdbY29udGVudGVkaXRhYmxlXScsICdbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXhePVwiLVwiXSknXTtcblxuICB2YXIgTW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGFsKF9yZWYpIHtcbiAgICAgIHZhciB0YXJnZXRNb2RhbCA9IF9yZWYudGFyZ2V0TW9kYWwsXG4gICAgICAgICAgX3JlZiR0cmlnZ2VycyA9IF9yZWYudHJpZ2dlcnMsXG4gICAgICAgICAgdHJpZ2dlcnMgPSBfcmVmJHRyaWdnZXJzID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkdHJpZ2dlcnMsXG4gICAgICAgICAgX3JlZiRvblNob3cgPSBfcmVmLm9uU2hvdyxcbiAgICAgICAgICBvblNob3cgPSBfcmVmJG9uU2hvdyA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkge30gOiBfcmVmJG9uU2hvdyxcbiAgICAgICAgICBfcmVmJG9uQ2xvc2UgPSBfcmVmLm9uQ2xvc2UsXG4gICAgICAgICAgb25DbG9zZSA9IF9yZWYkb25DbG9zZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkge30gOiBfcmVmJG9uQ2xvc2UsXG4gICAgICAgICAgX3JlZiRvcGVuVHJpZ2dlciA9IF9yZWYub3BlblRyaWdnZXIsXG4gICAgICAgICAgb3BlblRyaWdnZXIgPSBfcmVmJG9wZW5UcmlnZ2VyID09PSB2b2lkIDAgPyAnZGF0YS1taWNyb21vZGFsLXRyaWdnZXInIDogX3JlZiRvcGVuVHJpZ2dlcixcbiAgICAgICAgICBfcmVmJGNsb3NlVHJpZ2dlciA9IF9yZWYuY2xvc2VUcmlnZ2VyLFxuICAgICAgICAgIGNsb3NlVHJpZ2dlciA9IF9yZWYkY2xvc2VUcmlnZ2VyID09PSB2b2lkIDAgPyAnZGF0YS1taWNyb21vZGFsLWNsb3NlJyA6IF9yZWYkY2xvc2VUcmlnZ2VyLFxuICAgICAgICAgIF9yZWYkb3BlbkNsYXNzID0gX3JlZi5vcGVuQ2xhc3MsXG4gICAgICAgICAgb3BlbkNsYXNzID0gX3JlZiRvcGVuQ2xhc3MgPT09IHZvaWQgMCA/ICdpcy1vcGVuJyA6IF9yZWYkb3BlbkNsYXNzLFxuICAgICAgICAgIF9yZWYkZGlzYWJsZVNjcm9sbCA9IF9yZWYuZGlzYWJsZVNjcm9sbCxcbiAgICAgICAgICBkaXNhYmxlU2Nyb2xsID0gX3JlZiRkaXNhYmxlU2Nyb2xsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZGlzYWJsZVNjcm9sbCxcbiAgICAgICAgICBfcmVmJGRpc2FibGVGb2N1cyA9IF9yZWYuZGlzYWJsZUZvY3VzLFxuICAgICAgICAgIGRpc2FibGVGb2N1cyA9IF9yZWYkZGlzYWJsZUZvY3VzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZGlzYWJsZUZvY3VzLFxuICAgICAgICAgIF9yZWYkYXdhaXRDbG9zZUFuaW1hdCA9IF9yZWYuYXdhaXRDbG9zZUFuaW1hdGlvbixcbiAgICAgICAgICBhd2FpdENsb3NlQW5pbWF0aW9uID0gX3JlZiRhd2FpdENsb3NlQW5pbWF0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkYXdhaXRDbG9zZUFuaW1hdCxcbiAgICAgICAgICBfcmVmJGF3YWl0T3BlbkFuaW1hdGkgPSBfcmVmLmF3YWl0T3BlbkFuaW1hdGlvbixcbiAgICAgICAgICBhd2FpdE9wZW5BbmltYXRpb24gPSBfcmVmJGF3YWl0T3BlbkFuaW1hdGkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRhd2FpdE9wZW5BbmltYXRpLFxuICAgICAgICAgIF9yZWYkZGVidWdNb2RlID0gX3JlZi5kZWJ1Z01vZGUsXG4gICAgICAgICAgZGVidWdNb2RlID0gX3JlZiRkZWJ1Z01vZGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRkZWJ1Z01vZGU7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNb2RhbCk7XG5cbiAgICAgIC8vIFNhdmUgYSByZWZlcmVuY2Ugb2YgdGhlIG1vZGFsXG4gICAgICB0aGlzLm1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0TW9kYWwpOyAvLyBTYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXNzZWQgY29uZmlnXG5cbiAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICBkZWJ1Z01vZGU6IGRlYnVnTW9kZSxcbiAgICAgICAgZGlzYWJsZVNjcm9sbDogZGlzYWJsZVNjcm9sbCxcbiAgICAgICAgb3BlblRyaWdnZXI6IG9wZW5UcmlnZ2VyLFxuICAgICAgICBjbG9zZVRyaWdnZXI6IGNsb3NlVHJpZ2dlcixcbiAgICAgICAgb3BlbkNsYXNzOiBvcGVuQ2xhc3MsXG4gICAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgICBvbkNsb3NlOiBvbkNsb3NlLFxuICAgICAgICBhd2FpdENsb3NlQW5pbWF0aW9uOiBhd2FpdENsb3NlQW5pbWF0aW9uLFxuICAgICAgICBhd2FpdE9wZW5BbmltYXRpb246IGF3YWl0T3BlbkFuaW1hdGlvbixcbiAgICAgICAgZGlzYWJsZUZvY3VzOiBkaXNhYmxlRm9jdXNcbiAgICAgIH07IC8vIFJlZ2lzdGVyIGNsaWNrIGV2ZW50cyBvbmx5IGlmIHByZSBiaW5kaW5nIGV2ZW50TGlzdGVuZXJzXG5cbiAgICAgIGlmICh0cmlnZ2Vycy5sZW5ndGggPiAwKSB0aGlzLnJlZ2lzdGVyVHJpZ2dlcnMuYXBwbHkodGhpcywgX3RvQ29uc3VtYWJsZUFycmF5KHRyaWdnZXJzKSk7IC8vIHByZSBiaW5kIGZ1bmN0aW9ucyBmb3IgZXZlbnQgbGlzdGVuZXJzXG5cbiAgICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5vbktleWRvd24gPSB0aGlzLm9uS2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb29wcyB0aHJvdWdoIGFsbCBvcGVuVHJpZ2dlcnMgYW5kIGJpbmRzIGNsaWNrIGV2ZW50XG4gICAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJzIFtBcnJheSBvZiBub2RlIGVsZW1lbnRzXVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhNb2RhbCwgW3tcbiAgICAgIGtleTogXCJyZWdpc3RlclRyaWdnZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJUcmlnZ2VycygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdHJpZ2dlcnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgdHJpZ2dlcnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICB0cmlnZ2Vycy5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zaG93TW9kYWwoZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2hvd01vZGFsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd01vZGFsKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG4gICAgICAgIHRoaXMuYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMubW9kYWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgICAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcub3BlbkNsYXNzKTtcbiAgICAgICAgdGhpcy5zY3JvbGxCZWhhdmlvdXIoJ2Rpc2FibGUnKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hd2FpdE9wZW5BbmltYXRpb24pIHtcbiAgICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICBfdGhpczIubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuXG4gICAgICAgICAgICBfdGhpczIuc2V0Rm9jdXNUb0ZpcnN0Tm9kZSgpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldEZvY3VzVG9GaXJzdE5vZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uZmlnLm9uU2hvdyh0aGlzLm1vZGFsLCB0aGlzLmFjdGl2ZUVsZW1lbnQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VNb2RhbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7XG4gICAgICAgIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgdmFyIG1vZGFsID0gdGhpcy5tb2RhbDtcbiAgICAgICAgdGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnNjcm9sbEJlaGF2aW91cignZW5hYmxlJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlRWxlbWVudCAmJiB0aGlzLmFjdGl2ZUVsZW1lbnQuZm9jdXMpIHtcbiAgICAgICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uZmlnLm9uQ2xvc2UodGhpcy5tb2RhbCwgdGhpcy5hY3RpdmVFbGVtZW50LCBldmVudCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF3YWl0Q2xvc2VBbmltYXRpb24pIHtcbiAgICAgICAgICB2YXIgb3BlbkNsYXNzID0gdGhpcy5jb25maWcub3BlbkNsYXNzOyAvLyA8LSBvbGQgc2Nob29sIGZ0d1xuXG4gICAgICAgICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShvcGVuQ2xhc3MpO1xuICAgICAgICAgICAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLm9wZW5DbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VNb2RhbEJ5SWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZU1vZGFsQnlJZCh0YXJnZXRNb2RhbCkge1xuICAgICAgICB0aGlzLm1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0TW9kYWwpO1xuICAgICAgICBpZiAodGhpcy5tb2RhbCkgdGhpcy5jbG9zZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNjcm9sbEJlaGF2aW91clwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbEJlaGF2aW91cih0b2dnbGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5kaXNhYmxlU2Nyb2xsKSByZXR1cm47XG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gICAgICAgIHN3aXRjaCAodG9nZ2xlKSB7XG4gICAgICAgICAgY2FzZSAnZW5hYmxlJzpcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYm9keS5zdHlsZSwge1xuICAgICAgICAgICAgICBvdmVyZmxvdzogJydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdkaXNhYmxlJzpcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYm9keS5zdHlsZSwge1xuICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRkRXZlbnRMaXN0ZW5lcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5ZG93bik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbW92ZUV2ZW50TGlzdGVuZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25DbGljayk7XG4gICAgICAgIHRoaXMubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleWRvd24pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvbkNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lmhhc0F0dHJpYnV0ZSh0aGlzLmNvbmZpZy5jbG9zZVRyaWdnZXIpKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvbktleWRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbktleWRvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDI3KSB0aGlzLmNsb3NlTW9kYWwoZXZlbnQpOyAvLyBlc2NcblxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gOSkgdGhpcy5yZXRhaW5Gb2N1cyhldmVudCk7IC8vIHRhYlxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRGb2N1c2FibGVOb2Rlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZvY3VzYWJsZU5vZGVzKCkge1xuICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoRk9DVVNBQkxFX0VMRU1FTlRTKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KG5vZGVzKSk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRyaWVzIHRvIHNldCBmb2N1cyBvbiBhIG5vZGUgd2hpY2ggaXMgbm90IGEgY2xvc2UgdHJpZ2dlclxuICAgICAgICogaWYgbm8gb3RoZXIgbm9kZXMgZXhpc3QgdGhlbiBmb2N1c2VzIG9uIGZpcnN0IGNsb3NlIHRyaWdnZXJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInNldEZvY3VzVG9GaXJzdE5vZGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGb2N1c1RvRmlyc3ROb2RlKCkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuZGlzYWJsZUZvY3VzKSByZXR1cm47XG4gICAgICAgIHZhciBmb2N1c2FibGVOb2RlcyA9IHRoaXMuZ2V0Rm9jdXNhYmxlTm9kZXMoKTsgLy8gbm8gZm9jdXNhYmxlIG5vZGVzXG5cbiAgICAgICAgaWYgKGZvY3VzYWJsZU5vZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvLyByZW1vdmUgbm9kZXMgb24gd2hvc2UgY2xpY2ssIHRoZSBtb2RhbCBjbG9zZXNcbiAgICAgICAgLy8gY291bGQgbm90IHRoaW5rIG9mIGEgYmV0dGVyIG5hbWUgOihcblxuICAgICAgICB2YXIgbm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cyA9IGZvY3VzYWJsZU5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiAhbm9kZS5oYXNBdHRyaWJ1dGUoX3RoaXMzLmNvbmZpZy5jbG9zZVRyaWdnZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5vZGVzV2hpY2hBcmVOb3RDbG9zZVRhcmdldHMubGVuZ3RoID4gMCkgbm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0c1swXS5mb2N1cygpO1xuICAgICAgICBpZiAobm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cy5sZW5ndGggPT09IDApIGZvY3VzYWJsZU5vZGVzWzBdLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJldGFpbkZvY3VzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmV0YWluRm9jdXMoZXZlbnQpIHtcbiAgICAgICAgdmFyIGZvY3VzYWJsZU5vZGVzID0gdGhpcy5nZXRGb2N1c2FibGVOb2RlcygpOyAvLyBubyBmb2N1c2FibGUgbm9kZXNcblxuICAgICAgICBpZiAoZm9jdXNhYmxlTm9kZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaWx0ZXJzIG5vZGVzIHdoaWNoIGFyZSBoaWRkZW4gdG8gcHJldmVudFxuICAgICAgICAgKiBmb2N1cyBsZWFrIG91dHNpZGUgbW9kYWxcbiAgICAgICAgICovXG5cbiAgICAgICAgZm9jdXNhYmxlTm9kZXMgPSBmb2N1c2FibGVOb2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5vZmZzZXRQYXJlbnQgIT09IG51bGw7XG4gICAgICAgIH0pOyAvLyBpZiBkaXNhYmxlRm9jdXMgaXMgdHJ1ZVxuXG4gICAgICAgIGlmICghdGhpcy5tb2RhbC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgIGZvY3VzYWJsZU5vZGVzWzBdLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGZvY3VzZWRJdGVtSW5kZXggPSBmb2N1c2FibGVOb2Rlcy5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIGZvY3VzZWRJdGVtSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIGZvY3VzYWJsZU5vZGVzW2ZvY3VzYWJsZU5vZGVzLmxlbmd0aCAtIDFdLmZvY3VzKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZXZlbnQuc2hpZnRLZXkgJiYgZm9jdXNhYmxlTm9kZXMubGVuZ3RoID4gMCAmJiBmb2N1c2VkSXRlbUluZGV4ID09PSBmb2N1c2FibGVOb2Rlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBmb2N1c2FibGVOb2Rlc1swXS5mb2N1cygpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTW9kYWw7XG4gIH0oKTtcbiAgLyoqXG4gICAqIE1vZGFsIHByb3RvdHlwZSBlbmRzLlxuICAgKiBIZXJlIG9uIGNvZGUgaXMgcmVzcG9uc2libGUgZm9yIGRldGVjdGluZyBhbmRcbiAgICogYXV0byBiaW5kaW5nIGV2ZW50IGhhbmRsZXJzIG9uIG1vZGFsIHRyaWdnZXJzXG4gICAqL1xuICAvLyBLZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBvcGVuZWQgbW9kYWxcblxuXG4gIHZhciBhY3RpdmVNb2RhbCA9IG51bGw7XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYW4gYXNzb2NpYXRpdmUgYXJyYXkgb2YgbW9kYWxzIGFuZCBpdCdzXG4gICAqIHJlc3BlY3RpdmUgdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJzICAgICBBbiBhcnJheSBvZiBhbGwgdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0cmlnZ2VyQXR0ciBUaGUgZGF0YS1hdHRyaWJ1dGUgd2hpY2ggdHJpZ2dlcnMgdGhlIG1vZHVsZVxuICAgKiBAcmV0dXJuIHthcnJheX1cbiAgICovXG5cbiAgdmFyIGdlbmVyYXRlVHJpZ2dlck1hcCA9IGZ1bmN0aW9uIGdlbmVyYXRlVHJpZ2dlck1hcCh0cmlnZ2VycywgdHJpZ2dlckF0dHIpIHtcbiAgICB2YXIgdHJpZ2dlck1hcCA9IFtdO1xuICAgIHRyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgIHZhciB0YXJnZXRNb2RhbCA9IHRyaWdnZXIuYXR0cmlidXRlc1t0cmlnZ2VyQXR0cl0udmFsdWU7XG4gICAgICBpZiAodHJpZ2dlck1hcFt0YXJnZXRNb2RhbF0gPT09IHVuZGVmaW5lZCkgdHJpZ2dlck1hcFt0YXJnZXRNb2RhbF0gPSBbXTtcbiAgICAgIHRyaWdnZXJNYXBbdGFyZ2V0TW9kYWxdLnB1c2godHJpZ2dlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRyaWdnZXJNYXA7XG4gIH07XG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgd2hldGhlciBhIG1vZGFsIG9mIHRoZSBnaXZlbiBpZCBleGlzdHNcbiAgICogaW4gdGhlIERPTVxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGlkICBUaGUgaWQgb2YgdGhlIG1vZGFsXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIHZhbGlkYXRlTW9kYWxQcmVzZW5jZSA9IGZ1bmN0aW9uIHZhbGlkYXRlTW9kYWxQcmVzZW5jZShpZCkge1xuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJNaWNyb01vZGFsOiBcXHUyNzU3U2VlbXMgbGlrZSB5b3UgaGF2ZSBtaXNzZWQgJWMnXCIuY29uY2F0KGlkLCBcIidcIiksICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsICdJRCBzb21ld2hlcmUgaW4geW91ciBjb2RlLiBSZWZlciBleGFtcGxlIGJlbG93IHRvIHJlc29sdmUgaXQuJyk7XG4gICAgICBjb25zb2xlLndhcm4oXCIlY0V4YW1wbGU6XCIsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsIFwiPGRpdiBjbGFzcz1cXFwibW9kYWxcXFwiIGlkPVxcXCJcIi5jb25jYXQoaWQsIFwiXFxcIj48L2Rpdj5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBpZiB0aGVyZSBhcmUgbW9kYWwgdHJpZ2dlcnMgcHJlc2VudFxuICAgKiBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VycyBBbiBhcnJheSBvZiBkYXRhLXRyaWdnZXJzXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIHZhbGlkYXRlVHJpZ2dlclByZXNlbmNlID0gZnVuY3Rpb24gdmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UodHJpZ2dlcnMpIHtcbiAgICBpZiAodHJpZ2dlcnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk1pY3JvTW9kYWw6IFxcdTI3NTdQbGVhc2Ugc3BlY2lmeSBhdCBsZWFzdCBvbmUgJWMnbWljcm9tb2RhbC10cmlnZ2VyJ1wiLCAnYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtjb2xvcjogIzUwNTk2Yztmb250LXdlaWdodDogYm9sZDsnLCAnZGF0YSBhdHRyaWJ1dGUuJyk7XG4gICAgICBjb25zb2xlLndhcm4oXCIlY0V4YW1wbGU6XCIsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsIFwiPGEgaHJlZj1cXFwiI1xcXCIgZGF0YS1taWNyb21vZGFsLXRyaWdnZXI9XFxcIm15LW1vZGFsXFxcIj48L2E+XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0cmlnZ2VycyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBtb2RhbHNcbiAgICogYXJlIHByZXNlbnQgaW4gdGhlIERPTVxuICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlcnMgICBBcnJheSBvZiBET00gbm9kZXMgd2hpY2ggaGF2ZSBkYXRhLXRyaWdnZXJzXG4gICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VyTWFwIEFzc29jaWF0aXZlIGFycmF5IG9mIG1vZGFscyBhbmQgdGhlaXIgdHJpZ2dlcnNcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICB2YXIgdmFsaWRhdGVBcmdzID0gZnVuY3Rpb24gdmFsaWRhdGVBcmdzKHRyaWdnZXJzLCB0cmlnZ2VyTWFwKSB7XG4gICAgdmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UodHJpZ2dlcnMpO1xuICAgIGlmICghdHJpZ2dlck1hcCkgcmV0dXJuIHRydWU7XG5cbiAgICBmb3IgKHZhciBpZCBpbiB0cmlnZ2VyTWFwKSB7XG4gICAgICB2YWxpZGF0ZU1vZGFsUHJlc2VuY2UoaWQpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICogQmluZHMgY2xpY2sgaGFuZGxlcnMgdG8gYWxsIG1vZGFsIHRyaWdnZXJzXG4gICAqIEBwYXJhbSAge29iamVjdH0gY29uZmlnIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuXG5cbiAgdmFyIGluaXQgPSBmdW5jdGlvbiBpbml0KGNvbmZpZykge1xuICAgIC8vIENyZWF0ZSBhbiBjb25maWcgb2JqZWN0IHdpdGggZGVmYXVsdCBvcGVuVHJpZ2dlclxuICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgb3BlblRyaWdnZXI6ICdkYXRhLW1pY3JvbW9kYWwtdHJpZ2dlcidcbiAgICB9LCBjb25maWcpOyAvLyBDb2xsZWN0cyBhbGwgdGhlIG5vZGVzIHdpdGggdGhlIHRyaWdnZXJcblxuICAgIHZhciB0cmlnZ2VycyA9IF90b0NvbnN1bWFibGVBcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiLmNvbmNhdChvcHRpb25zLm9wZW5UcmlnZ2VyLCBcIl1cIikpKTsgLy8gTWFrZXMgYSBtYXBwaW5ncyBvZiBtb2RhbHMgd2l0aCB0aGVpciB0cmlnZ2VyIG5vZGVzXG5cblxuICAgIHZhciB0cmlnZ2VyTWFwID0gZ2VuZXJhdGVUcmlnZ2VyTWFwKHRyaWdnZXJzLCBvcHRpb25zLm9wZW5UcmlnZ2VyKTsgLy8gQ2hlY2tzIGlmIG1vZGFscyBhbmQgdHJpZ2dlcnMgZXhpc3QgaW4gZG9tXG5cbiAgICBpZiAob3B0aW9ucy5kZWJ1Z01vZGUgPT09IHRydWUgJiYgdmFsaWRhdGVBcmdzKHRyaWdnZXJzLCB0cmlnZ2VyTWFwKSA9PT0gZmFsc2UpIHJldHVybjsgLy8gRm9yIGV2ZXJ5IHRhcmdldCBtb2RhbCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlXG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdHJpZ2dlck1hcCkge1xuICAgICAgdmFyIHZhbHVlID0gdHJpZ2dlck1hcFtrZXldO1xuICAgICAgb3B0aW9ucy50YXJnZXRNb2RhbCA9IGtleTtcbiAgICAgIG9wdGlvbnMudHJpZ2dlcnMgPSBfdG9Db25zdW1hYmxlQXJyYXkodmFsdWUpO1xuICAgICAgYWN0aXZlTW9kYWwgPSBuZXcgTW9kYWwob3B0aW9ucyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogU2hvd3MgYSBwYXJ0aWN1bGFyIG1vZGFsXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGFyZ2V0TW9kYWwgW1RoZSBpZCBvZiB0aGUgbW9kYWwgdG8gZGlzcGxheV1cbiAgICogQHBhcmFtICB7b2JqZWN0fSBjb25maWcgW1RoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0byBwYXNzXVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cblxuXG4gIHZhciBzaG93ID0gZnVuY3Rpb24gc2hvdyh0YXJnZXRNb2RhbCwgY29uZmlnKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBjb25maWcgfHwge307XG4gICAgb3B0aW9ucy50YXJnZXRNb2RhbCA9IHRhcmdldE1vZGFsOyAvLyBDaGVja3MgaWYgbW9kYWxzIGFuZCB0cmlnZ2VycyBleGlzdCBpbiBkb21cblxuICAgIGlmIChvcHRpb25zLmRlYnVnTW9kZSA9PT0gdHJ1ZSAmJiB2YWxpZGF0ZU1vZGFsUHJlc2VuY2UodGFyZ2V0TW9kYWwpID09PSBmYWxzZSkgcmV0dXJuOyAvLyBjbGVhciBldmVudHMgaW4gY2FzZSBwcmV2aW91cyBtb2RhbCB3YXNuJ3QgY2xvc2VcblxuICAgIGlmIChhY3RpdmVNb2RhbCkgYWN0aXZlTW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTsgLy8gc3RvcmVzIHJlZmVyZW5jZSB0byBhY3RpdmUgbW9kYWxcblxuICAgIGFjdGl2ZU1vZGFsID0gbmV3IE1vZGFsKG9wdGlvbnMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuXG4gICAgYWN0aXZlTW9kYWwuc2hvd01vZGFsKCk7XG4gIH07XG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIGFjdGl2ZSBtb2RhbFxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRhcmdldE1vZGFsIFtUaGUgaWQgb2YgdGhlIG1vZGFsIHRvIGNsb3NlXVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cblxuXG4gIHZhciBjbG9zZSA9IGZ1bmN0aW9uIGNsb3NlKHRhcmdldE1vZGFsKSB7XG4gICAgdGFyZ2V0TW9kYWwgPyBhY3RpdmVNb2RhbC5jbG9zZU1vZGFsQnlJZCh0YXJnZXRNb2RhbCkgOiBhY3RpdmVNb2RhbC5jbG9zZU1vZGFsKCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0OiBpbml0LFxuICAgIHNob3c6IHNob3csXG4gICAgY2xvc2U6IGNsb3NlXG4gIH07XG59KCk7XG53aW5kb3cuTWljcm9Nb2RhbCA9IE1pY3JvTW9kYWw7XG5cbmV4cG9ydCBkZWZhdWx0IE1pY3JvTW9kYWw7XG4iLCJpbXBvcnQgeyBHUEdQVSB9IGZyb20gJ3dlYmdsLWdwZ3B1JztcbmltcG9ydCBNaWNyb01vZGFsIGZyb20gJ21pY3JvbW9kYWwnO1xuY29uc3Qgc2ltU2hhZGVyU291cmNlID0gcmVxdWlyZSgnLi9rZXJuZWxzL1NpbVNoYWRlci5nbHNsJyk7XG5jb25zdCByZW5kZXJTaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvUmVuZGVyU2hhZGVyLmdsc2wnKTtcbmNvbnN0IGludGVyYWN0aW9uU2hhZGVyU291cmNlID0gcmVxdWlyZSgnLi9rZXJuZWxzL0ludGVyYWN0aW9uU2hhZGVyLmdsc2wnKTtcblxuLy8gSW5pdCBoZWxwIG1vZGFsLlxuTWljcm9Nb2RhbC5pbml0KCk7XG5cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbGNhbnZhcycpICBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmNvbnN0IGdwZ3B1ID0gbmV3IEdQR1BVKG51bGwsIGNhbnZhcywgKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuXHQvLyBTaG93IGVycm9yIG1vZGFsLlxuXHRNaWNyb01vZGFsLnNob3coJ21vZGFsLTInKTtcblx0Y29uc3QgZXJyb3JFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbEVycm9yTXNnJyk7XG5cdGlmIChlcnJvckVsKSBlcnJvckVsLmlubmVySFRNTCA9YEVycm9yOiAke21lc3NhZ2V9YDtcblx0Y29uc3QgY292ZXJJbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY292ZXJJbWcnKTtcblx0aWYgKGNvdmVySW1nKSBjb3ZlckltZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn0pO1xuXG4vLyBJbml0IHByb2dyYW1zLlxuY29uc3Qgc2ltID0gZ3BncHUuaW5pdFByb2dyYW0oJ3NpbScsIHNpbVNoYWRlclNvdXJjZSwgW1xuXHR7XG5cdFx0bmFtZTogJ3Vfc3RhdGUnLFxuXHRcdHZhbHVlOiAwLFxuXHRcdGRhdGFUeXBlOiAnSU5UJyxcblx0fSxcblx0e1xuXHRcdG5hbWU6ICd1X3B4U2l6ZScsXG5cdFx0dmFsdWU6IFsxIC8gY2FudmFzLmNsaWVudFdpZHRoLCAxIC8gY2FudmFzLmNsaWVudEhlaWdodF0sXG5cdFx0ZGF0YVR5cGU6ICdGTE9BVCcsXG5cdH0sXG5dKTtcbmNvbnN0IHJlbmRlciA9IGdwZ3B1LmluaXRQcm9ncmFtKCdyZW5kZXInLCByZW5kZXJTaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X3N0YXRlJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5dKTtcbmNvbnN0IGludGVyYWN0aW9uID0gZ3BncHUuaW5pdFByb2dyYW0oJ2ludGVyYWN0aW9uJywgaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X3N0YXRlJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5dKTtcblxuLy8gSW5pdCBzdGF0ZS5cbmNvbnN0IHN0YXRlID0gZ3BncHUuaW5pdERhdGFMYXllcignc3RhdGUnLCB7XG5cdHdpZHRoOiBjYW52YXMuY2xpZW50V2lkdGgsXG5cdGhlaWdodDogY2FudmFzLmNsaWVudEhlaWdodCxcblx0dHlwZTogJ2Zsb2F0MTYnLFxuXHRudW1DaGFubmVsczogMyxcbn0sIHRydWUsIDIpO1xuXG4vLyBTZXQgdXAgaW50ZXJhY3Rpb25zLlxuY29uc3QgVE9VQ0hfUkFESVVTID0gMTA7XG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGU6IE1vdXNlRXZlbnQpID0+IHtcblx0Z3BncHUuc3RlcENpcmNsZShpbnRlcmFjdGlvbiwgW2UuY2xpZW50WCwgZS5jbGllbnRZXSwgVE9VQ0hfUkFESVVTLCBbc3RhdGVdLCBzdGF0ZSk7XG59KTtcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZTogVG91Y2hFdmVudCkgPT4ge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZS50b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgdG91Y2ggPSBlLnRvdWNoZXNbaV07XG5cdFx0Z3BncHUuc3RlcENpcmNsZShpbnRlcmFjdGlvbiwgW3RvdWNoLnBhZ2VYLCB0b3VjaC5wYWdlWV0sIFRPVUNIX1JBRElVUywgW3N0YXRlXSwgc3RhdGUpO1xuXHR9XG59KTtcbi8vIERpc2FibGUgb3RoZXIgZ2VzdHVyZXMuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBkaXNhYmxlWm9vbSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlY2hhbmdlJywgZGlzYWJsZVpvb20pOyBcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVlbmQnLCBkaXNhYmxlWm9vbSk7XG5mdW5jdGlvbiBkaXNhYmxlWm9vbShlOiBFdmVudCkge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGNvbnN0IHNjYWxlID0gJ3NjYWxlKDEpJztcblx0Ly8gQHRzLWlnbm9yZVxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICBzY2FsZTsgICAgLy8gQ2hyb21lLCBPcGVyYSwgU2FmYXJpXG5cdC8vIEB0cy1pZ25vcmVcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybSA9ICAgc2NhbGU7ICAgICAgIC8vIElFIDlcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSBzY2FsZTtcbn1cblxuLy8gQWRkIHJlc2l6ZSBsaXN0ZW5lci5cbm9uUmVzaXplKCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpO1xuZnVuY3Rpb24gb25SZXNpemUoKSB7XG5cdC8vIFJlLWluaXQgdGV4dHVyZXMgYXQgbmV3IHNpemUuXG5cdGNvbnN0IHdpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoO1xuXHRjb25zdCBoZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuXHRzdGF0ZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG5cdHNpbS5zZXRVbmlmb3JtKCd1X3B4U2l6ZScsIFsxIC8gd2lkdGgsIDEgLyBoZWlnaHRdLCAnRkxPQVQnKTtcblx0Z3BncHUub25SZXNpemUoY2FudmFzKTtcbn1cblxuLy8gU3RhcnQgcmVuZGVyIGxvb3AuXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuZnVuY3Rpb24gc3RlcCgpIHtcblx0Ly8gQ29tcHV0ZSBzaW11bGF0aW9uLlxuXHQvLyBPbnkgc3RlcCB0aGUgaW50ZXJpb3IgcHgsIHdlIGNhbiBsZWF2ZSB0aGUgYm91bmRhcnkgc3RhdGljIGF0IHplcm8uXG5cdGdwZ3B1LnN0ZXBOb25Cb3VuZGFyeShzaW0sIFtzdGF0ZV0sIHN0YXRlKTtcblx0Ly8gUmVuZGVyIGN1cnJlbnQgc3RhdGUuXG5cdGdwZ3B1LnN0ZXAocmVuZGVyLCBbc3RhdGVdKTtcblx0Ly8gU3RhcnQgYSBuZXcgcmVuZGVyIGN5Y2xlLlxuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xufSIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EYXRhTGF5ZXIgPSB2b2lkIDA7XG52YXIgRGF0YUxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGFMYXllcihuYW1lLCBnbCwgb3B0aW9ucywgZXJyb3JDYWxsYmFjaywgbnVtQnVmZmVycywgd3JpdGFibGUpIHtcbiAgICAgICAgdGhpcy5idWZmZXJJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtdO1xuICAgICAgICAvLyBTYXZlIHBhcmFtcy5cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrO1xuICAgICAgICBpZiAobnVtQnVmZmVycyA8IDAgfHwgbnVtQnVmZmVycyAlIDEgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtQnVmZmVyczogXCIgKyBudW1CdWZmZXJzICsgXCIgZm9yIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiLCBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubnVtQnVmZmVycyA9IG51bUJ1ZmZlcnM7XG4gICAgICAgIC8vIFNhdmUgb3B0aW9ucy5cbiAgICAgICAgdGhpcy53aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuZ2xJbnRlcm5hbEZvcm1hdCA9IG9wdGlvbnMuZ2xJbnRlcm5hbEZvcm1hdDtcbiAgICAgICAgdGhpcy5nbEZvcm1hdCA9IG9wdGlvbnMuZ2xGb3JtYXQ7XG4gICAgICAgIHRoaXMuZ2xUeXBlID0gb3B0aW9ucy5nbFR5cGU7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSB3cml0YWJsZTtcbiAgICAgICAgdGhpcy5pbml0QnVmZmVycyhvcHRpb25zLmRhdGEpO1xuICAgIH1cbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgbnVtQnVmZmVycyA9IF9hLm51bUJ1ZmZlcnMsIGdsID0gX2EuZ2wsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgZ2xJbnRlcm5hbEZvcm1hdCA9IF9hLmdsSW50ZXJuYWxGb3JtYXQsIGdsRm9ybWF0ID0gX2EuZ2xGb3JtYXQsIGdsVHlwZSA9IF9hLmdsVHlwZSwgd3JpdGFibGUgPSBfYS53cml0YWJsZSwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIC8vIEluaXQgYSB0ZXh0dXJlIGZvciBlYWNoIGJ1ZmZlci5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1CdWZmZXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IHRleHR1cmUgZm9yIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBkaWcgaW50byB0aGlzLlxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBnbC5ORUFSRVNUOyAvL3RoaXMubGluZWFyRmlsdGVyRW5hYmxlZCA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1Q7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZmlsdGVyKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBmaWx0ZXIpO1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbEludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCBnbEZvcm1hdCwgZ2xUeXBlLCBkYXRhID8gZGF0YSA6IG51bGwpO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiB0ZXh0dXJlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh3cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIC8vIEluaXQgYSBmcmFtZWJ1ZmZlciBmb3IgdGhpcyB0ZXh0dXJlIHNvIHdlIGNhbiB3cml0ZSB0byBpdC5cbiAgICAgICAgICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IGZyYW1lYnVmZmVyIGZvciBEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIjogXCIgKyBnbC5nZXRFcnJvcigpICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvZnJhbWVidWZmZXJUZXh0dXJlMkRcbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUsIDApO1xuICAgICAgICAgICAgICAgIHZhciBzdGF0dXNfMSA9IGdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNfMSAhPSBnbC5GUkFNRUJVRkZFUl9DT01QTEVURSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiSW52YWxpZCBzdGF0dXMgZm9yIGZyYW1lYnVmZmVyIGZvciBEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIjogXCIgKyBzdGF0dXNfMSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIGZyYW1lYnVmZmVyLlxuICAgICAgICAgICAgICAgIGJ1ZmZlci5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIGJ1ZmZlciB0byB0aGUgbGlzdC5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERhdGFMYXllci5wcm90b3R5cGUuZ2V0Q3VycmVudFN0YXRlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmJ1ZmZlckluZGV4XS50ZXh0dXJlO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5nZXRMYXN0U3RhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5udW1CdWZmZXJzID09PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYWxsaW5nIGdldExhc3RTdGF0ZSBvbiBEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIiB3aXRoIDEgYnVmZmVyLCBubyBsYXN0IHN0YXRlIGF2YWlsYWJsZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmJ1ZmZlckluZGV4XS50ZXh0dXJlO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5zZXRBc1JlbmRlclRhcmdldCA9IGZ1bmN0aW9uIChpbmNyZW1lbnRCdWZmZXJJbmRleCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAoaW5jcmVtZW50QnVmZmVySW5kZXgpIHtcbiAgICAgICAgICAgIC8vIEluY3JlbWVudCBidWZmZXJJbmRleC5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVySW5kZXggPSAodGhpcy5idWZmZXJJbmRleCArIDEpICUgdGhpcy5udW1CdWZmZXJzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IHRoaXMuYnVmZmVyc1t0aGlzLmJ1ZmZlckluZGV4XS5mcmFtZWJ1ZmZlcjtcbiAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0YUxheWVyIFwiICsgdGhpcy5uYW1lICsgXCIgaXMgbm90IHdyaXRhYmxlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcbiAgICB9O1xuICAgIERhdGFMYXllci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95QnVmZmVycygpO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKGRhdGEpO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5kZXN0cm95QnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgYnVmZmVycyA9IF9hLmJ1ZmZlcnM7XG4gICAgICAgIGJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSBidWZmZXIuZnJhbWVidWZmZXIsIHRleHR1cmUgPSBidWZmZXIudGV4dHVyZTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlO1xuICAgICAgICAgICAgZGVsZXRlIGJ1ZmZlci50ZXh0dXJlO1xuICAgICAgICAgICAgZGVsZXRlIGJ1ZmZlci5mcmFtZWJ1ZmZlcjtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1ZmZlcnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIERhdGFMYXllci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95QnVmZmVycygpO1xuICAgICAgICAvLyBAdHMtaWdub3JlO1xuICAgICAgICBkZWxldGUgdGhpcy5nbDtcbiAgICB9O1xuICAgIHJldHVybiBEYXRhTGF5ZXI7XG59KCkpO1xuZXhwb3J0cy5EYXRhTGF5ZXIgPSBEYXRhTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EYXRhTGF5ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdQR1BVID0gdm9pZCAwO1xudmFyIERlZmF1bHRWZXJ0ZXhTaGFkZXJfMSA9IHJlcXVpcmUoXCIuL2tlcm5lbHMvRGVmYXVsdFZlcnRleFNoYWRlclwiKTtcbnZhciBQYXNzVGhyb3VnaFNoYWRlcl8xID0gcmVxdWlyZShcIi4va2VybmVscy9QYXNzVGhyb3VnaFNoYWRlclwiKTtcbnZhciBEYXRhTGF5ZXJfMSA9IHJlcXVpcmUoXCIuL0RhdGFMYXllclwiKTtcbnZhciBHUFVQcm9ncmFtXzEgPSByZXF1aXJlKFwiLi9HUFVQcm9ncmFtXCIpO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBmc1F1YWRQb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAtMSwgMSwgMSwgMV0pO1xudmFyIGJvdW5kYXJ5UG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShbLTEsIC0xLCAxLCAtMSwgMSwgMSwgLTEsIDFdKTtcbnZhciB1bml0Q2lyY2xlUG9pbnRzID0gWzAsIDBdO1xudmFyIE5VTV9TRUdNRU5UU19DSVJDTEUgPSAyMDtcbmZvciAodmFyIGkgPSAwOyBpIDw9IE5VTV9TRUdNRU5UU19DSVJDTEU7IGkrKykge1xuICAgIHVuaXRDaXJjbGVQb2ludHMucHVzaChNYXRoLmNvcygyICogTWF0aC5QSSAqIGkgLyBOVU1fU0VHTUVOVFNfQ0lSQ0xFKSwgTWF0aC5zaW4oMiAqIE1hdGguUEkgKiBpIC8gTlVNX1NFR01FTlRTX0NJUkNMRSkpO1xufVxudmFyIGNpcmNsZVBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkodW5pdENpcmNsZVBvaW50cyk7XG4vLyBTdG9yZSBleHRlbnNpb24gbmFtZXMgYXMgY29uc3RhbnRzLlxudmFyIE9FU19URVhUVVJFX0hBTEZfRkxPQVQgPSAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdCc7XG52YXIgT0VTX1RFWFRVUkVfSEFsRl9GTE9BVF9MSU5FQVIgPSAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInO1xudmFyIEVYVF9DT0xPUl9CVUZGRVJfRkxPQVQgPSAnRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCc7XG52YXIgR1BHUFUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR1BHUFUoZ2wsIGNhbnZhc0VsLCBcbiAgICAvLyBPcHRpb25hbGx5IHBhc3MgaW4gYW4gZXJyb3IgY2FsbGJhY2sgaW4gY2FzZSB3ZSB3YW50IHRvIGhhbmRsZSBlcnJvcnMgcmVsYXRlZCB0byB3ZWJnbCBzdXBwb3J0LlxuICAgIC8vIGUuZy4gdGhyb3cgdXAgYSBtb2RhbCB0ZWxsaW5nIHVzZXIgdGhpcyB3aWxsIG5vdCB3b3JrIG9uIHRoZWlyIGRldmljZS5cbiAgICBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChlcnJvckNhbGxiYWNrID09PSB2b2lkIDApIHsgZXJyb3JDYWxsYmFjayA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7IHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTsgfTsgfVxuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5lcnJvclN0YXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2hhZGVycyA9IFtdOyAvLyBLZWVwIHRyYWNrIG9mIGFsbCBzaGFkZXJzIGluaXRlZCBzbyB0aGV5IGNhbiBiZSBwcm9wZXJseSBkZWFsbG9jYXRlZC5cbiAgICAgICAgLy8gU2F2ZSBjYWxsYmFjayBpbiBjYXNlIHdlIHJ1biBpbnRvIGFuIGVycm9yLlxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5lcnJvclN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5lcnJvclN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKVxuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2sobWVzc2FnZSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEluaXQgR0wuXG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIC8vIEluaXQgYSBnbCBjb250ZXh0IGlmIG5vdCBwYXNzZWQgaW4uXG4gICAgICAgICAgICBnbCA9IGNhbnZhc0VsLmdldENvbnRleHQoJ3dlYmdsMicsIHsgYW50aWFsaWFzOiBmYWxzZSB9KVxuICAgICAgICAgICAgICAgIHx8IGNhbnZhc0VsLmdldENvbnRleHQoJ3dlYmdsJywgeyBhbnRpYWxpYXM6IGZhbHNlIH0pO1xuICAgICAgICAgICAgLy8gfHwgY2FudmFzRWwuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywge2FudGlhbGlhczpmYWxzZX0pIGFzIFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgICAgICAgICBpZiAoZ2wgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBpbml0aWFsaXplIFdlYkdMIGNvbnRleHQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNXZWJHTDIgPSAhIWdsLkhBTEZfRkxPQVQ7XG4gICAgICAgIGlmICh0aGlzLmlzV2ViR0wyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgV2ViR0wgMi4wIGNvbnRleHQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgV2ViR0wgMS4wIGNvbnRleHQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICAvLyBHTCBzZXR1cC5cbiAgICAgICAgLy8gTG9hZCBleHRlbnNpb25zLlxuICAgICAgICAvLyBUT0RPOiBsb2FkIHRoZXNlIGV4dGVuc2lvbnMgYXMgbmVlZGVkLlxuICAgICAgICBpZiAodGhpcy5pc1dlYkdMMikge1xuICAgICAgICAgICAgLy8gRVhUX0NPTE9SX0JVRkZFUl9GTE9BVCBhZGRzIGFiaWxpdHkgdG8gcmVuZGVyIHRvIGEgdmFyaWV0eSBvZiBmbG9hdGluZyBwdCB0ZXh0dXJlcy5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FWFRfY29sb3JfYnVmZmVyX2Zsb2F0XG4gICAgICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNDI2MjQ5My9mcmFtZWJ1ZmZlci1pbmNvbXBsZXRlLWF0dGFjaG1lbnQtZm9yLXRleHR1cmUtd2l0aC1pbnRlcm5hbC1mb3JtYXRcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM2MTA5MzQ3L2ZyYW1lYnVmZmVyLWluY29tcGxldGUtYXR0YWNobWVudC1vbmx5LWhhcHBlbnMtb24tYW5kcm9pZC13LWZpcmVmb3hcbiAgICAgICAgICAgIHRoaXMubG9hZEV4dGVuc2lvbihFWFRfQ09MT1JfQlVGRkVSX0ZMT0FUKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9PRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XG4gICAgICAgICAgICAvLyBIYWxmIGZsb2F0IGlzIHN1cHBvcnRlZCBieSBtb2Rlcm4gbW9iaWxlIGJyb3dzZXJzLCBmbG9hdCBub3QgeWV0IHN1cHBvcnRlZC5cbiAgICAgICAgICAgIC8vIEhhbGYgZmxvYXQgaXMgcHJvdmlkZWQgYnkgZGVmYXVsdCBmb3IgV2ViZ2wyIGNvbnRleHRzLlxuICAgICAgICAgICAgLy8gVGhpcyBleHRlbnNpb24gaW1wbGljaXRseSBlbmFibGVzIHRoZSBFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQgZXh0ZW5zaW9uIChpZiBzdXBwb3J0ZWQpLCB3aGljaCBhbGxvd3MgcmVuZGVyaW5nIHRvIDE2LWJpdCBmbG9hdGluZyBwb2ludCBmb3JtYXRzLlxuICAgICAgICAgICAgdGhpcy5sb2FkRXh0ZW5zaW9uKE9FU19URVhUVVJFX0hBTEZfRkxPQVQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExvYWQgb3B0aW9uYWwgZXh0ZW5zaW9ucy5cbiAgICAgICAgLy8gVE9ETzogbmVlZCB0aGlzIGZvciB3ZWJnbDI/XG4gICAgICAgIHRoaXMubGluZWFyRmlsdGVyRW5hYmxlZCA9IHRoaXMubG9hZEV4dGVuc2lvbihPRVNfVEVYVFVSRV9IQWxGX0ZMT0FUX0xJTkVBUiwgdHJ1ZSk7XG4gICAgICAgIC8vIERpc2FibGUgZGVwdGggdGVzdGluZyBnbG9iYWxseS5cbiAgICAgICAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgLy8gU2V0IHVucGFjayBhbGlnbm1lbnQgdG8gMSBzbyB3ZSBjYW4gaGF2ZSB0ZXh0dXJlcyBvZiBhcmJpdHJhcnkgZGltZW5zaW9ucy5cbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTE1ODIyODIvZXJyb3Itd2hlbi1jcmVhdGluZy10ZXh0dXJlcy1pbi13ZWJnbC13aXRoLXRoZS1yZ2ItZm9ybWF0XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19BTElHTk1FTlQsIDEpO1xuICAgICAgICAvLyBJbml0IGEgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHRoYXQganVzdCBwYXNzZXMgdGhyb3VnaCBzY3JlZW4gY29vcmRzLlxuICAgICAgICB2YXIgZGVmYXVsdFZlcnRleFNoYWRlciA9IHV0aWxzXzEuY29tcGlsZVNoYWRlcihnbCwgdGhpcy5lcnJvckNhbGxiYWNrLCBEZWZhdWx0VmVydGV4U2hhZGVyXzEuZGVmYXVsdCwgZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgICAgIGlmICghZGVmYXVsdFZlcnRleFNoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBmdWxsc2NyZWVuIHF1YWQgdmVydGV4IHNoYWRlci4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmF1bHRWZXJ0ZXhTaGFkZXIgPSBkZWZhdWx0VmVydGV4U2hhZGVyO1xuICAgICAgICAvLyBJbml0IGEgcHJvZ3JhbSB0byBwYXNzIHZhbHVlcyBmcm9tIG9uZSB0ZXh0dXJlIHRvIGFub3RoZXIuXG4gICAgICAgIHRoaXMucGFzc1Rocm91Z2hQcm9ncmFtID0gdGhpcy5pbml0UHJvZ3JhbSgncGFzc1Rocm91Z2gnLCBQYXNzVGhyb3VnaFNoYWRlcl8xLmRlZmF1bHQsIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAndV9zdGF0ZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdJTlQnLFxuICAgICAgICAgICAgfVxuICAgICAgICBdKTtcbiAgICAgICAgLy8gQ3JlYXRlIHZlcnRleCBidWZmZXJzLlxuICAgICAgICB0aGlzLnF1YWRQb3NpdGlvbnNCdWZmZXIgPSB0aGlzLmluaXRWZXJ0ZXhCdWZmZXIoZnNRdWFkUG9zaXRpb25zKTtcbiAgICAgICAgdGhpcy5ib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciA9IHRoaXMuaW5pdFZlcnRleEJ1ZmZlcihib3VuZGFyeVBvc2l0aW9ucyk7XG4gICAgICAgIHRoaXMuY2lyY2xlUG9zaXRpb25zQnVmZmVyID0gdGhpcy5pbml0VmVydGV4QnVmZmVyKGNpcmNsZVBvc2l0aW9ucyk7XG4gICAgICAgIC8vIFVuYmluZCBhY3RpdmUgYnVmZmVyLlxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgICAgIC8vIENhbnZhcyBzZXR1cC5cbiAgICAgICAgdGhpcy5vblJlc2l6ZShjYW52YXNFbCk7XG4gICAgICAgIC8vIExvZyBudW1iZXIgb2YgdGV4dHVyZXMgYXZhaWxhYmxlLlxuICAgICAgICB2YXIgbWF4VGV4dHVyZXNJbkZyYWdtZW50U2hhZGVyID0gdGhpcy5nbC5nZXRQYXJhbWV0ZXIodGhpcy5nbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG4gICAgICAgIGNvbnNvbGUubG9nKG1heFRleHR1cmVzSW5GcmFnbWVudFNoYWRlciArIFwiIHRleHR1cmVzIG1heC5cIik7XG4gICAgfVxuICAgIEdQR1BVLnByb3RvdHlwZS5pbml0VmVydGV4QnVmZmVyID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2ssIGdsID0gX2EuZ2w7XG4gICAgICAgIHZhciBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBhbGxvY2F0ZSBnbCBidWZmZXIuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XG4gICAgICAgIC8vIEFkZCB2ZXJ0ZXggZGF0YSBmb3IgZHJhd2luZyBmdWxsIHNjcmVlbiBxdWFkIHZpYSB0cmlhbmdsZSBzdHJpcC5cbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGRhdGEsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5sb2FkRXh0ZW5zaW9uID0gZnVuY3Rpb24gKGV4dGVuc2lvbiwgb3B0aW9uYWwpIHtcbiAgICAgICAgaWYgKG9wdGlvbmFsID09PSB2b2lkIDApIHsgb3B0aW9uYWwgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBleHRlbnNpb25zID0gX2EuZXh0ZW5zaW9ucywgZ2wgPSBfYS5nbCwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIHZhciBleHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleHQgPSBnbC5nZXRFeHRlbnNpb24oZXh0ZW5zaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIGlmIChleHQpIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uXSA9IGV4dDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIGV4dGVuc2lvbjogXCIgKyBleHRlbnNpb24gKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbnN1cHBvcnRlZCBcIiArIChvcHRpb25hbCA/ICdvcHRpb25hbCAnIDogJycpICsgXCJleHRlbnNpb246IFwiICsgZXh0ZW5zaW9uICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBleHRlbnNpb24gaXMgbm90IG9wdGlvbmFsLCB0aHJvdyBlcnJvci5cbiAgICAgICAgaWYgKCFleHQgJiYgIW9wdGlvbmFsKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiUmVxdWlyZWQgZXh0ZW5zaW9uIHVuc3VwcG9ydGVkIGJ5IHRoaXMgZGV2aWNlIC8gYnJvd3NlcjogXCIgKyBleHRlbnNpb24gKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEhZXh0O1xuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLmluaXRQcm9ncmFtID0gZnVuY3Rpb24gKG5hbWUsIGZyYWdtZW50U2hhZGVyU291cmNlLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgLy8gTG9hZCBmdWxsc2NyZWVuIHF1YWQgdmVydGV4IHNoYWRlciBieSBkZWZhdWx0LlxuICAgICAgICAvLyBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSB2ZXJ0ZXhTaGFkZXJTb3VyY2UgP1xuICAgICAgICAvLyBcdHRoaXMuY29tcGlsZVNoYWRlcih2ZXJ0ZXhTaGFkZXJTb3VyY2UsIGdsLlZFUlRFWF9TSEFERVIpIDpcbiAgICAgICAgLy8gXHR0aGlzLmZzUXVhZFZlcnRleFNoYWRlcjtcbiAgICAgICAgdmFyIHZlcnRleFNoYWRlciA9IHRoaXMuZGVmYXVsdFZlcnRleFNoYWRlcjtcbiAgICAgICAgcmV0dXJuIG5ldyBHUFVQcm9ncmFtXzEuR1BVUHJvZ3JhbShuYW1lLCBnbCwgZXJyb3JDYWxsYmFjaywgdGhpcy5kZWZhdWx0VmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlclNvdXJjZSwgdW5pZm9ybXMpO1xuICAgIH07XG4gICAgO1xuICAgIEdQR1BVLnByb3RvdHlwZS5nbFRleHR1cmVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKG51bUNoYW5uZWxzLCB0eXBlLCB3cml0YWJsZSkge1xuICAgICAgICAvLyBodHRwczovL3d3dy5raHJvbm9zLm9yZy9yZWdpc3RyeS93ZWJnbC9zcGVjcy9sYXRlc3QvMi4wLyNURVhUVVJFX1RZUEVTX0ZPUk1BVFNfRlJPTV9ET01fRUxFTUVOVFNfVEFCTEVcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgaXNXZWJHTDIgPSBfYS5pc1dlYkdMMiwgZXh0ZW5zaW9ucyA9IF9hLmV4dGVuc2lvbnM7XG4gICAgICAgIHZhciBnbFR5cGUsIGdsRm9ybWF0LCBnbEludGVybmFsRm9ybWF0LCBnbE51bUNoYW5uZWxzO1xuICAgICAgICBpZiAoaXNXZWJHTDIpIHtcbiAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSBudW1DaGFubmVscztcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL2V4dGVuc2lvbnMvRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdC9cbiAgICAgICAgICAgIC8vIFRoZSBzaXplZCBpbnRlcm5hbCBmb3JtYXQgUkdCMTZGIGlzIG5vdCBjb2xvci1yZW5kZXJhYmxlIGZvciBzb21lIHJlYXNvbi5cbiAgICAgICAgICAgIC8vIElmIG51bUNoYW5uZWxzID09IDMgZm9yIGEgd3JpdGFibGUgdGV4dHVyZSwgdXNlIFJHQkEgaW5zdGVhZC5cbiAgICAgICAgICAgIGlmIChudW1DaGFubmVscyA9PT0gMyAmJiB3cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJFRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkdCO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkdCQTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdmbG9hdDE2JzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlIxNkY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHMTZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0IxNkY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkExNkY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUjg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogZm9yIHJlYWQgb25seSB0ZXh0dXJlcyBpbiBXZWJHTCAxLjAsIHdlIGNvdWxkIHVzZSBnbC5BTFBIQSBhbmQgZ2wuTFVNSU5BTkNFX0FMUEhBIGhlcmUuXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkdCO1xuICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCO1xuICAgICAgICAgICAgICAgICAgICBnbE51bUNoYW5uZWxzID0gMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBO1xuICAgICAgICAgICAgICAgICAgICBnbE51bUNoYW5uZWxzID0gNDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdmbG9hdDE2JzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZXh0ZW5zaW9uc1tPRVNfVEVYVFVSRV9IQUxGX0ZMT0FUXS5IQUxGX0ZMT0FUX09FUztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgbWlzc2luZyBwYXJhbXMuXG4gICAgICAgIGlmIChnbFR5cGUgPT09IHVuZGVmaW5lZCB8fCBnbEZvcm1hdCA9PT0gdW5kZWZpbmVkIHx8IGdsSW50ZXJuYWxGb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0eXBlOiBcIiArIHR5cGUgKyBcIiBvciBudW1DaGFubmVscyBcIiArIG51bUNoYW5uZWxzICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbE51bUNoYW5uZWxzID09PSB1bmRlZmluZWQgfHwgbnVtQ2hhbm5lbHMgPCAxIHx8IG51bUNoYW5uZWxzID4gNCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBudW1DaGFubmVsczogXCIgKyBudW1DaGFubmVscyArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2xGb3JtYXQ6IGdsRm9ybWF0LFxuICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdDogZ2xJbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgIGdsVHlwZTogZ2xUeXBlLFxuICAgICAgICAgICAgZ2xOdW1DaGFubmVsczogZ2xOdW1DaGFubmVscyxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5pbml0RGF0YUxheWVyID0gZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMsIHdyaXRhYmxlLCBudW1CdWZmZXJzKSB7XG4gICAgICAgIGlmICh3cml0YWJsZSA9PT0gdm9pZCAwKSB7IHdyaXRhYmxlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKG51bUJ1ZmZlcnMgPT09IHZvaWQgMCkgeyBudW1CdWZmZXJzID0gMTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgdmFyIGRhdGEgPSBvcHRpb25zLmRhdGEsIHdpZHRoID0gb3B0aW9ucy53aWR0aCwgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQsIHR5cGUgPSBvcHRpb25zLnR5cGUsIG51bUNoYW5uZWxzID0gb3B0aW9ucy5udW1DaGFubmVscztcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBkYXRhIGlzIGNvcnJlY3QgbGVuZ3RoLlxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCAhPT0gd2lkdGggKiBoZWlnaHQgKiBudW1DaGFubmVscykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkYXRhIGFycmF5IG9mIHNpemUgXCIgKyBkYXRhLmxlbmd0aCArIFwiIGZvciBEYXRhTGF5ZXIgXCIgKyBuYW1lICsgXCIgb2YgZGltZW5zaW9ucyBcIiArIHdpZHRoICsgXCIgeCBcIiArIGhlaWdodCArIFwiIHggXCIgKyBudW1DaGFubmVscyArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBDaGVjayB0aGF0IGRhdGEgaXMgY29ycmVjdCB0eXBlLlxuICAgICAgICAvLyBpZiAoZGF0YSAmJiB0eXBlID09PSAnZmxvYXQxNicpIHtcbiAgICAgICAgLy8gXHQvLyAvLyBTaW5jZSB0aGVyZSBpcyBubyBGbG9hdDE2VHlwZWRBcnJheSwgd2UgbXVzdCB1cyBVaW50MTZUeXBlZEFycmF5XG4gICAgICAgIC8vIFx0Ly8gY29uc3QgZmxvYXQxNkFycmF5ID0gbmV3IEludDE2QXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICAvLyBcdC8vIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBcdC8vIH1cbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBHZXQgdGV4dHVyZSBwYXJhbXMuXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvdGV4SW1hZ2UyRFxuICAgICAgICB2YXIgX2IgPSB0aGlzLmdsVGV4dHVyZVBhcmFtZXRlcnMobnVtQ2hhbm5lbHMsIHR5cGUsIHdyaXRhYmxlKSwgZ2xGb3JtYXQgPSBfYi5nbEZvcm1hdCwgZ2xJbnRlcm5hbEZvcm1hdCA9IF9iLmdsSW50ZXJuYWxGb3JtYXQsIGdsTnVtQ2hhbm5lbHMgPSBfYi5nbE51bUNoYW5uZWxzLCBnbFR5cGUgPSBfYi5nbFR5cGU7XG4gICAgICAgIC8vIENoZWNrIHRoYXQgZGF0YSBpcyBjb3JyZWN0IGxlbmd0aC5cbiAgICAgICAgLy8gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHdlYmdsIDEuMCBjb250ZXh0cy5cbiAgICAgICAgdmFyIGRhdGFSZXNpemVkID0gZGF0YTtcbiAgICAgICAgaWYgKGRhdGEgJiYgbnVtQ2hhbm5lbHMgIT09IGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZVNpemUgPSB3aWR0aCAqIGhlaWdodDtcbiAgICAgICAgICAgIHZhciBuZXdBcnJheSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICAgICAgbmV3QXJyYXkgPSBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCAqIGdsTnVtQ2hhbm5lbHMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbml0aW5nIFwiICsgbmFtZSArIFwiLiAgVW5zdXBwb3J0ZWQgdHlwZSBcIiArIHR5cGUgKyBcIiBmb3IgR1BHUFUuaW5pdERhdGFMYXllci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGaWxsIG5ldyBkYXRhIGFycmF5IHdpdGggb2xkIGRhdGEuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1DaGFubmVsczsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0FycmF5W2dsTnVtQ2hhbm5lbHMgKiBpICsgal0gPSBkYXRhW2kgKiBudW1DaGFubmVscyArIGpdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGFSZXNpemVkID0gbmV3QXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGFMYXllciA9IG5ldyBEYXRhTGF5ZXJfMS5EYXRhTGF5ZXIobmFtZSwgZ2wsIHtcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdDogZ2xJbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgIGdsRm9ybWF0OiBnbEZvcm1hdCxcbiAgICAgICAgICAgIGdsVHlwZTogZ2xUeXBlLFxuICAgICAgICAgICAgZGF0YTogZGF0YVJlc2l6ZWQsXG4gICAgICAgIH0sIGVycm9yQ2FsbGJhY2ssIG51bUJ1ZmZlcnMsIHdyaXRhYmxlKTtcbiAgICAgICAgcmV0dXJuIGRhdGFMYXllcjtcbiAgICB9O1xuICAgIDtcbiAgICBHUEdQVS5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoY2FudmFzRWwpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIHdpZHRoID0gY2FudmFzRWwuY2xpZW50V2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBjYW52YXNFbC5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAvLyBTZXQgY29ycmVjdCBjYW52YXMgcGl4ZWwgc2l6ZS5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMX0FQSS9CeV9leGFtcGxlL0NhbnZhc19zaXplX2FuZF9XZWJHTFxuICAgICAgICBjYW52YXNFbC53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXNFbC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8vIFNhdmUgZGltZW5zaW9ucy5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB9O1xuICAgIDtcbiAgICBHUEdQVS5wcm90b3R5cGUuZHJhd1NldHVwID0gZnVuY3Rpb24gKHByb2dyYW0sIGZ1bGxzY3JlZW5SZW5kZXIsIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBDaGVjayBpZiB3ZSBhcmUgaW4gYW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmICghcHJvZ3JhbS5wcm9ncmFtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ0FVVElPTjogdGhlIG9yZGVyIG9mIHRoZXNlIG5leHQgZmV3IGxpbmVzIGluIGltcG9ydGFudC5cbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBraW5kIG9mIGZ1c3N5LlxuICAgICAgICAvLyBHZXQgdGV4dHVyZXMgYmVmb3JlIHdlIGhhdmUgc2V0IHRoZSByZW5kZXIgdGFyZ2V0ICh0aGlzIGNhbiBtb2RpZnkgc29tZSBpbnRlcm5hbCBzdGF0ZSkuXG4gICAgICAgIHZhciBpbnB1dFRleHR1cmVzID0gaW5wdXRMYXllcnMubWFwKGZ1bmN0aW9uIChsYXllcikgeyByZXR1cm4gbGF5ZXIuZ2V0Q3VycmVudFN0YXRlVGV4dHVyZSgpOyB9KTtcbiAgICAgICAgLy8gU2V0IG91dHB1dCBmcmFtZWJ1ZmZlci5cbiAgICAgICAgdGhpcy5zZXRPdXRwdXQoZnVsbHNjcmVlblJlbmRlciwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKTtcbiAgICAgICAgLy8gU2V0IGN1cnJlbnQgcHJvZ3JhbS5cbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICAvLyBTZXQgaW5wdXQgdGV4dHVyZXMuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRMYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0VGV4dHVyZXNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBHUEdQVS5wcm90b3R5cGUuc2V0T3V0cHV0ID0gZnVuY3Rpb24gKGZ1bGxzY3JlZW5SZW5kZXIsIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBwYXNzVGhyb3VnaFByb2dyYW0gPSBfYS5wYXNzVGhyb3VnaFByb2dyYW07XG4gICAgICAgIGlmICghb3V0cHV0TGF5ZXIpIHtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgb3V0cHV0IGlzIHNhbWUgYXMgb25lIG9mIGlucHV0IGxheWVycy5cbiAgICAgICAgaWYgKGlucHV0TGF5ZXJzLmluZGV4T2Yob3V0cHV0TGF5ZXIpID4gLTEpIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXRMYXllci5udW1CdWZmZXJzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXFxuXFx0XFx0XFx0XFx0Q2Fubm90IHVzZSBzYW1lIGJ1ZmZlciBmb3IgaW5wdXQgYW5kIG91dHB1dCBvZiBhIHByb2dyYW0uXFxuXFx0XFx0XFx0XFx0VHJ5IGluY3JlYXNpbmcgdGhlIG51bWJlciBvZiBidWZmZXJzIGluIHlvdXIgb3V0cHV0IGxheWVyIHRvIGF0IGxlYXN0IDIgc28geW91XFxuXFx0XFx0XFx0XFx0Y2FuIHJlbmRlciB0byBuZXh0U3RhdGUgdXNpbmcgY3VycmVudFN0YXRlIGFzIGFuIGlucHV0LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmdWxsc2NyZWVuUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVuZGVyIGFuZCBpbmNyZW1lbnQgYnVmZmVyIHNvIHdlIGFyZSByZW5kZXJpbmcgdG8gYSBkaWZmZXJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gdGhhbiB0aGUgaW5wdXQgdGV4dHVyZS5cbiAgICAgICAgICAgICAgICBvdXRwdXRMYXllci5zZXRBc1JlbmRlclRhcmdldCh0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQYXNzIGlucHV0IHRleHR1cmUgdGhyb3VnaCB0byBvdXRwdXQuXG4gICAgICAgICAgICB0aGlzLnN0ZXAocGFzc1Rocm91Z2hQcm9ncmFtLCBbb3V0cHV0TGF5ZXJdLCBvdXRwdXRMYXllcik7XG4gICAgICAgICAgICAvLyBSZW5kZXIgdG8gb3V0cHV0IHdpdGhvdXQgaW5jcmVtZW50aW5nIGJ1ZmZlci5cbiAgICAgICAgICAgIG91dHB1dExheWVyLnNldEFzUmVuZGVyVGFyZ2V0KGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW5kZXIgdG8gY3VycmVudCBidWZmZXIuXG4gICAgICAgIG91dHB1dExheWVyLnNldEFzUmVuZGVyVGFyZ2V0KGZhbHNlKTtcbiAgICB9O1xuICAgIDtcbiAgICAvLyBTdGVwIGZvciBlbnRpcmUgZnVsbHNjcmVlbiBxdWFkLlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKHByb2dyYW0sIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcikge1xuICAgICAgICBpZiAoaW5wdXRMYXllcnMgPT09IHZvaWQgMCkgeyBpbnB1dExheWVycyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBxdWFkUG9zaXRpb25zQnVmZmVyID0gX2EucXVhZFBvc2l0aW9uc0J1ZmZlcjtcbiAgICAgICAgLy8gSWdub3JlIGlmIHdlIGFyZSBpbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyBzZXR1cCAtIHRoaXMgbXVzdCBjb21lIGZpcnN0LlxuICAgICAgICB0aGlzLmRyYXdTZXR1cChwcm9ncmFtLCB0cnVlLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpO1xuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV9zY2FsZScsIFsxLCAxXSwgJ0ZMT0FUJyk7XG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV90cmFuc2xhdGlvbicsIFswLCAwXSwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBxdWFkUG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgLy8gUG9pbnQgYXR0cmlidXRlIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgVkJPLlxuICAgICAgICB2YXIgcG9zaXRpb25Mb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0ucHJvZ3JhbSwgJ2FQb3NpdGlvbicpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIC8vIEVuYWJsZSB0aGUgYXR0cmlidXRlLlxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3NpdGlvbkxvY2F0aW9uKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfTtcbiAgICAvLyBTdGVwIHByb2dyYW0gb25seSBmb3IgYSBzdHJpcCBvZiBweCBhbG9uZyB0aGUgYm91bmRhcnkuXG4gICAgR1BHUFUucHJvdG90eXBlLnN0ZXBCb3VuZGFyeSA9IGZ1bmN0aW9uIChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpIHtcbiAgICAgICAgaWYgKGlucHV0TGF5ZXJzID09PSB2b2lkIDApIHsgaW5wdXRMYXllcnMgPSBbXTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvclN0YXRlID0gX2EuZXJyb3JTdGF0ZSwgYm91bmRhcnlQb3NpdGlvbnNCdWZmZXIgPSBfYS5ib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvIHNldHVwIC0gdGhpcyBtdXN0IGNvbWUgZmlyc3QuXG4gICAgICAgIHRoaXMuZHJhd1NldHVwKHByb2dyYW0sIGZhbHNlLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpO1xuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIC8vIEZyYW1lIG5lZWRzIHRvIGJlIG9mZnNldCBhbmQgc2NhbGVkIHNvIHRoYXQgYWxsIGZvdXIgc2lkZXMgYXJlIGluIHZpZXdwb3J0LlxuICAgICAgICB2YXIgb25lUHggPSBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3NjYWxlJywgWzEgLSBvbmVQeFswXSwgMSAtIG9uZVB4WzFdXSwgJ0ZMT0FUJyk7XG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV90cmFuc2xhdGlvbicsIG9uZVB4LCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgLy8gUG9pbnQgYXR0cmlidXRlIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgVkJPLlxuICAgICAgICB2YXIgcG9zaXRpb25Mb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0ucHJvZ3JhbSwgJ2FQb3NpdGlvbicpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIC8vIEVuYWJsZSB0aGUgYXR0cmlidXRlLlxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3NpdGlvbkxvY2F0aW9uKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FX0xPT1AsIDAsIDQpOyAvLyBEcmF3IHRvIGZyYW1lYnVmZmVyLlxuICAgIH07XG4gICAgLy8gU3RlcCBwcm9ncmFtIGZvciBhbGwgYnV0IGEgc3RyaXAgb2YgcHggYWxvbmcgdGhlIGJvdW5kYXJ5LlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwTm9uQm91bmRhcnkgPSBmdW5jdGlvbiAocHJvZ3JhbSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKSB7XG4gICAgICAgIGlmIChpbnB1dExheWVycyA9PT0gdm9pZCAwKSB7IGlucHV0TGF5ZXJzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIHF1YWRQb3NpdGlvbnNCdWZmZXIgPSBfYS5xdWFkUG9zaXRpb25zQnVmZmVyLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIC8vIElnbm9yZSBpZiB3ZSBhcmUgaW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG8gc2V0dXAgLSB0aGlzIG11c3QgY29tZSBmaXJzdC5cbiAgICAgICAgdGhpcy5kcmF3U2V0dXAocHJvZ3JhbSwgZmFsc2UsIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcik7XG4gICAgICAgIC8vIFVwZGF0ZSB1bmlmb3JtcyBhbmQgYnVmZmVycy5cbiAgICAgICAgdmFyIG9uZVB4ID0gWzEgLyB3aWR0aCwgMSAvIGhlaWdodF07XG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV9zY2FsZScsIFsxIC0gMiAqIG9uZVB4WzBdLCAxIC0gMiAqIG9uZVB4WzFdXSwgJ0ZMT0FUJyk7XG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV90cmFuc2xhdGlvbicsIG9uZVB4LCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHF1YWRQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICAvLyBQb2ludCBhdHRyaWJ1dGUgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBWQk8uXG4gICAgICAgIHZhciBwb3NpdGlvbkxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbS5wcm9ncmFtLCAnYVBvc2l0aW9uJyk7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25Mb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgLy8gRW5hYmxlIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uTG9jYXRpb24pO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9O1xuICAgIC8vIFN0ZXAgcHJvZ3JhbSBvbmx5IGZvciBhIGNpcmN1bGFyIHNwb3QuXG4gICAgR1BHUFUucHJvdG90eXBlLnN0ZXBDaXJjbGUgPSBmdW5jdGlvbiAocHJvZ3JhbSwgcG9zaXRpb24sIC8vIHBvc2l0aW9uIGlzIGluIHNjcmVlbiBzcGFjZSBjb29yZHMuXG4gICAgcmFkaXVzLCAvLyByYWRpdXMgaXMgaW4gcHguXG4gICAgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKSB7XG4gICAgICAgIGlmIChpbnB1dExheWVycyA9PT0gdm9pZCAwKSB7IGlucHV0TGF5ZXJzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIGNpcmNsZVBvc2l0aW9uc0J1ZmZlciA9IF9hLmNpcmNsZVBvc2l0aW9uc0J1ZmZlciwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvIHNldHVwIC0gdGhpcyBtdXN0IGNvbWUgZmlyc3QuXG4gICAgICAgIHRoaXMuZHJhd1NldHVwKHByb2dyYW0sIGZhbHNlLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpO1xuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV9zY2FsZScsIFtyYWRpdXMgLyB3aWR0aCwgcmFkaXVzIC8gaGVpZ2h0XSwgJ0ZMT0FUJyk7XG4gICAgICAgIC8vIEZsaXAgeSBheGlzLlxuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3VfdHJhbnNsYXRpb24nLCBbMiAqIHBvc2l0aW9uWzBdIC8gd2lkdGggLSAxLCAtMiAqIHBvc2l0aW9uWzFdIC8gaGVpZ2h0ICsgMV0sICdGTE9BVCcpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgY2lyY2xlUG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgLy8gUG9pbnQgYXR0cmlidXRlIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgVkJPLlxuICAgICAgICB2YXIgcG9zaXRpb25Mb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0ucHJvZ3JhbSwgJ2FQb3NpdGlvbicpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIC8vIEVuYWJsZSB0aGUgYXR0cmlidXRlLlxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3NpdGlvbkxvY2F0aW9uKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9GQU4sIDAsIE5VTV9TRUdNRU5UU19DSVJDTEUgKyAyKTsgLy8gRHJhdyB0byBmcmFtZWJ1ZmZlci5cbiAgICB9O1xuICAgIC8vIHJlYWR5VG9SZWFkKCkge1xuICAgIC8vIFx0Y29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICAvLyAgICAgcmV0dXJuIGdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpID09IGdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFO1xuICAgIC8vIH07XG4gICAgLy8gcmVhZFBpeGVscyh4TWluOiBudW1iZXIsIHlNaW46IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGFycmF5OiBUZXh0dXJlRGF0YVR5cGUpIHtcbiAgICAvLyBcdGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgLy8gXHRnbC5yZWFkUGl4ZWxzKHhNaW4sIHlNaW4sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGFycmF5KTtcbiAgICAvLyB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIDtcbiAgICByZXR1cm4gR1BHUFU7XG59KCkpO1xuZXhwb3J0cy5HUEdQVSA9IEdQR1BVO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R1BHUFUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdQVVByb2dyYW0gPSB2b2lkIDA7XG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIEdQVVByb2dyYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR1BVUHJvZ3JhbShuYW1lLCBnbCwgZXJyb3JDYWxsYmFjaywgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlclNvdXJjZSwgdW5pZm9ybXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHt9O1xuICAgICAgICB0aGlzLnNoYWRlcnMgPSBbXTsgLy8gU2F2ZSByZWYgdG8gc2hhZGVycyBzbyB3ZSBjYW4gZGVhbGxvY2F0ZS5cbiAgICAgICAgLy8gU2F2ZSBwYXJhbXMuXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjaztcbiAgICAgICAgLy8gQ3JlYXRlIGEgcHJvZ3JhbS5cbiAgICAgICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlVuYWJsZSB0byBpbml0IGdsIHByb2dyYW06IFwiICsgbmFtZSArIFwiLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb21waWxlIHNoYWRlci5cbiAgICAgICAgdmFyIGZyYWdtZW50U2hhZGVyID0gdXRpbHNfMS5jb21waWxlU2hhZGVyKGdsLCBlcnJvckNhbGxiYWNrLCBmcmFnbWVudFNoYWRlclNvdXJjZSwgZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICAgICAgaWYgKCFmcmFnbWVudFNoYWRlcikge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlVuYWJsZSB0byBjb21waWxlIGZyYWdtZW50IHNoYWRlciBmb3IgcHJvZ3JhbSBcIiArIG5hbWUgKyBcIi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaGFkZXJzLnB1c2goZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICAvLyBBdHRhY2ggdGhlIHNoYWRlcnMuXG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICAvLyBMaW5rIHRoZSBwcm9ncmFtLlxuICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgbGlua2VkLlxuICAgICAgICB2YXIgc3VjY2VzcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpO1xuICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggdGhlIGxpbmsuXG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiUHJvZ3JhbSBcIiArIG5hbWUgKyBcIiBmYWlsZWQgdG8gbGluazogXCIgKyBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJvZ3JhbSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgaW5pdGVkLlxuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICB1bmlmb3JtcyA9PT0gbnVsbCB8fCB1bmlmb3JtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdW5pZm9ybXMuZm9yRWFjaChmdW5jdGlvbiAodW5pZm9ybSkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSB1bmlmb3JtLm5hbWUsIHZhbHVlID0gdW5pZm9ybS52YWx1ZSwgZGF0YVR5cGUgPSB1bmlmb3JtLmRhdGFUeXBlO1xuICAgICAgICAgICAgX3RoaXMuc2V0VW5pZm9ybShuYW1lLCB2YWx1ZSwgZGF0YVR5cGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgR1BVUHJvZ3JhbS5wcm90b3R5cGUudW5pZm9ybVR5cGVGb3JWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZGF0YVR5cGUpIHtcbiAgICAgICAgaWYgKGRhdGFUeXBlID09PSBjb25zdGFudHNfMS5GTE9BVF9UWVBFKSB7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuRkxPQVRfMURfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuRkxPQVRfMkRfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuRkxPQVRfM0RfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuRkxPQVRfNERfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdW5pZm9ybSB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YVR5cGUgPT09IGNvbnN0YW50c18xLklOVF9UWVBFKSB7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuSU5UXzFEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLklOVF8yRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5JTlRfM0RfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuSU5UXzREX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVuaWZvcm0gdmFsdWU6IFwiICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1bmlmb3JtIGRhdGEgdHlwZTogXCIgKyBkYXRhVHlwZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdQVVByb2dyYW0ucHJvdG90eXBlLnNldFVuaWZvcm0gPSBmdW5jdGlvbiAodW5pZm9ybU5hbWUsIHZhbHVlLCBkYXRhVHlwZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaywgcHJvZ3JhbSA9IF9hLnByb2dyYW0sIHVuaWZvcm1zID0gX2EudW5pZm9ybXM7XG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlByb2dyYW0gbm90IGluaXRlZC5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IGFjdGl2ZSBwcm9ncmFtLlxuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMudW5pZm9ybVR5cGVGb3JWYWx1ZSh2YWx1ZSwgZGF0YVR5cGUpO1xuICAgICAgICBpZiAoIXVuaWZvcm1zW3VuaWZvcm1OYW1lXSkge1xuICAgICAgICAgICAgLy8gSW5pdCB1bmlmb3JtIGlmIG5lZWRlZC5cbiAgICAgICAgICAgIHZhciBsb2NhdGlvbl8xID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIHVuaWZvcm1OYW1lKTtcbiAgICAgICAgICAgIGlmICghbG9jYXRpb25fMSkge1xuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJDb3VsZCBub3QgaW5pdCB1bmlmb3JtIFwiICsgdW5pZm9ybU5hbWUgKyBcIi5cXG5DaGVjayB0aGF0IHVuaWZvcm0gaXMgcHJlc2VudCBpbiBzaGFkZXIgY29kZSwgdW51c2VkIHVuaWZvcm1zIG1heSBiZSByZW1vdmVkIGJ5IGNvbXBpbGVyLlxcbkFsc28gY2hlY2sgdGhhdCB1bmlmb3JtIHR5cGUgaW4gc2hhZGVyIGNvZGUgbWF0Y2hlcyB0eXBlIFwiICsgdHlwZSArIFwiLlxcbkVycm9yIGNvZGU6IFwiICsgZ2wuZ2V0RXJyb3IoKSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bmlmb3Jtc1t1bmlmb3JtTmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXzEsXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVuaWZvcm0gPSB1bmlmb3Jtc1t1bmlmb3JtTmFtZV07XG4gICAgICAgIC8vIENoZWNrIHRoYXQgdHlwZXMgbWF0Y2ggcHJldmlvdXNseSBzZXQgdW5pZm9ybS5cbiAgICAgICAgaWYgKHVuaWZvcm0udHlwZSAhPSB0eXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmlmb3JtIFwiICsgdW5pZm9ybU5hbWUgKyBcIiBjYW5ub3QgY2hhbmdlIGZyb20gdHlwZSBcIiArIHVuaWZvcm0udHlwZSArIFwiIHRvIHR5cGUgXCIgKyB0eXBlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IHVuaWZvcm0ubG9jYXRpb247XG4gICAgICAgIC8vIFNldCB1bmlmb3JtLlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xSZW5kZXJpbmdDb250ZXh0L3VuaWZvcm1cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkZMT0FUXzFEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkZMT0FUXzJEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5GTE9BVF8zRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuRkxPQVRfNERfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLklOVF8xRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5JTlRfMkRfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLklOVF8zRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zaXYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuSU5UXzREX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHVuaWZvcm0gdHlwZTogXCIgKyB0eXBlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICA7XG4gICAgR1BVUHJvZ3JhbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgcHJvZ3JhbSA9IF9hLnByb2dyYW0sIHNoYWRlcnMgPSBfYS5zaGFkZXJzO1xuICAgICAgICBpZiAocHJvZ3JhbSlcbiAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIC8vIFVuYmluZCBhbGwgZGF0YSBiZWZvcmUgZGVsZXRpbmcuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hhZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xSZW5kZXJpbmdDb250ZXh0L2RlbGV0ZVNoYWRlclxuICAgICAgICAgICAgLy8gVGhpcyBtZXRob2QgaGFzIG5vIGVmZmVjdCBpZiB0aGUgc2hhZGVyIGhhcyBhbHJlYWR5IGJlZW4gZGVsZXRlZFxuICAgICAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHNoYWRlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gQHRzLWlnbm9yZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZ2w7XG4gICAgICAgIC8vIEB0cy1pZ25vcmU7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnByb2dyYW07XG4gICAgfTtcbiAgICByZXR1cm4gR1BVUHJvZ3JhbTtcbn0oKSk7XG5leHBvcnRzLkdQVVByb2dyYW0gPSBHUFVQcm9ncmFtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R1BVUHJvZ3JhbS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSU5UX1RZUEUgPSBleHBvcnRzLkZMT0FUX1RZUEUgPSBleHBvcnRzLklOVF80RF9VTklGT1JNID0gZXhwb3J0cy5JTlRfM0RfVU5JRk9STSA9IGV4cG9ydHMuSU5UXzJEX1VOSUZPUk0gPSBleHBvcnRzLklOVF8xRF9VTklGT1JNID0gZXhwb3J0cy5GTE9BVF80RF9VTklGT1JNID0gZXhwb3J0cy5GTE9BVF8zRF9VTklGT1JNID0gZXhwb3J0cy5GTE9BVF8yRF9VTklGT1JNID0gZXhwb3J0cy5GTE9BVF8xRF9VTklGT1JNID0gdm9pZCAwO1xuZXhwb3J0cy5GTE9BVF8xRF9VTklGT1JNID0gJzFmJztcbmV4cG9ydHMuRkxPQVRfMkRfVU5JRk9STSA9ICcyZic7XG5leHBvcnRzLkZMT0FUXzNEX1VOSUZPUk0gPSAnM2YnO1xuZXhwb3J0cy5GTE9BVF80RF9VTklGT1JNID0gJzNmJztcbmV4cG9ydHMuSU5UXzFEX1VOSUZPUk0gPSAnMWknO1xuZXhwb3J0cy5JTlRfMkRfVU5JRk9STSA9ICcyaSc7XG5leHBvcnRzLklOVF8zRF9VTklGT1JNID0gJzNpJztcbmV4cG9ydHMuSU5UXzREX1VOSUZPUk0gPSAnM2knO1xuZXhwb3J0cy5GTE9BVF9UWVBFID0gJ0ZMT0FUJztcbmV4cG9ydHMuSU5UX1RZUEUgPSAnSU5UJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2luZ2xlQ29sb3JGcmFnU2hhZGVyID0gZXhwb3J0cy5HUEdQVSA9IHZvaWQgMDtcbnZhciBHUEdQVV8xID0gcmVxdWlyZShcIi4vR1BHUFVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHUEdQVVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gR1BHUFVfMS5HUEdQVTsgfSB9KTtcbnZhciBTaW5nbGVDb2xvckZyYWdTaGFkZXJfMSA9IHJlcXVpcmUoXCIuL2tlcm5lbHMvU2luZ2xlQ29sb3JGcmFnU2hhZGVyXCIpO1xuZXhwb3J0cy5TaW5nbGVDb2xvckZyYWdTaGFkZXIgPSBTaW5nbGVDb2xvckZyYWdTaGFkZXJfMS5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBWZXJ0ZXggc2hhZGVyIGZvciBmdWxsc2NyZWVuIHF1YWQuXG5leHBvcnRzLmRlZmF1bHQgPSBcIlxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb247XFxuXFxudW5pZm9ybSB2ZWMyIHVfc2NhbGU7XFxudW5pZm9ybSB2ZWMyIHVfdHJhbnNsYXRpb247XFxuXFxudmFyeWluZyB2ZWMyIHZVVl9sb2NhbDtcXG52YXJ5aW5nIHZlYzIgdlVWO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHQvLyBDYWxjdWxhdGUgVVYgY29vcmRpbmF0ZXMgb2YgY3VycmVudCByZW5kZXJlZCBvYmplY3QuXFxuXFx0dlVWX2xvY2FsID0gMC41ICogKGFQb3NpdGlvbiArIDEuMCk7XFxuXFx0Ly8gQXBwbHkgdHJhbnNmb3JtYXRpb25zLlxcblxcdHZlYzIgcG9zaXRpb24gPSB1X3NjYWxlICogYVBvc2l0aW9uICsgdV90cmFuc2xhdGlvbjtcXG5cXHQvLyBDYWxjdWxhdGUgYSBnbG9iYWwgdXYgZm9yIHRoZSB2aWV3cG9ydC5cXG5cXHR2VVYgPSAwLjUgKiAocG9zaXRpb24gKyAxLjApO1xcblxcdC8vIENhbGN1bGF0ZSB2ZXJ0ZXggcG9zaXRpb24uXFxuXFx0Z2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLCAxKTtcXG59XFxuXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWZhdWx0VmVydGV4U2hhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZVVjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3N0YXRlO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodV9zdGF0ZSwgdlVWKTtcXG59XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXNzVGhyb3VnaFNoYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIEZyYWdtZW50IHNoYWRlciB0aGF0IGRyYXdzIGEgc2luZ2xlIGNvbG9yIChmb3IgdGVzdGluZykuXG5leHBvcnRzLmRlZmF1bHQgPSBcIlxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCh1X2NvbG9yLCAxKTtcXG59XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaW5nbGVDb2xvckZyYWdTaGFkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbXBpbGVTaGFkZXIgPSB2b2lkIDA7XG4vLyBDb3BpZWQgZnJvbSBodHRwOi8vd2ViZ2xmdW5kYW1lbnRhbHMub3JnL3dlYmdsL2xlc3NvbnMvd2ViZ2wtYm9pbGVycGxhdGUuaHRtbFxuZnVuY3Rpb24gY29tcGlsZVNoYWRlcihnbCwgZXJyb3JDYWxsYmFjaywgc2hhZGVyU291cmNlLCBzaGFkZXJUeXBlKSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBzaGFkZXIgb2JqZWN0XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtcbiAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICBlcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gaW5pdCBnbCBzaGFkZXIuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBTZXQgdGhlIHNoYWRlciBzb3VyY2UgY29kZS5cbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xuICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlclxuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAvLyBDaGVjayBpZiBpdCBjb21waWxlZFxuICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpO1xuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgY29tcGlsYXRpb24gLSBwcmludCB0aGUgZXJyb3IuXG4gICAgICAgIGVycm9yQ2FsbGJhY2soXCJDb3VsZCBub3QgY29tcGlsZSBcIiArIChzaGFkZXJUeXBlID09PSBnbC5GUkFHTUVOVF9TSEFERVIgPyAnZnJhZ21lbnQnIDogJ3ZlcnRleCcpICsgXCJcXG5cXHRcXHRcXHQgc2hhZGVyOiBcIiArIGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuZXhwb3J0cy5jb21waWxlU2hhZGVyID0gY29tcGlsZVNoYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlVWO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfc3RhdGU7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdHZlYzIgY3VycmVudFN0YXRlID0gdGV4dHVyZTJEKHVfc3RhdGUsIHZVVikueHk7XFxuXFx0Ly8gQWRkIGV4dGVybmFsIGZvcmNlIHRvIGN1cnJlbnQgcHguXFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNChjdXJyZW50U3RhdGUsIC01LjAsIDApO1xcbn1cIiIsIm1vZHVsZS5leHBvcnRzID0gXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlVWO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfc3RhdGU7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdGZsb2F0IHBvc2l0aW9uID0gdGV4dHVyZTJEKHVfc3RhdGUsIHZVVikuciAvIDIwLjAgKyAwLjU7XFxuXFx0aWYgKHBvc2l0aW9uID4gMS4wKSBwb3NpdGlvbiA9IDEuMDtcXG5cXHRpZiAocG9zaXRpb24gPCAwLjApIHBvc2l0aW9uID0gMC4wO1xcblxcblxcdGlmIChwb3NpdGlvbiA8IDAuNSl7XFxuXFx0XFx0cG9zaXRpb24gKj0gMi4wO1xcblxcdFxcdC8vcG9zaXRpb24gPSAwIC0+IGJsdWVcXG5cXHRcXHQvL3Bvc2l0aW9uID0gMSAtPiBtYWdlbnRhXFxuXFx0XFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCgoMjU1LjAqcG9zaXRpb24pLzI1NS4wLCgxNzkuMCooMS4wLXBvc2l0aW9uKSkvMjU1LjAsKDE1MC4wLTU0LjAqcG9zaXRpb24pLzI1NS4wLDEuMCk7XFxuXFx0fSBlbHNlIHtcXG5cXHRcXHRwb3NpdGlvbiAtPSAwLjU7XFxuXFx0XFx0cG9zaXRpb24gKj0gMi4wO1xcblxcdFxcdC8vcG9zaXRpb24gPSAwIC0+IG1hZ2VudGFcXG5cXHRcXHQvL3Bvc2l0aW9uID0gMSAtPiB3aGl0ZVxcblxcdFxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoKDI1NS4wLSgxMC4wKnBvc2l0aW9uKSkvMjU1LjAsKDIyMy4wKnBvc2l0aW9uKS8yNTUuMCwoMTA2LjArKDY3LjAqcG9zaXRpb24pKS8yNTUuMCwxLjApO1xcblxcdH1cXG59XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxuI2RlZmluZSBLIDIuMFxcbiNkZWZpbmUgRCAxLjBcXG4jZGVmaW5lIERUIDEuMFxcbiNkZWZpbmUgTUFTUyAxMC4wXFxuXFxudmFyeWluZyB2ZWMyIHZVVjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3N0YXRlOyAvLyBwb3NpdGlvbiwgdmVsb2NpdHksIGV4dGVybmFsRm9yY2VzID0gciwgZywgYlxcbnVuaWZvcm0gdmVjMiB1X3B4U2l6ZTtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuXFx0dmVjMyBjdXJyZW50U3RhdGUgPSB0ZXh0dXJlMkQodV9zdGF0ZSwgdlVWKS54eXo7XFxuXFx0ZmxvYXQgY3VycmVudFBvc2l0aW9uID0gY3VycmVudFN0YXRlLng7XFxuXFx0ZmxvYXQgY3VycmVudFZlbG9jaXR5ID0gY3VycmVudFN0YXRlLnk7XFxuXFx0ZmxvYXQgZlRvdGFsID0gY3VycmVudFN0YXRlLno7XFxuXFxuXFx0Ly8gR2V0IGludGVyYWN0aW9ucyB3aXRoIE4sIFMsIEUsIFcgbmVpZ2hib3JzLlxcblxcdGZvciAoaW50IGkgPSAtMTsgaSA8PSAxOyBpICs9IDIpIHtcXG5cXHRcXHRmb3IgKGludCBqID0gLTE7IGogPD0gMTsgaiArPSAyKSB7XFxuXFx0XFx0XFx0Ly8gQ2FsY3VsYXRlIHV2IGNvb3JkaW5hdGUgb2YgbmVpZ2hib3IgcHguXFxuXFx0XFx0XFx0dmVjMiBuZWlnaGJvclVWID0gdlVWICsgdmVjMih1X3B4U2l6ZS54ICogZmxvYXQoaSksIHVfcHhTaXplLnkgKiBmbG9hdChqKSk7XFxuXFx0XFx0XFx0Ly8gQXBwbHkgc3ByaW5nIGRhbXBlciBjb25zdHJhaW50LlxcblxcdFxcdFxcdHZlYzIgbmVpZ2hib3JTdGF0ZSA9IHRleHR1cmUyRCh1X3N0YXRlLCBuZWlnaGJvclVWKS54eTtcXG5cXHRcXHRcXHRmbG9hdCBkZWx0YVAgPSAgbmVpZ2hib3JTdGF0ZS54IC0gY3VycmVudFBvc2l0aW9uO1xcblxcdFxcdFxcdGZsb2F0IGRlbHRhViA9IG5laWdoYm9yU3RhdGUueSAtIGN1cnJlbnRWZWxvY2l0eTtcXG5cXHRcXHRcXHRmVG90YWwgKz0gSyAqIGRlbHRhUCArIEQgKiBkZWx0YVY7XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHRmbG9hdCBhY2NlbGVyYXRpb24gPSBmVG90YWwgLyBNQVNTO1xcblxcdGZsb2F0IHZlbG9jaXR5ID0gYWNjZWxlcmF0aW9uICogRFQgKyBjdXJyZW50VmVsb2NpdHk7XFxuXFx0ZmxvYXQgcG9zaXRpb24gPSB2ZWxvY2l0eSAqIERUICsgY3VycmVudFBvc2l0aW9uO1xcblxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQocG9zaXRpb24sIHZlbG9jaXR5LCAwLCAwKTtcXG59XCIiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbl9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ2V4cG9ydHMnIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbiJdLCJzb3VyY2VSb290IjoiIn0=