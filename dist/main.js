(()=>{var e={650:(e,t,r)=>{"use strict";function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}r.r(t),r.d(t,{default:()=>d});var a,s,l,u,c,f=(a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],s=function(){function e(t){var r=t.targetModal,o=t.triggers,i=void 0===o?[]:o,a=t.onShow,s=void 0===a?function(){}:a,l=t.onClose,u=void 0===l?function(){}:l,c=t.openTrigger,f=void 0===c?"data-micromodal-trigger":c,d=t.closeTrigger,h=void 0===d?"data-micromodal-close":d,m=t.openClass,v=void 0===m?"is-open":m,g=t.disableScroll,p=void 0!==g&&g,b=t.disableFocus,_=void 0!==b&&b,T=t.awaitCloseAnimation,y=void 0!==T&&T,E=t.awaitOpenAnimation,F=void 0!==E&&E,A=t.debugMode,w=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(r),this.config={debugMode:w,disableScroll:p,openTrigger:f,closeTrigger:h,openClass:v,onShow:s,onClose:u,awaitCloseAnimation:y,awaitOpenAnimation:F,disableFocus:_},i.length>0&&this.registerTriggers.apply(this,n(i)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,r;return t=e,(r=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];r.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var r=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",r,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var r=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(r),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(e)}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(a);return Array.apply(void 0,n(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var r=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));r.length>0&&r[0].focus(),0===r.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var r=t.indexOf(document.activeElement);e.shiftKey&&0===r&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&r===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&o(t.prototype,r),e}(),l=null,u=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},c=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var r in t)u(r);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),r=n(document.querySelectorAll("[".concat(t.openTrigger,"]"))),o=function(e,t){var r=[];return e.forEach((function(e){var o=e.attributes[t].value;void 0===r[o]&&(r[o]=[]),r[o].push(e)})),r}(r,t.openTrigger);if(!0!==t.debugMode||!1!==c(r,o))for(var i in o){var a=o[i];t.targetModal=i,t.triggers=n(a),l=new s(t)}},show:function(e,t){var r=t||{};r.targetModal=e,!0===r.debugMode&&!1===u(e)||(l&&l.removeEventListeners(),(l=new s(r)).showModal())},close:function(e){e?l.closeModalById(e):l.closeModal()}});window.MicroModal=f;const d=f},607:(e,t,r)=>{"use strict";var o=r(561),n=r(650),i=r(942),a=r(539),s=r(950);n.default.init();var l=document.getElementById("glcanvas"),u=new o.GPGPU(null,l,(function(e){n.default.show("modal-2");var t=document.getElementById("glErrorMsg");t&&(t.innerHTML="Error: "+e);var r=document.getElementById("coverImg");r&&(r.style.display="block")}));function c(e){e.preventDefault();var t="scale(1)";document.body.style.webkitTransform=t,document.body.style.msTransform=t,document.body.style.transform=t}function f(){var e=l.clientWidth,t=l.clientHeight;u.initTexture("currentState",e,t,"float16",3,!0,void 0,!0),u.initTexture("lastState",e,t,"float16",3,!0,void 0,!0),u.setProgramUniform("sim","u_pxSize",[1/e,1/t],"FLOAT"),u.onResize(l)}u.initProgram("sim",i,[{name:"u_state",value:0,dataType:"INT"},{name:"u_pxSize",value:[1/l.clientWidth,1/l.clientHeight],dataType:"FLOAT"}]),u.initProgram("render",a,[{name:"u_state",value:0,dataType:"INT"}]),u.initProgram("interaction",s,[{name:"u_state",value:0,dataType:"INT"}]),window.onmousemove=function(e){u.stepCircle("interaction",[e.clientX,e.clientY],10,["currentState"],"lastState")},window.ontouchmove=function(e){e.preventDefault();for(var t=0;t<e.touches.length;t++){var r=e.touches[t];u.stepCircle("interaction",[r.pageX,r.pageY],10,["currentState"],"lastState")}},document.addEventListener("gesturestart",c),document.addEventListener("gesturechange",c),document.addEventListener("gestureend",c),window.addEventListener("resize",f),f(),window.requestAnimationFrame((function e(){u.stepNonBoundary("sim",["lastState"],"currentState"),u.step("render",["currentState"]),u.swapTextures("currentState","lastState"),window.requestAnimationFrame(e)}))},576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPGPU=void 0;for(var o=r(416),n=r(647),i=new Float32Array([-1,-1,1,-1,-1,1,1,1]),a=new Float32Array([-1,-1,1,-1,1,1,-1,1]),s=[0,0],l=0;l<=20;l++)s.push(Math.cos(2*Math.PI*l/20),Math.sin(2*Math.PI*l/20));var u=new Float32Array(s),c=function(){function e(e,t,r){void 0===r&&(r=function(e){throw new Error(e)}),this.extensions={},this.errorState=!1,this.programs={},this.textures={},this.framebuffers={},this.shaders=[];var n=this;if(this.errorCallback=function(e){n.errorState=!0,r&&r(e)},e||null!==(e=t.getContext("webgl2",{antialias:!1})||t.getContext("webgl",{antialias:!1}))){this.isWebGL2=!!e.HALF_FLOAT,this.isWebGL2?console.log("Using WebGL 2.0 context."):console.log("Using WebGL 1.0 context."),this.gl=e,this.isWebGL2?this.loadExtension("EXT_color_buffer_float"):this.loadExtension("OES_texture_half_float"),this.linearFilterEnabled=this.loadExtension("OES_texture_half_float_linear",!0),e.disable(e.DEPTH_TEST),e.pixelStorei(e.UNPACK_ALIGNMENT,1);var s=this.compileShader(o.default,e.VERTEX_SHADER);if(s){this.defaultVertexShader=s,this.quadPositionsBuffer=this.initVertexBuffer(i),this.boundaryPositionsBuffer=this.initVertexBuffer(a),this.circlePositionsBuffer=this.initVertexBuffer(u),e.bindBuffer(e.ARRAY_BUFFER,null),this.onResize(t);var l=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);console.log(l+" textures max.")}else r("Unable to initialize fullscreen quad vertex shader.")}else r("Unable to initialize WebGL context.")}return e.prototype.initVertexBuffer=function(e){var t=this.errorCallback,r=this.gl,o=r.createBuffer();if(o)return r.bindBuffer(r.ARRAY_BUFFER,o),r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW),o;t("Unable to allocate gl buffer.")},e.prototype.loadExtension=function(e,t){void 0===t&&(t=!1);var r,o=this,n=o.extensions,i=o.gl,a=o.errorCallback;try{r=i.getExtension(e)}catch(e){}return r?(n[e]=r,console.log("Loaded extension: "+e+".")):console.warn("Unsupported "+(t?"optional ":"")+"extension: "+e+"."),r||t||a("Required extension unsupported by this device / browser: "+e+"."),!!r},e.prototype.compileShader=function(e,t){var r=this,o=r.gl,n=r.errorCallback,i=r.shaders,a=o.createShader(t);return a?(o.shaderSource(a,e),o.compileShader(a),o.getShaderParameter(a,o.COMPILE_STATUS)?(i.push(a),a):(n("Could not compile "+(t===o.FRAGMENT_SHADER?"fragment":"vertex")+"\n\t\t\t\t shader: "+o.getShaderInfoLog(a)),null)):(n("Unable to init gl shader."),null)},e.prototype.initProgram=function(e,t,r){var o=this,n=this,i=n.programs,a=n.gl,s=n.errorCallback;if(i[e])return a.useProgram(i[e].program),void console.warn("Already a program with the name "+e+".");var l=this.compileShader(t,a.FRAGMENT_SHADER),u=this.defaultVertexShader;if(l&&u){var c=a.createProgram();c?(a.attachShader(c,u),a.attachShader(c,l),a.linkProgram(c),a.getProgramParameter(c,a.LINK_STATUS)||s("Program "+e+" filed to link: "+a.getProgramInfoLog(c)),i[e]={program:c,uniforms:{}},null==r||r.forEach((function(t){var r=t.name,n=t.value,i=t.dataType;o.setProgramUniform(e,r,n,i)}))):s("Unable to init gl program.")}else s("Unable to init shaders for program "+e+".")},e.prototype.uniformTypeForValue=function(e,t){if(t===n.FLOAT_TYPE){if(!isNaN(e)||1===e.length)return n.FLOAT_1D_UNIFORM;if(2===e.length)return n.FLOAT_2D_UNIFORM;if(3===e.length)return n.FLOAT_3D_UNIFORM;if(4===e.length)return n.FLOAT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}if(t===n.INT_TYPE){if(!isNaN(e)||1===e.length)return n.INT_1D_UNIFORM;if(2===e.length)return n.INT_2D_UNIFORM;if(3===e.length)return n.INT_3D_UNIFORM;if(4===e.length)return n.INT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}throw new Error("Invalid uniform data type: "+t)},e.prototype.setProgramUniform=function(e,t,r,o){var i=this,a=i.gl,s=i.programs,l=i.errorCallback,u=s[e];if(!u)throw new Error("Count not set uniform, no program of name: "+e+".");a.useProgram(u.program);var c=u.uniforms,f=this.uniformTypeForValue(r,o);if(!c[t]){var d=a.getUniformLocation(u.program,t);if(!d)return void l("Could not init uniform "+t+" for program "+e+".\nCheck that uniform is present in shader code, unused uniforms may be removed by compiler.\nAlso check that uniform type in shader code matches type "+f+".\nError code: "+a.getError()+".");c[t]={location:d,type:f}}var h=c[t];if(h.type!=f)throw new Error("Uniform "+t+" cannot change from type "+h.type+" to type "+f+".");var m=h.location;switch(f){case n.FLOAT_1D_UNIFORM:a.uniform1f(m,r);break;case n.FLOAT_2D_UNIFORM:a.uniform2fv(m,r);break;case n.FLOAT_3D_UNIFORM:a.uniform3fv(m,r);break;case n.FLOAT_4D_UNIFORM:a.uniform4fv(m,r);break;case n.INT_1D_UNIFORM:a.uniform1i(m,r);break;case n.INT_2D_UNIFORM:a.uniform2iv(m,r);break;case n.INT_3D_UNIFORM:a.uniform3iv(m,r);break;case n.INT_4D_UNIFORM:a.uniform4iv(m,r);break;default:throw new Error("Unknown uniform type: "+f+".")}},e.prototype.initFramebufferForTexture=function(e,t){void 0===t&&(t=!1);var r=this,o=r.gl,n=r.framebuffers,i=r.textures,a=r.errorCallback;n[e]&&(t||console.warn("Already a framebuffer with the name "+e+", use shouldOverwrite flag in initTexture() to ignore."),o.deleteFramebuffer(n[e]));var s=i[e];if(!s)throw new Error("Cannot init framebuffer, texture "+e+" does not exist.");var l=o.createFramebuffer();if(l){o.bindFramebuffer(o.FRAMEBUFFER,l),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,s,0);var u=o.checkFramebufferStatus(o.FRAMEBUFFER);u!=o.FRAMEBUFFER_COMPLETE&&a("Invalid status for "+e+" framebuffer: "+u+"."),n[e]=l}else a("Could not init "+e+" framebuffer: "+o.getError()+".")},e.prototype.glTextureParameters=function(e,t,r){var o,n,i,a,s=this,l=s.gl,u=s.isWebGL2,c=s.extensions;if(u){switch(a=e,3===e&&r&&(a=4),a){case 1:n=l.RED;break;case 2:n=l.RG;break;case 3:n=l.RGB;break;case 4:n=l.RGBA}switch(t){case"float16":switch(o=l.HALF_FLOAT,a){case 1:i=l.R16F;break;case 2:i=l.RG16F;break;case 3:i=l.RGB16F;break;case 4:i=l.RGBA16F}break;case"uint8":switch(o=l.UNSIGNED_BYTE,a){case 1:i=l.R8;break;case 2:i=l.RG8;break;case 3:i=l.RGB8;break;case 4:i=l.RGBA8}}}else{switch(e){case 1:case 2:case 3:n=l.RGB,i=l.RGB,a=3;break;case 4:n=l.RGBA,i=l.RGBA,a=4}switch(t){case"float16":o=c.OES_texture_half_float.HALF_FLOAT_OES;break;case"uint8":o=l.UNSIGNED_BYTE}}if(void 0===o||void 0===n||void 0===i)throw new Error("Invalid type: "+t+" or numChannels "+e+".");if(void 0===a||e<1||e>4)throw new Error("Invalid numChannels: "+e+".");return{glFormat:n,glInternalFormat:i,glType:o,glNumChannels:a}},e.prototype.initTexture=function(e,t,r,o,n,i,a,s){void 0===i&&(i=!1),void 0===s&&(s=!1);var l=this,u=l.gl,c=l.textures,f=l.framebuffers,d=l.errorCallback;if(c[e]&&(s||console.warn("Already a texture with the name "+e+", use shouldOverwrite flag to ignore."),u.deleteTexture(c[e])),a&&a.length!==t*r*n)throw new Error("Invalid data array of size "+a.length+" for texture of dimensions "+t+" x "+r+" x "+n+".");var h=u.createTexture();if(h){u.bindTexture(u.TEXTURE_2D,h),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE);var m=u.NEAREST;u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,m),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,m);var v=this.glTextureParameters(n,o,i),g=v.glFormat,p=v.glInternalFormat,b=v.glNumChannels,_=v.glType;if(a&&n!==b){var T=t*r,y=void 0;switch(o){case"uint8":y=new Uint8Array(t*r*b);break;default:throw new Error("Unsupported type "+o+" for initTexture.")}for(var E=0;E<T;E++)for(var F=0;F<n;F++)y[b*E+F]=a[E*n+F];a=y}u.texImage2D(u.TEXTURE_2D,0,p,t,r,0,g,_,a||null),c[e]=h,i?this.initFramebufferForTexture(e,s):s&&f[e]&&(u.deleteFramebuffer(f[e]),delete f[e])}else d("Could not init "+e+" texture: "+u.getError()+".")},e.prototype.onResize=function(e){var t=this.gl,r=e.clientWidth,o=e.clientHeight;t.viewport(0,0,r,o),e.width=r,e.height=o,this.width=r,this.height=o},e.prototype._step=function(e,t,r){var o=this,n=o.gl,i=o.programs,a=o.framebuffers,s=i[e];if(!s)throw new Error("Invalid program name: "+e+".");n.useProgram(s.program);var l=r?a[r]:null;if(void 0===l)throw new Error("Invalid output texture: "+r+".");n.bindFramebuffer(n.FRAMEBUFFER,l);for(var u=0;u<t.length;u++)n.activeTexture(n.TEXTURE0+u),n.bindTexture(n.TEXTURE_2D,this.textures[t[u]]);var c=n.getAttribLocation(s.program,"aPosition");n.vertexAttribPointer(c,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(c)},e.prototype.step=function(e,t,r){void 0===t&&(t=[]);var o=this,n=o.gl,i=o.errorState,a=o.quadPositionsBuffer;i||(this.setProgramUniform(e,"u_scale",[1,1],"FLOAT"),this.setProgramUniform(e,"u_translation",[0,0],"FLOAT"),n.bindBuffer(n.ARRAY_BUFFER,a),this._step(e,t,r),n.drawArrays(n.TRIANGLE_STRIP,0,4))},e.prototype.stepBoundary=function(e,t,r){void 0===t&&(t=[]);var o=this,n=o.gl,i=o.errorState,a=o.boundaryPositionsBuffer,s=o.width,l=o.height;if(!i){var u=[1/s,1/l];this.setProgramUniform(e,"u_scale",[1-u[0],1-u[1]],"FLOAT"),this.setProgramUniform(e,"u_translation",u,"FLOAT"),n.bindBuffer(n.ARRAY_BUFFER,a),this._step(e,t,r),n.drawArrays(n.LINE_LOOP,0,4)}},e.prototype.stepNonBoundary=function(e,t,r){void 0===t&&(t=[]);var o=this,n=o.gl,i=o.errorState,a=o.quadPositionsBuffer,s=o.width,l=o.height;if(!i){var u=[1/s,1/l];this.setProgramUniform(e,"u_scale",[1-2*u[0],1-2*u[1]],"FLOAT"),this.setProgramUniform(e,"u_translation",u,"FLOAT"),n.bindBuffer(n.ARRAY_BUFFER,a),this._step(e,t,r),n.drawArrays(n.TRIANGLE_STRIP,0,4)}},e.prototype.stepCircle=function(e,t,r,o,n){void 0===o&&(o=[]);var i=this,a=i.gl,s=i.errorState,l=i.circlePositionsBuffer,u=i.width,c=i.height;s||(this.setProgramUniform(e,"u_scale",[r/u,r/c],"FLOAT"),this.setProgramUniform(e,"u_translation",[2*t[0]/u-1,-2*t[1]/c+1],"FLOAT"),a.bindBuffer(a.ARRAY_BUFFER,l),this._step(e,o,n),a.drawArrays(a.TRIANGLE_FAN,0,22))},e.prototype.swapTextures=function(e,t){var r=this.textures,o=this.framebuffers,n=r[e];r[e]=this.textures[t],r[t]=n,n=o[e],o[e]=this.framebuffers[t],o[t]=n},e.prototype.reset=function(){var e=this,t=e.gl,r=e.programs,o=e.framebuffers,n=e.textures,i=e.shaders,a=e.defaultVertexShader;Object.keys(r).forEach((function(e){var o=r[e].program;t.deleteProgram(o),delete r[e]})),Object.keys(o).forEach((function(e){var r=o[e];t.deleteFramebuffer(r),delete o[e]})),Object.keys(n).forEach((function(e){var r=n[e];t.deleteTexture(r),delete n[e]}));for(var s=i.length-1;s>=0;s--)i[s]!==a&&(t.deleteShader(i[s]),i.splice(s,1))},e}();t.GPGPU=c},647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INT_TYPE=t.FLOAT_TYPE=t.INT_4D_UNIFORM=t.INT_3D_UNIFORM=t.INT_2D_UNIFORM=t.INT_1D_UNIFORM=t.FLOAT_4D_UNIFORM=t.FLOAT_3D_UNIFORM=t.FLOAT_2D_UNIFORM=t.FLOAT_1D_UNIFORM=void 0,t.FLOAT_1D_UNIFORM="1f",t.FLOAT_2D_UNIFORM="2f",t.FLOAT_3D_UNIFORM="3f",t.FLOAT_4D_UNIFORM="3f",t.INT_1D_UNIFORM="1i",t.INT_2D_UNIFORM="2i",t.INT_3D_UNIFORM="3i",t.INT_4D_UNIFORM="3i",t.FLOAT_TYPE="FLOAT",t.INT_TYPE="INT"},561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleColorFragShader=t.GPGPU=void 0;var o=r(576);Object.defineProperty(t,"GPGPU",{enumerable:!0,get:function(){return o.GPGPU}});var n=r(929);t.SingleColorFragShader=n.default},416:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\nattribute vec2 aPosition;\nuniform vec2 u_scale;\nuniform vec2 u_translation;\nvarying vec2 uv_local;\nvarying vec2 uv;\nvoid main() {\n\t// Calculate UV coordinates of current rendered object.\n\tuv_local = 0.5 * (aPosition + 1.0);\n\t// Apply transformations.\n\tvec2 position = u_scale * aPosition + u_translation;\n\t// Calculate a global uv for the viewport.\n\tuv = 0.5 * (position + 1.0);\n\t// Calculate vertex position.\n\tgl_Position = vec4(position, 0, 1);\n}\n"},929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\nuniform vec3 u_color;\nvoid main() {\n\tgl_FragColor = vec4(u_color, 1);\n}"},950:e=>{e.exports="precision mediump float;\n\nvarying vec2 uv;\nuniform sampler2D u_state;\n\nvoid main() {\n\tvec2 currentState = texture2D(u_state, uv).xy;\n\t// Add external force to current px.\n\tgl_FragColor = vec4(currentState, -5.0, 0);\n}"},539:e=>{e.exports="precision mediump float;\n\nvarying vec2 uv;\nuniform sampler2D u_state;\n\nvoid main() {\n\tfloat position = texture2D(u_state, uv).r / 20.0 + 0.5;\n\tif (position > 1.0) position = 1.0;\n\tif (position < 0.0) position = 0.0;\n\n\tif (position < 0.5){\n\t\tposition *= 2.0;\n\t\t//position = 0 -> blue\n\t\t//position = 1 -> magenta\n\t\tgl_FragColor = vec4((255.0*position)/255.0,(179.0*(1.0-position))/255.0,(150.0-54.0*position)/255.0,1.0);\n\t} else {\n\t\tposition -= 0.5;\n\t\tposition *= 2.0;\n\t\t//position = 0 -> magenta\n\t\t//position = 1 -> white\n\t\tgl_FragColor = vec4((255.0-(10.0*position))/255.0,(223.0*position)/255.0,(106.0+(67.0*position))/255.0,1.0);\n\t}\n}"},942:e=>{e.exports="precision mediump float;\n\n#define K 2.0\n#define D 1.0\n#define DT 1.0\n#define MASS 10.0\n\nvarying vec2 uv;\nuniform sampler2D u_state; // position, velocity, externalForces = r, g, b\nuniform vec2 u_pxSize;\n\nvoid main() {\n\n\tvec3 currentState = texture2D(u_state, uv).xyz;\n\tfloat currentPosition = currentState.x;\n\tfloat currentVelocity = currentState.y;\n\tfloat fTotal = currentState.z;\n\n\t// Get interactions with N, S, E, W neighbors.\n\tfor (int i = -1; i <= 1; i += 2) {\n\t\tfor (int j = -1; j <= 1; j += 2) {\n\t\t\t// Calculate uv coordinate of neighbor px.\n\t\t\tvec2 neighborUV = uv + vec2(u_pxSize.x * float(i), u_pxSize.y * float(j));\n\t\t\t// Apply spring damper constraint.\n\t\t\tvec2 neighborState = texture2D(u_state, neighborUV).xy;\n\t\t\tfloat deltaP =  neighborState.x - currentPosition;\n\t\t\tfloat deltaV = neighborState.y - currentVelocity;\n\t\t\tfTotal += K * deltaP + D * deltaV;\n\t\t}\n\t}\n\n\tfloat acceleration = fTotal / MASS;\n\tfloat velocity = acceleration * DT + currentVelocity;\n\tfloat position = velocity * DT + currentPosition;\n\n\tgl_FragColor = vec4(position, velocity, 0, 0);\n}"}},t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL21pY3JvbW9kYWwvZGlzdC9taWNyb21vZGFsLmVzLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L0dQR1BVLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9ub2RlX21vZHVsZXMvd2ViZ2wtZ3BncHUvZGlzdC9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9ub2RlX21vZHVsZXMvd2ViZ2wtZ3BncHUvZGlzdC9rZXJuZWxzL0RlZmF1bHRWZXJ0ZXhTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2tlcm5lbHMvU2luZ2xlQ29sb3JGcmFnU2hhZGVyLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMva2VybmVscy9JbnRlcmFjdGlvblNoYWRlci5nbHNsIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMva2VybmVscy9SZW5kZXJTaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vc3JjL2tlcm5lbHMvU2ltU2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmcm9tIiwiX2l0ZXJhYmxlVG9BcnJheSIsIm8iLCJtaW5MZW4iLCJuIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwibGVuIiwiYXJyMiIsIkZPQ1VTQUJMRV9FTEVNRU5UUyIsIk1vZGFsIiwiYWN0aXZlTW9kYWwiLCJ2YWxpZGF0ZU1vZGFsUHJlc2VuY2UiLCJ2YWxpZGF0ZUFyZ3MiLCJNaWNyb01vZGFsIiwiX3JlZiIsInRhcmdldE1vZGFsIiwiX3JlZiR0cmlnZ2VycyIsInRyaWdnZXJzIiwiX3JlZiRvblNob3ciLCJvblNob3ciLCJfcmVmJG9uQ2xvc2UiLCJvbkNsb3NlIiwiX3JlZiRvcGVuVHJpZ2dlciIsIm9wZW5UcmlnZ2VyIiwiX3JlZiRjbG9zZVRyaWdnZXIiLCJjbG9zZVRyaWdnZXIiLCJfcmVmJG9wZW5DbGFzcyIsIm9wZW5DbGFzcyIsIl9yZWYkZGlzYWJsZVNjcm9sbCIsImRpc2FibGVTY3JvbGwiLCJfcmVmJGRpc2FibGVGb2N1cyIsImRpc2FibGVGb2N1cyIsIl9yZWYkYXdhaXRDbG9zZUFuaW1hdCIsImF3YWl0Q2xvc2VBbmltYXRpb24iLCJfcmVmJGF3YWl0T3BlbkFuaW1hdGkiLCJhd2FpdE9wZW5BbmltYXRpb24iLCJfcmVmJGRlYnVnTW9kZSIsImRlYnVnTW9kZSIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwibW9kYWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29uZmlnIiwicmVnaXN0ZXJUcmlnZ2VycyIsImFwcGx5Iiwib25DbGljayIsImJpbmQiLCJvbktleWRvd24iLCJwcm90b1Byb3BzIiwidmFsdWUiLCJfdGhpcyIsIl9sZW4iLCJhcmd1bWVudHMiLCJfa2V5IiwiZmlsdGVyIiwiQm9vbGVhbiIsImZvckVhY2giLCJ0cmlnZ2VyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwic2hvd01vZGFsIiwiX3RoaXMyIiwidW5kZWZpbmVkIiwiYWN0aXZlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFkZCIsInNjcm9sbEJlaGF2aW91ciIsImFkZEV2ZW50TGlzdGVuZXJzIiwiaGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRGb2N1c1RvRmlyc3ROb2RlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJmb2N1cyIsInJlbW92ZSIsImNsb3NlTW9kYWwiLCJ0b2dnbGUiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsImFzc2lnbiIsInN0eWxlIiwib3ZlcmZsb3ciLCJoYXNBdHRyaWJ1dGUiLCJrZXlDb2RlIiwicmV0YWluRm9jdXMiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdGhpczMiLCJmb2N1c2FibGVOb2RlcyIsImdldEZvY3VzYWJsZU5vZGVzIiwibm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cyIsIm5vZGUiLCJvZmZzZXRQYXJlbnQiLCJjb250YWlucyIsImZvY3VzZWRJdGVtSW5kZXgiLCJpbmRleE9mIiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImlkIiwiY29uc29sZSIsIndhcm4iLCJjb25jYXQiLCJ0cmlnZ2VyTWFwIiwidmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UiLCJpbml0Iiwib3B0aW9ucyIsInRyaWdnZXJBdHRyIiwiYXR0cmlidXRlcyIsInB1c2giLCJnZW5lcmF0ZVRyaWdnZXJNYXAiLCJzaG93IiwiY2xvc2UiLCJjbG9zZU1vZGFsQnlJZCIsIndpbmRvdyIsInNpbVNoYWRlclNvdXJjZSIsInJlbmRlclNoYWRlclNvdXJjZSIsImludGVyYWN0aW9uU2hhZGVyU291cmNlIiwiY2FudmFzIiwiZ3BncHUiLCJHUEdQVSIsIm1lc3NhZ2UiLCJlcnJvckVsIiwiaW5uZXJIVE1MIiwiY292ZXJJbWciLCJkaXNwbGF5IiwiZGlzYWJsZVpvb20iLCJlIiwic2NhbGUiLCJ3ZWJraXRUcmFuc2Zvcm0iLCJtc1RyYW5zZm9ybSIsInRyYW5zZm9ybSIsIm9uUmVzaXplIiwid2lkdGgiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImNsaWVudEhlaWdodCIsImluaXRUZXh0dXJlIiwic2V0UHJvZ3JhbVVuaWZvcm0iLCJpbml0UHJvZ3JhbSIsImRhdGFUeXBlIiwib25tb3VzZW1vdmUiLCJzdGVwQ2lyY2xlIiwiY2xpZW50WCIsImNsaWVudFkiLCJvbnRvdWNobW92ZSIsInRvdWNoZXMiLCJ0b3VjaCIsInBhZ2VYIiwicGFnZVkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdGVwIiwic3RlcE5vbkJvdW5kYXJ5Iiwic3dhcFRleHR1cmVzIiwiZXhwb3J0cyIsIkRlZmF1bHRWZXJ0ZXhTaGFkZXJfMSIsImNvbnN0YW50c18xIiwiZnNRdWFkUG9zaXRpb25zIiwiRmxvYXQzMkFycmF5IiwiYm91bmRhcnlQb3NpdGlvbnMiLCJ1bml0Q2lyY2xlUG9pbnRzIiwiTWF0aCIsImNvcyIsIlBJIiwic2luIiwiY2lyY2xlUG9zaXRpb25zIiwiZ2wiLCJjYW52YXNFbCIsImVycm9yQ2FsbGJhY2siLCJFcnJvciIsImV4dGVuc2lvbnMiLCJlcnJvclN0YXRlIiwicHJvZ3JhbXMiLCJ0ZXh0dXJlcyIsImZyYW1lYnVmZmVycyIsInNoYWRlcnMiLCJzZWxmIiwiZ2V0Q29udGV4dCIsImFudGlhbGlhcyIsImlzV2ViR0wyIiwiSEFMRl9GTE9BVCIsImxvZyIsImxvYWRFeHRlbnNpb24iLCJsaW5lYXJGaWx0ZXJFbmFibGVkIiwiZGlzYWJsZSIsIkRFUFRIX1RFU1QiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19BTElHTk1FTlQiLCJkZWZhdWx0VmVydGV4U2hhZGVyIiwiY29tcGlsZVNoYWRlciIsImRlZmF1bHQiLCJWRVJURVhfU0hBREVSIiwicXVhZFBvc2l0aW9uc0J1ZmZlciIsImluaXRWZXJ0ZXhCdWZmZXIiLCJib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciIsImNpcmNsZVBvc2l0aW9uc0J1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJtYXhUZXh0dXJlc0luRnJhZ21lbnRTaGFkZXIiLCJnZXRQYXJhbWV0ZXIiLCJNQVhfVEVYVFVSRV9JTUFHRV9VTklUUyIsImRhdGEiLCJidWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJidWZmZXJEYXRhIiwiU1RBVElDX0RSQVciLCJleHRlbnNpb24iLCJvcHRpb25hbCIsImV4dCIsIl9hIiwiZ2V0RXh0ZW5zaW9uIiwic2hhZGVyU291cmNlIiwic2hhZGVyVHlwZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiRlJBR01FTlRfU0hBREVSIiwiZ2V0U2hhZGVySW5mb0xvZyIsInByb2dyYW1OYW1lIiwiZnJhZ21lbnRTaGFkZXJTb3VyY2UiLCJ1bmlmb3JtcyIsInVzZVByb2dyYW0iLCJwcm9ncmFtIiwiZnJhZ21lbnRTaGFkZXIiLCJ2ZXJ0ZXhTaGFkZXIiLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRQcm9ncmFtSW5mb0xvZyIsInVuaWZvcm0iLCJ1bmlmb3JtVHlwZUZvclZhbHVlIiwiRkxPQVRfVFlQRSIsImlzTmFOIiwiRkxPQVRfMURfVU5JRk9STSIsIkZMT0FUXzJEX1VOSUZPUk0iLCJGTE9BVF8zRF9VTklGT1JNIiwiRkxPQVRfNERfVU5JRk9STSIsIklOVF9UWVBFIiwiSU5UXzFEX1VOSUZPUk0iLCJJTlRfMkRfVU5JRk9STSIsIklOVF8zRF9VTklGT1JNIiwiSU5UXzREX1VOSUZPUk0iLCJ1bmlmb3JtTmFtZSIsInR5cGUiLCJsb2NhdGlvbl8xIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZ2V0RXJyb3IiLCJsb2NhdGlvbiIsInVuaWZvcm0xZiIsInVuaWZvcm0yZnYiLCJ1bmlmb3JtM2Z2IiwidW5pZm9ybTRmdiIsInVuaWZvcm0xaSIsInVuaWZvcm0yaXYiLCJ1bmlmb3JtM2l2IiwidW5pZm9ybTRpdiIsImluaXRGcmFtZWJ1ZmZlckZvclRleHR1cmUiLCJ0ZXh0dXJlTmFtZSIsInNob3VsZE92ZXJ3cml0ZSIsImRlbGV0ZUZyYW1lYnVmZmVyIiwidGV4dHVyZSIsImZyYW1lYnVmZmVyIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJURVhUVVJFXzJEIiwic3RhdHVzIiwiY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyIsIkZSQU1FQlVGRkVSX0NPTVBMRVRFIiwiZ2xUZXh0dXJlUGFyYW1ldGVycyIsIm51bUNoYW5uZWxzIiwiZ2xUeXBlIiwiZ2xGb3JtYXQiLCJnbEludGVybmFsRm9ybWF0IiwiZ2xOdW1DaGFubmVscyIsIlJFRCIsIlJHIiwiUkdCIiwiUkdCQSIsIlIxNkYiLCJSRzE2RiIsIlJHQjE2RiIsIlJHQkExNkYiLCJVTlNJR05FRF9CWVRFIiwiUjgiLCJSRzgiLCJSR0I4IiwiUkdCQTgiLCJIQUxGX0ZMT0FUX09FUyIsImRlbGV0ZVRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwiYmluZFRleHR1cmUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9XUkFQX1MiLCJDTEFNUF9UT19FREdFIiwiVEVYVFVSRV9XUkFQX1QiLCJORUFSRVNUIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiX2IiLCJpbWFnZVNpemUiLCJuZXdBcnJheSIsIlVpbnQ4QXJyYXkiLCJqIiwidGV4SW1hZ2UyRCIsInZpZXdwb3J0IiwiX3N0ZXAiLCJpbnB1dFRleHR1cmVzIiwib3V0cHV0VGV4dHVyZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInBvc2l0aW9uTG9jYXRpb24iLCJnZXRBdHRyaWJMb2NhdGlvbiIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwiZHJhd0FycmF5cyIsIlRSSUFOR0xFX1NUUklQIiwic3RlcEJvdW5kYXJ5Iiwib25lUHgiLCJMSU5FX0xPT1AiLCJwb3NpdGlvbiIsInJhZGl1cyIsIlRSSUFOR0xFX0ZBTiIsIk5VTV9TRUdNRU5UU19DSVJDTEUiLCJ0ZXh0dXJlMU5hbWUiLCJ0ZXh0dXJlMk5hbWUiLCJ0ZW1wIiwicmVzZXQiLCJrZXlzIiwiZGVsZXRlUHJvZ3JhbSIsImRlbGV0ZVNoYWRlciIsInNwbGljZSIsIlNpbmdsZUNvbG9yRnJhZ1NoYWRlciIsIkdQR1BVXzEiLCJnZXQiLCJTaW5nbGVDb2xvckZyYWdTaGFkZXJfMSIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsInIiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6IndDQU1BLFNBQVNBLEVBQWtCQyxFQUFRQyxHQUNqQyxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFB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QUFTLElBT1YsT0FIQWdNLEVBQW9CRCxHQUFVSCxFQUFRQSxFQUFPNUwsUUFBUzhMLEdBRy9DRixFQUFPNUwsUUNuQmY4TCxFQUFvQkcsRUFBSSxDQUFDak0sRUFBU2tNLEtBQ2pDLElBQUksSUFBSWpYLEtBQU9pWCxFQUNYSixFQUFvQmpXLEVBQUVxVyxFQUFZalgsS0FBUzZXLEVBQW9CalcsRUFBRW1LLEVBQVMvSyxJQUM1RUYsT0FBT0MsZUFBZWdMLEVBQVMvSyxFQUFLLENBQUVMLFlBQVksRUFBTThXLElBQUtRLEVBQVdqWCxNQ0ozRTZXLEVBQW9CalcsRUFBSSxDQUFDc1csRUFBS0MsSUFBU3JYLE9BQU9pQixVQUFVcVcsZUFBZW5XLEtBQUtpVyxFQUFLQyxHQ0NqRk4sRUFBb0JRLEVBQUt0TSxJQUNILG9CQUFYdkssUUFBMEJBLE9BQU84VyxhQUMxQ3hYLE9BQU9DLGVBQWVnTCxFQUFTdkssT0FBTzhXLFlBQWEsQ0FBRS9TLE1BQU8sV0FFN0R6RSxPQUFPQyxlQUFlZ0wsRUFBUyxhQUFjLENBQUV4RyxPQUFPLEtDSHZEc1MsRUFBb0IsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShuKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbnZhciBNaWNyb01vZGFsID0gZnVuY3Rpb24gKCkge1xuXG4gIHZhciBGT0NVU0FCTEVfRUxFTUVOVFMgPSBbJ2FbaHJlZl0nLCAnYXJlYVtocmVmXScsICdpbnB1dDpub3QoW2Rpc2FibGVkXSk6bm90KFt0eXBlPVwiaGlkZGVuXCJdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnc2VsZWN0Om5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAndGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICdidXR0b246bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICdpZnJhbWUnLCAnb2JqZWN0JywgJ2VtYmVkJywgJ1tjb250ZW50ZWRpdGFibGVdJywgJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleF49XCItXCJdKSddO1xuXG4gIHZhciBNb2RhbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kYWwoX3JlZikge1xuICAgICAgdmFyIHRhcmdldE1vZGFsID0gX3JlZi50YXJnZXRNb2RhbCxcbiAgICAgICAgICBfcmVmJHRyaWdnZXJzID0gX3JlZi50cmlnZ2VycyxcbiAgICAgICAgICB0cmlnZ2VycyA9IF9yZWYkdHJpZ2dlcnMgPT09IHZvaWQgMCA/IFtdIDogX3JlZiR0cmlnZ2VycyxcbiAgICAgICAgICBfcmVmJG9uU2hvdyA9IF9yZWYub25TaG93LFxuICAgICAgICAgIG9uU2hvdyA9IF9yZWYkb25TaG93ID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7fSA6IF9yZWYkb25TaG93LFxuICAgICAgICAgIF9yZWYkb25DbG9zZSA9IF9yZWYub25DbG9zZSxcbiAgICAgICAgICBvbkNsb3NlID0gX3JlZiRvbkNsb3NlID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7fSA6IF9yZWYkb25DbG9zZSxcbiAgICAgICAgICBfcmVmJG9wZW5UcmlnZ2VyID0gX3JlZi5vcGVuVHJpZ2dlcixcbiAgICAgICAgICBvcGVuVHJpZ2dlciA9IF9yZWYkb3BlblRyaWdnZXIgPT09IHZvaWQgMCA/ICdkYXRhLW1pY3JvbW9kYWwtdHJpZ2dlcicgOiBfcmVmJG9wZW5UcmlnZ2VyLFxuICAgICAgICAgIF9yZWYkY2xvc2VUcmlnZ2VyID0gX3JlZi5jbG9zZVRyaWdnZXIsXG4gICAgICAgICAgY2xvc2VUcmlnZ2VyID0gX3JlZiRjbG9zZVRyaWdnZXIgPT09IHZvaWQgMCA/ICdkYXRhLW1pY3JvbW9kYWwtY2xvc2UnIDogX3JlZiRjbG9zZVRyaWdnZXIsXG4gICAgICAgICAgX3JlZiRvcGVuQ2xhc3MgPSBfcmVmLm9wZW5DbGFzcyxcbiAgICAgICAgICBvcGVuQ2xhc3MgPSBfcmVmJG9wZW5DbGFzcyA9PT0gdm9pZCAwID8gJ2lzLW9wZW4nIDogX3JlZiRvcGVuQ2xhc3MsXG4gICAgICAgICAgX3JlZiRkaXNhYmxlU2Nyb2xsID0gX3JlZi5kaXNhYmxlU2Nyb2xsLFxuICAgICAgICAgIGRpc2FibGVTY3JvbGwgPSBfcmVmJGRpc2FibGVTY3JvbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRkaXNhYmxlU2Nyb2xsLFxuICAgICAgICAgIF9yZWYkZGlzYWJsZUZvY3VzID0gX3JlZi5kaXNhYmxlRm9jdXMsXG4gICAgICAgICAgZGlzYWJsZUZvY3VzID0gX3JlZiRkaXNhYmxlRm9jdXMgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRkaXNhYmxlRm9jdXMsXG4gICAgICAgICAgX3JlZiRhd2FpdENsb3NlQW5pbWF0ID0gX3JlZi5hd2FpdENsb3NlQW5pbWF0aW9uLFxuICAgICAgICAgIGF3YWl0Q2xvc2VBbmltYXRpb24gPSBfcmVmJGF3YWl0Q2xvc2VBbmltYXQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRhd2FpdENsb3NlQW5pbWF0LFxuICAgICAgICAgIF9yZWYkYXdhaXRPcGVuQW5pbWF0aSA9IF9yZWYuYXdhaXRPcGVuQW5pbWF0aW9uLFxuICAgICAgICAgIGF3YWl0T3BlbkFuaW1hdGlvbiA9IF9yZWYkYXdhaXRPcGVuQW5pbWF0aSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGF3YWl0T3BlbkFuaW1hdGksXG4gICAgICAgICAgX3JlZiRkZWJ1Z01vZGUgPSBfcmVmLmRlYnVnTW9kZSxcbiAgICAgICAgICBkZWJ1Z01vZGUgPSBfcmVmJGRlYnVnTW9kZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGRlYnVnTW9kZTtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsKTtcblxuICAgICAgLy8gU2F2ZSBhIHJlZmVyZW5jZSBvZiB0aGUgbW9kYWxcbiAgICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRNb2RhbCk7IC8vIFNhdmUgYSByZWZlcmVuY2UgdG8gdGhlIHBhc3NlZCBjb25maWdcblxuICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgIGRlYnVnTW9kZTogZGVidWdNb2RlLFxuICAgICAgICBkaXNhYmxlU2Nyb2xsOiBkaXNhYmxlU2Nyb2xsLFxuICAgICAgICBvcGVuVHJpZ2dlcjogb3BlblRyaWdnZXIsXG4gICAgICAgIGNsb3NlVHJpZ2dlcjogY2xvc2VUcmlnZ2VyLFxuICAgICAgICBvcGVuQ2xhc3M6IG9wZW5DbGFzcyxcbiAgICAgICAgb25TaG93OiBvblNob3csXG4gICAgICAgIG9uQ2xvc2U6IG9uQ2xvc2UsXG4gICAgICAgIGF3YWl0Q2xvc2VBbmltYXRpb246IGF3YWl0Q2xvc2VBbmltYXRpb24sXG4gICAgICAgIGF3YWl0T3BlbkFuaW1hdGlvbjogYXdhaXRPcGVuQW5pbWF0aW9uLFxuICAgICAgICBkaXNhYmxlRm9jdXM6IGRpc2FibGVGb2N1c1xuICAgICAgfTsgLy8gUmVnaXN0ZXIgY2xpY2sgZXZlbnRzIG9ubHkgaWYgcHJlIGJpbmRpbmcgZXZlbnRMaXN0ZW5lcnNcblxuICAgICAgaWYgKHRyaWdnZXJzLmxlbmd0aCA+IDApIHRoaXMucmVnaXN0ZXJUcmlnZ2Vycy5hcHBseSh0aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkodHJpZ2dlcnMpKTsgLy8gcHJlIGJpbmQgZnVuY3Rpb25zIGZvciBldmVudCBsaXN0ZW5lcnNcblxuICAgICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLm9uS2V5ZG93biA9IHRoaXMub25LZXlkb3duLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb3BzIHRocm91Z2ggYWxsIG9wZW5UcmlnZ2VycyBhbmQgYmluZHMgY2xpY2sgZXZlbnRcbiAgICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlcnMgW0FycmF5IG9mIG5vZGUgZWxlbWVudHNdXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE1vZGFsLCBbe1xuICAgICAga2V5OiBcInJlZ2lzdGVyVHJpZ2dlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlclRyaWdnZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB0cmlnZ2VycyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICB0cmlnZ2Vyc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyaWdnZXJzLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmlnZ2VyKSB7XG4gICAgICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNob3dNb2RhbChldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzaG93TW9kYWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93TW9kYWwoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgdGhpcy5hY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgdGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5vcGVuQ2xhc3MpO1xuICAgICAgICB0aGlzLnNjcm9sbEJlaGF2aW91cignZGlzYWJsZScpO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF3YWl0T3BlbkFuaW1hdGlvbikge1xuICAgICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgICAgIF90aGlzMi5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBoYW5kbGVyLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIF90aGlzMi5zZXRGb2N1c1RvRmlyc3ROb2RlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHRoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0Rm9jdXNUb0ZpcnN0Tm9kZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb25maWcub25TaG93KHRoaXMubW9kYWwsIHRoaXMuYWN0aXZlRWxlbWVudCwgZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZU1vZGFsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuICAgICAgICB2YXIgbW9kYWwgPSB0aGlzLm1vZGFsO1xuICAgICAgICB0aGlzLm1vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmVoYXZpb3VyKCdlbmFibGUnKTtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVFbGVtZW50ICYmIHRoaXMuYWN0aXZlRWxlbWVudC5mb2N1cykge1xuICAgICAgICAgIHRoaXMuYWN0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb25maWcub25DbG9zZSh0aGlzLm1vZGFsLCB0aGlzLmFjdGl2ZUVsZW1lbnQsIGV2ZW50KTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuYXdhaXRDbG9zZUFuaW1hdGlvbikge1xuICAgICAgICAgIHZhciBvcGVuQ2xhc3MgPSB0aGlzLmNvbmZpZy5vcGVuQ2xhc3M7IC8vIDwtIG9sZCBzY2hvb2wgZnR3XG5cbiAgICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKG9wZW5DbGFzcyk7XG4gICAgICAgICAgICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcub3BlbkNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZU1vZGFsQnlJZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlTW9kYWxCeUlkKHRhcmdldE1vZGFsKSB7XG4gICAgICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRNb2RhbCk7XG4gICAgICAgIGlmICh0aGlzLm1vZGFsKSB0aGlzLmNsb3NlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2Nyb2xsQmVoYXZpb3VyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsQmVoYXZpb3VyKHRvZ2dsZSkge1xuICAgICAgICBpZiAoIXRoaXMuY29uZmlnLmRpc2FibGVTY3JvbGwpIHJldHVybjtcbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG5cbiAgICAgICAgc3dpdGNoICh0b2dnbGUpIHtcbiAgICAgICAgICBjYXNlICdlbmFibGUnOlxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihib2R5LnN0eWxlLCB7XG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2Rpc2FibGUnOlxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihib2R5LnN0eWxlLCB7XG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJhZGRFdmVudExpc3RlbmVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlkb3duKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVtb3ZlRXZlbnRMaXN0ZW5lcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgdGhpcy5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5ZG93bik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9uQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQuaGFzQXR0cmlidXRlKHRoaXMuY29uZmlnLmNsb3NlVHJpZ2dlcikpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlTW9kYWwoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9uS2V5ZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5ZG93bihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMjcpIHRoaXMuY2xvc2VNb2RhbChldmVudCk7IC8vIGVzY1xuXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSA5KSB0aGlzLnJldGFpbkZvY3VzKGV2ZW50KTsgLy8gdGFiXG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEZvY3VzYWJsZU5vZGVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlTm9kZXMoKSB7XG4gICAgICAgIHZhciBub2RlcyA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvckFsbChGT0NVU0FCTEVfRUxFTUVOVFMpO1xuICAgICAgICByZXR1cm4gQXJyYXkuYXBwbHkodm9pZCAwLCBfdG9Db25zdW1hYmxlQXJyYXkobm9kZXMpKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogVHJpZXMgdG8gc2V0IGZvY3VzIG9uIGEgbm9kZSB3aGljaCBpcyBub3QgYSBjbG9zZSB0cmlnZ2VyXG4gICAgICAgKiBpZiBubyBvdGhlciBub2RlcyBleGlzdCB0aGVuIGZvY3VzZXMgb24gZmlyc3QgY2xvc2UgdHJpZ2dlclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0Rm9jdXNUb0ZpcnN0Tm9kZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZvY3VzVG9GaXJzdE5vZGUoKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5kaXNhYmxlRm9jdXMpIHJldHVybjtcbiAgICAgICAgdmFyIGZvY3VzYWJsZU5vZGVzID0gdGhpcy5nZXRGb2N1c2FibGVOb2RlcygpOyAvLyBubyBmb2N1c2FibGUgbm9kZXNcblxuICAgICAgICBpZiAoZm9jdXNhYmxlTm9kZXMubGVuZ3RoID09PSAwKSByZXR1cm47IC8vIHJlbW92ZSBub2RlcyBvbiB3aG9zZSBjbGljaywgdGhlIG1vZGFsIGNsb3Nlc1xuICAgICAgICAvLyBjb3VsZCBub3QgdGhpbmsgb2YgYSBiZXR0ZXIgbmFtZSA6KFxuXG4gICAgICAgIHZhciBub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzID0gZm9jdXNhYmxlTm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgcmV0dXJuICFub2RlLmhhc0F0dHJpYnV0ZShfdGhpczMuY29uZmlnLmNsb3NlVHJpZ2dlcik7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cy5sZW5ndGggPiAwKSBub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzWzBdLmZvY3VzKCk7XG4gICAgICAgIGlmIChub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzLmxlbmd0aCA9PT0gMCkgZm9jdXNhYmxlTm9kZXNbMF0uZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmV0YWluRm9jdXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXRhaW5Gb2N1cyhldmVudCkge1xuICAgICAgICB2YXIgZm9jdXNhYmxlTm9kZXMgPSB0aGlzLmdldEZvY3VzYWJsZU5vZGVzKCk7IC8vIG5vIGZvY3VzYWJsZSBub2Rlc1xuXG4gICAgICAgIGlmIChmb2N1c2FibGVOb2Rlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbHRlcnMgbm9kZXMgd2hpY2ggYXJlIGhpZGRlbiB0byBwcmV2ZW50XG4gICAgICAgICAqIGZvY3VzIGxlYWsgb3V0c2lkZSBtb2RhbFxuICAgICAgICAgKi9cblxuICAgICAgICBmb2N1c2FibGVOb2RlcyA9IGZvY3VzYWJsZU5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiBub2RlLm9mZnNldFBhcmVudCAhPT0gbnVsbDtcbiAgICAgICAgfSk7IC8vIGlmIGRpc2FibGVGb2N1cyBpcyB0cnVlXG5cbiAgICAgICAgaWYgKCF0aGlzLm1vZGFsLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgZm9jdXNhYmxlTm9kZXNbMF0uZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZm9jdXNlZEl0ZW1JbmRleCA9IGZvY3VzYWJsZU5vZGVzLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkgJiYgZm9jdXNlZEl0ZW1JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgZm9jdXNhYmxlTm9kZXNbZm9jdXNhYmxlTm9kZXMubGVuZ3RoIC0gMV0uZm9jdXMoKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFldmVudC5zaGlmdEtleSAmJiBmb2N1c2FibGVOb2Rlcy5sZW5ndGggPiAwICYmIGZvY3VzZWRJdGVtSW5kZXggPT09IGZvY3VzYWJsZU5vZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGZvY3VzYWJsZU5vZGVzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNb2RhbDtcbiAgfSgpO1xuICAvKipcbiAgICogTW9kYWwgcHJvdG90eXBlIGVuZHMuXG4gICAqIEhlcmUgb24gY29kZSBpcyByZXNwb25zaWJsZSBmb3IgZGV0ZWN0aW5nIGFuZFxuICAgKiBhdXRvIGJpbmRpbmcgZXZlbnQgaGFuZGxlcnMgb24gbW9kYWwgdHJpZ2dlcnNcbiAgICovXG4gIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIG9wZW5lZCBtb2RhbFxuXG5cbiAgdmFyIGFjdGl2ZU1vZGFsID0gbnVsbDtcbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhbiBhc3NvY2lhdGl2ZSBhcnJheSBvZiBtb2RhbHMgYW5kIGl0J3NcbiAgICogcmVzcGVjdGl2ZSB0cmlnZ2Vyc1xuICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlcnMgICAgIEFuIGFycmF5IG9mIGFsbCB0cmlnZ2Vyc1xuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRyaWdnZXJBdHRyIFRoZSBkYXRhLWF0dHJpYnV0ZSB3aGljaCB0cmlnZ2VycyB0aGUgbW9kdWxlXG4gICAqIEByZXR1cm4ge2FycmF5fVxuICAgKi9cblxuICB2YXIgZ2VuZXJhdGVUcmlnZ2VyTWFwID0gZnVuY3Rpb24gZ2VuZXJhdGVUcmlnZ2VyTWFwKHRyaWdnZXJzLCB0cmlnZ2VyQXR0cikge1xuICAgIHZhciB0cmlnZ2VyTWFwID0gW107XG4gICAgdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgdmFyIHRhcmdldE1vZGFsID0gdHJpZ2dlci5hdHRyaWJ1dGVzW3RyaWdnZXJBdHRyXS52YWx1ZTtcbiAgICAgIGlmICh0cmlnZ2VyTWFwW3RhcmdldE1vZGFsXSA9PT0gdW5kZWZpbmVkKSB0cmlnZ2VyTWFwW3RhcmdldE1vZGFsXSA9IFtdO1xuICAgICAgdHJpZ2dlck1hcFt0YXJnZXRNb2RhbF0ucHVzaCh0cmlnZ2VyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJpZ2dlck1hcDtcbiAgfTtcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB3aGV0aGVyIGEgbW9kYWwgb2YgdGhlIGdpdmVuIGlkIGV4aXN0c1xuICAgKiBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAge251bWJlcn0gaWQgIFRoZSBpZCBvZiB0aGUgbW9kYWxcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICB2YXIgdmFsaWRhdGVNb2RhbFByZXNlbmNlID0gZnVuY3Rpb24gdmFsaWRhdGVNb2RhbFByZXNlbmNlKGlkKSB7XG4gICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk1pY3JvTW9kYWw6IFxcdTI3NTdTZWVtcyBsaWtlIHlvdSBoYXZlIG1pc3NlZCAlYydcIi5jb25jYXQoaWQsIFwiJ1wiKSwgJ2JhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7JywgJ0lEIHNvbWV3aGVyZSBpbiB5b3VyIGNvZGUuIFJlZmVyIGV4YW1wbGUgYmVsb3cgdG8gcmVzb2x2ZSBpdC4nKTtcbiAgICAgIGNvbnNvbGUud2FybihcIiVjRXhhbXBsZTpcIiwgJ2JhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7JywgXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbFxcXCIgaWQ9XFxcIlwiLmNvbmNhdChpZCwgXCJcXFwiPjwvZGl2PlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogVmFsaWRhdGVzIGlmIHRoZXJlIGFyZSBtb2RhbCB0cmlnZ2VycyBwcmVzZW50XG4gICAqIGluIHRoZSBET01cbiAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJzIEFuIGFycmF5IG9mIGRhdGEtdHJpZ2dlcnNcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICB2YXIgdmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UgPSBmdW5jdGlvbiB2YWxpZGF0ZVRyaWdnZXJQcmVzZW5jZSh0cmlnZ2Vycykge1xuICAgIGlmICh0cmlnZ2Vycy5sZW5ndGggPD0gMCkge1xuICAgICAgY29uc29sZS53YXJuKFwiTWljcm9Nb2RhbDogXFx1Mjc1N1BsZWFzZSBzcGVjaWZ5IGF0IGxlYXN0IG9uZSAlYydtaWNyb21vZGFsLXRyaWdnZXInXCIsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsICdkYXRhIGF0dHJpYnV0ZS4nKTtcbiAgICAgIGNvbnNvbGUud2FybihcIiVjRXhhbXBsZTpcIiwgJ2JhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7JywgXCI8YSBocmVmPVxcXCIjXFxcIiBkYXRhLW1pY3JvbW9kYWwtdHJpZ2dlcj1cXFwibXktbW9kYWxcXFwiPjwvYT5cIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ2hlY2tzIGlmIHRyaWdnZXJzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG1vZGFsc1xuICAgKiBhcmUgcHJlc2VudCBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VycyAgIEFycmF5IG9mIERPTSBub2RlcyB3aGljaCBoYXZlIGRhdGEtdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJNYXAgQXNzb2NpYXRpdmUgYXJyYXkgb2YgbW9kYWxzIGFuZCB0aGVpciB0cmlnZ2Vyc1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHZhciB2YWxpZGF0ZUFyZ3MgPSBmdW5jdGlvbiB2YWxpZGF0ZUFyZ3ModHJpZ2dlcnMsIHRyaWdnZXJNYXApIHtcbiAgICB2YWxpZGF0ZVRyaWdnZXJQcmVzZW5jZSh0cmlnZ2Vycyk7XG4gICAgaWYgKCF0cmlnZ2VyTWFwKSByZXR1cm4gdHJ1ZTtcblxuICAgIGZvciAodmFyIGlkIGluIHRyaWdnZXJNYXApIHtcbiAgICAgIHZhbGlkYXRlTW9kYWxQcmVzZW5jZShpZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBCaW5kcyBjbGljayBoYW5kbGVycyB0byBhbGwgbW9kYWwgdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7b2JqZWN0fSBjb25maWcgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG5cblxuICB2YXIgaW5pdCA9IGZ1bmN0aW9uIGluaXQoY29uZmlnKSB7XG4gICAgLy8gQ3JlYXRlIGFuIGNvbmZpZyBvYmplY3Qgd2l0aCBkZWZhdWx0IG9wZW5UcmlnZ2VyXG4gICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICBvcGVuVHJpZ2dlcjogJ2RhdGEtbWljcm9tb2RhbC10cmlnZ2VyJ1xuICAgIH0sIGNvbmZpZyk7IC8vIENvbGxlY3RzIGFsbCB0aGUgbm9kZXMgd2l0aCB0aGUgdHJpZ2dlclxuXG4gICAgdmFyIHRyaWdnZXJzID0gX3RvQ29uc3VtYWJsZUFycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIuY29uY2F0KG9wdGlvbnMub3BlblRyaWdnZXIsIFwiXVwiKSkpOyAvLyBNYWtlcyBhIG1hcHBpbmdzIG9mIG1vZGFscyB3aXRoIHRoZWlyIHRyaWdnZXIgbm9kZXNcblxuXG4gICAgdmFyIHRyaWdnZXJNYXAgPSBnZW5lcmF0ZVRyaWdnZXJNYXAodHJpZ2dlcnMsIG9wdGlvbnMub3BlblRyaWdnZXIpOyAvLyBDaGVja3MgaWYgbW9kYWxzIGFuZCB0cmlnZ2VycyBleGlzdCBpbiBkb21cblxuICAgIGlmIChvcHRpb25zLmRlYnVnTW9kZSA9PT0gdHJ1ZSAmJiB2YWxpZGF0ZUFyZ3ModHJpZ2dlcnMsIHRyaWdnZXJNYXApID09PSBmYWxzZSkgcmV0dXJuOyAvLyBGb3IgZXZlcnkgdGFyZ2V0IG1vZGFsIGNyZWF0ZXMgYSBuZXcgaW5zdGFuY2VcblxuICAgIGZvciAodmFyIGtleSBpbiB0cmlnZ2VyTWFwKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0cmlnZ2VyTWFwW2tleV07XG4gICAgICBvcHRpb25zLnRhcmdldE1vZGFsID0ga2V5O1xuICAgICAgb3B0aW9ucy50cmlnZ2VycyA9IF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZSk7XG4gICAgICBhY3RpdmVNb2RhbCA9IG5ldyBNb2RhbChvcHRpb25zKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBTaG93cyBhIHBhcnRpY3VsYXIgbW9kYWxcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0YXJnZXRNb2RhbCBbVGhlIGlkIG9mIHRoZSBtb2RhbCB0byBkaXNwbGF5XVxuICAgKiBAcGFyYW0gIHtvYmplY3R9IGNvbmZpZyBbVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIHBhc3NdXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuXG5cbiAgdmFyIHNob3cgPSBmdW5jdGlvbiBzaG93KHRhcmdldE1vZGFsLCBjb25maWcpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGNvbmZpZyB8fCB7fTtcbiAgICBvcHRpb25zLnRhcmdldE1vZGFsID0gdGFyZ2V0TW9kYWw7IC8vIENoZWNrcyBpZiBtb2RhbHMgYW5kIHRyaWdnZXJzIGV4aXN0IGluIGRvbVxuXG4gICAgaWYgKG9wdGlvbnMuZGVidWdNb2RlID09PSB0cnVlICYmIHZhbGlkYXRlTW9kYWxQcmVzZW5jZSh0YXJnZXRNb2RhbCkgPT09IGZhbHNlKSByZXR1cm47IC8vIGNsZWFyIGV2ZW50cyBpbiBjYXNlIHByZXZpb3VzIG1vZGFsIHdhc24ndCBjbG9zZVxuXG4gICAgaWYgKGFjdGl2ZU1vZGFsKSBhY3RpdmVNb2RhbC5yZW1vdmVFdmVudExpc3RlbmVycygpOyAvLyBzdG9yZXMgcmVmZXJlbmNlIHRvIGFjdGl2ZSBtb2RhbFxuXG4gICAgYWN0aXZlTW9kYWwgPSBuZXcgTW9kYWwob3B0aW9ucyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG5cbiAgICBhY3RpdmVNb2RhbC5zaG93TW9kYWwoKTtcbiAgfTtcbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgYWN0aXZlIG1vZGFsXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGFyZ2V0TW9kYWwgW1RoZSBpZCBvZiB0aGUgbW9kYWwgdG8gY2xvc2VdXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuXG5cbiAgdmFyIGNsb3NlID0gZnVuY3Rpb24gY2xvc2UodGFyZ2V0TW9kYWwpIHtcbiAgICB0YXJnZXRNb2RhbCA/IGFjdGl2ZU1vZGFsLmNsb3NlTW9kYWxCeUlkKHRhcmdldE1vZGFsKSA6IGFjdGl2ZU1vZGFsLmNsb3NlTW9kYWwoKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGluaXQ6IGluaXQsXG4gICAgc2hvdzogc2hvdyxcbiAgICBjbG9zZTogY2xvc2VcbiAgfTtcbn0oKTtcbndpbmRvdy5NaWNyb01vZGFsID0gTWljcm9Nb2RhbDtcblxuZXhwb3J0IGRlZmF1bHQgTWljcm9Nb2RhbDtcbiIsImltcG9ydCB7IEdQR1BVIH0gZnJvbSAnd2ViZ2wtZ3BncHUnO1xuaW1wb3J0IE1pY3JvTW9kYWwgZnJvbSAnbWljcm9tb2RhbCc7XG5jb25zdCBzaW1TaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvU2ltU2hhZGVyLmdsc2wnKTtcbmNvbnN0IHJlbmRlclNoYWRlclNvdXJjZSA9IHJlcXVpcmUoJy4va2VybmVscy9SZW5kZXJTaGFkZXIuZ2xzbCcpO1xuY29uc3QgaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvSW50ZXJhY3Rpb25TaGFkZXIuZ2xzbCcpO1xuXG4vLyBJbml0IGhlbHAgbW9kYWwuXG5NaWNyb01vZGFsLmluaXQoKTtcblxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsY2FudmFzJykgIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuY29uc3QgZ3BncHUgPSBuZXcgR1BHUFUobnVsbCwgY2FudmFzLCAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG5cdE1pY3JvTW9kYWwuc2hvdygnbW9kYWwtMicpO1xuXHRjb25zdCBlcnJvckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsRXJyb3JNc2cnKTtcblx0aWYgKGVycm9yRWwpIGVycm9yRWwuaW5uZXJIVE1MID1gRXJyb3I6ICR7bWVzc2FnZX1gO1xuXHRjb25zdCBjb3ZlckltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3ZlckltZycpO1xuXHRpZiAoY292ZXJJbWcpIGNvdmVySW1nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufSk7XG5cbmdwZ3B1LmluaXRQcm9ncmFtKCdzaW0nLCBzaW1TaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X3N0YXRlJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5cdHtcblx0XHRuYW1lOiAndV9weFNpemUnLFxuXHRcdHZhbHVlOiBbMSAvIGNhbnZhcy5jbGllbnRXaWR0aCwgMSAvIGNhbnZhcy5jbGllbnRIZWlnaHRdLFxuXHRcdGRhdGFUeXBlOiAnRkxPQVQnLFxuXHR9LFxuXSk7XG5ncGdwdS5pbml0UHJvZ3JhbSgncmVuZGVyJywgcmVuZGVyU2hhZGVyU291cmNlLCBbXG5cdHtcblx0XHRuYW1lOiAndV9zdGF0ZScsXG5cdFx0dmFsdWU6IDAsXG5cdFx0ZGF0YVR5cGU6ICdJTlQnLFxuXHR9LFxuXSk7XG5ncGdwdS5pbml0UHJvZ3JhbSgnaW50ZXJhY3Rpb24nLCBpbnRlcmFjdGlvblNoYWRlclNvdXJjZSwgW1xuXHR7XG5cdFx0bmFtZTogJ3Vfc3RhdGUnLFxuXHRcdHZhbHVlOiAwLFxuXHRcdGRhdGFUeXBlOiAnSU5UJyxcblx0fSxcbl0pO1xuXG4vLyBTZXQgdXAgaW50ZXJhY3Rpb25zLlxuY29uc3QgVE9VQ0hfUkFESVVTID0gMTA7XG53aW5kb3cub25tb3VzZW1vdmUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRncGdwdS5zdGVwQ2lyY2xlKCdpbnRlcmFjdGlvbicsIFtlLmNsaWVudFgsIGUuY2xpZW50WV0sIFRPVUNIX1JBRElVUywgWydjdXJyZW50U3RhdGUnXSwgJ2xhc3RTdGF0ZScpO1xufTtcbndpbmRvdy5vbnRvdWNobW92ZSA9IChlOiBUb3VjaEV2ZW50KSA9PiB7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCB0b3VjaCA9IGUudG91Y2hlc1tpXTtcblx0XHRncGdwdS5zdGVwQ2lyY2xlKCdpbnRlcmFjdGlvbicsIFt0b3VjaC5wYWdlWCwgdG91Y2gucGFnZVldLCBUT1VDSF9SQURJVVMsIFsnY3VycmVudFN0YXRlJ10sICdsYXN0U3RhdGUnKTtcblx0fVxufTtcbi8vIERpc2FibGUgb3RoZXIgZ2VzdHVyZXMuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBkaXNhYmxlWm9vbSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlY2hhbmdlJywgZGlzYWJsZVpvb20pOyBcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVlbmQnLCBkaXNhYmxlWm9vbSk7XG5mdW5jdGlvbiBkaXNhYmxlWm9vbShlOiBFdmVudCkge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGNvbnN0IHNjYWxlID0gJ3NjYWxlKDEpJztcblx0Ly8gQHRzLWlnbm9yZVxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICBzY2FsZTsgICAgLy8gQ2hyb21lLCBPcGVyYSwgU2FmYXJpXG5cdC8vIEB0cy1pZ25vcmVcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybSA9ICAgc2NhbGU7ICAgICAgIC8vIElFIDlcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSBzY2FsZTtcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbm9uUmVzaXplKCk7XG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuXG5mdW5jdGlvbiBvblJlc2l6ZSgpIHtcblx0Ly8gUmUtaW5pdCB0ZXh0dXJlcyBhdCBuZXcgc2l6ZS5cblx0Y29uc3Qgd2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XG5cdGNvbnN0IGhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XG5cdGdwZ3B1LmluaXRUZXh0dXJlKCdjdXJyZW50U3RhdGUnLCB3aWR0aCwgaGVpZ2h0LCAnZmxvYXQxNicsIDMsIHRydWUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cdGdwZ3B1LmluaXRUZXh0dXJlKCdsYXN0U3RhdGUnLCB3aWR0aCwgaGVpZ2h0LCAnZmxvYXQxNicsIDMsIHRydWUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cdGdwZ3B1LnNldFByb2dyYW1Vbmlmb3JtKCdzaW0nLCAndV9weFNpemUnLCBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XSwgJ0ZMT0FUJyk7XG5cdGdwZ3B1Lm9uUmVzaXplKGNhbnZhcyk7XG59XG5cbmZ1bmN0aW9uIHN0ZXAoKSB7XG5cdC8vIENvbXB1dGUgc2ltdWxhdGlvbi5cblx0Z3BncHUuc3RlcE5vbkJvdW5kYXJ5KCdzaW0nLCBbJ2xhc3RTdGF0ZSddLCAnY3VycmVudFN0YXRlJyk7XG5cdC8vIFJlbmRlciBjdXJyZW50IHN0YXRlLlxuXHRncGdwdS5zdGVwKCdyZW5kZXInLCBbJ2N1cnJlbnRTdGF0ZSddKTtcblx0Ly8gVG9nZ2xlIHRleHR1cmVzLlxuXHRncGdwdS5zd2FwVGV4dHVyZXMoJ2N1cnJlbnRTdGF0ZScsICdsYXN0U3RhdGUnKTtcblx0Ly8gU3RhcnQgYSBuZXcgcmVuZGVyIGN5Y2xlLlxuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xufSIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HUEdQVSA9IHZvaWQgMDtcbnZhciBEZWZhdWx0VmVydGV4U2hhZGVyXzEgPSByZXF1aXJlKFwiLi9rZXJuZWxzL0RlZmF1bHRWZXJ0ZXhTaGFkZXJcIik7XG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgZnNRdWFkUG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShbLTEsIC0xLCAxLCAtMSwgLTEsIDEsIDEsIDFdKTtcbnZhciBib3VuZGFyeVBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgMSwgLTEsIDEsIDEsIC0xLCAxXSk7XG52YXIgdW5pdENpcmNsZVBvaW50cyA9IFswLCAwXTtcbnZhciBOVU1fU0VHTUVOVFNfQ0lSQ0xFID0gMjA7XG5mb3IgKHZhciBpID0gMDsgaSA8PSBOVU1fU0VHTUVOVFNfQ0lSQ0xFOyBpKyspIHtcbiAgICB1bml0Q2lyY2xlUG9pbnRzLnB1c2goTWF0aC5jb3MoMiAqIE1hdGguUEkgKiBpIC8gTlVNX1NFR01FTlRTX0NJUkNMRSksIE1hdGguc2luKDIgKiBNYXRoLlBJICogaSAvIE5VTV9TRUdNRU5UU19DSVJDTEUpKTtcbn1cbnZhciBjaXJjbGVQb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KHVuaXRDaXJjbGVQb2ludHMpO1xuLy8gU3RvcmUgZXh0ZW5zaW9uIG5hbWVzIGFzIGNvbnN0YW50cy5cbnZhciBPRVNfVEVYVFVSRV9IQUxGX0ZMT0FUID0gJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnO1xudmFyIE9FU19URVhUVVJFX0hBbEZfRkxPQVRfTElORUFSID0gJ09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyJztcbnZhciBFWFRfQ09MT1JfQlVGRkVSX0ZMT0FUID0gJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnO1xudmFyIEdQR1BVID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdQR1BVKGdsLCBjYW52YXNFbCwgXG4gICAgLy8gT3B0aW9uYWxseSBwYXNzIGluIGFuIGVycm9yIGNhbGxiYWNrIGluIGNhc2Ugd2Ugd2FudCB0byBoYW5kbGUgZXJyb3JzIHJlbGF0ZWQgdG8gd2ViZ2wgc3VwcG9ydC5cbiAgICAvLyBlLmcuIHRocm93IHVwIGEgbW9kYWwgdGVsbGluZyB1c2VyIHRoaXMgd2lsbCBub3Qgd29yayBvbiB0aGVpciBkZXZpY2UuXG4gICAgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICBpZiAoZXJyb3JDYWxsYmFjayA9PT0gdm9pZCAwKSB7IGVycm9yQ2FsbGJhY2sgPSBmdW5jdGlvbiAobWVzc2FnZSkgeyB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7IH07IH1cbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0ge307XG4gICAgICAgIHRoaXMuZXJyb3JTdGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb2dyYW1zID0ge307IC8vIEFsbCBjdXJyZW50IGdsIHByb2dyYW1zLlxuICAgICAgICB0aGlzLnRleHR1cmVzID0ge307IC8vIEFsbCBjdXJyZW50IGdsIHRleHR1cmVzLlxuICAgICAgICB0aGlzLmZyYW1lYnVmZmVycyA9IHt9OyAvLyBBbGwgY3VycmVudCBnbCBmcmFtZWJ1ZmZlcnMuXG4gICAgICAgIHRoaXMuc2hhZGVycyA9IFtdOyAvLyBLZWVwIHRyYWNrIG9mIGFsbCBzaGFkZXJzIGluaXRlZCBzbyB0aGV5IGNhbiBiZSBwcm9wZXJseSBkZWFsbG9jYXRlZC5cbiAgICAgICAgLy8gU2F2ZSBjYWxsYmFjayBpbiBjYXNlIHdlIHJ1biBpbnRvIGFuIGVycm9yLlxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBzZWxmLmVycm9yU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spXG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhtZXNzYWdlKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSW5pdCBHTC5cbiAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgLy8gSW5pdCBhIGdsIGNvbnRleHQgaWYgbm90IHBhc3NlZCBpbi5cbiAgICAgICAgICAgIGdsID0gY2FudmFzRWwuZ2V0Q29udGV4dCgnd2ViZ2wyJywgeyBhbnRpYWxpYXM6IGZhbHNlIH0pXG4gICAgICAgICAgICAgICAgfHwgY2FudmFzRWwuZ2V0Q29udGV4dCgnd2ViZ2wnLCB7IGFudGlhbGlhczogZmFsc2UgfSk7XG4gICAgICAgICAgICAvLyB8fCBjYW52YXNFbC5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7YW50aWFsaWFzOmZhbHNlfSkgYXMgUmVuZGVyaW5nQ29udGV4dDtcbiAgICAgICAgICAgIGlmIChnbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBpbml0aWFsaXplIFdlYkdMIGNvbnRleHQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNXZWJHTDIgPSAhIWdsLkhBTEZfRkxPQVQ7XG4gICAgICAgIGlmICh0aGlzLmlzV2ViR0wyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgV2ViR0wgMi4wIGNvbnRleHQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgV2ViR0wgMS4wIGNvbnRleHQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICAvLyBHTCBzZXR1cC5cbiAgICAgICAgLy8gTG9hZCBleHRlbnNpb25zLlxuICAgICAgICAvLyBUT0RPOiBsb2FkIHRoZXNlIGV4dGVuc2lvbnMgYXMgbmVlZGVkLlxuICAgICAgICBpZiAodGhpcy5pc1dlYkdMMikge1xuICAgICAgICAgICAgLy8gRVhUX0NPTE9SX0JVRkZFUl9GTE9BVCBhZGRzIGFiaWxpdHkgdG8gcmVuZGVyIHRvIGEgdmFyaWV0eSBvZiBmbG9hdGluZyBwdCB0ZXh0dXJlcy5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FWFRfY29sb3JfYnVmZmVyX2Zsb2F0XG4gICAgICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNDI2MjQ5My9mcmFtZWJ1ZmZlci1pbmNvbXBsZXRlLWF0dGFjaG1lbnQtZm9yLXRleHR1cmUtd2l0aC1pbnRlcm5hbC1mb3JtYXRcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM2MTA5MzQ3L2ZyYW1lYnVmZmVyLWluY29tcGxldGUtYXR0YWNobWVudC1vbmx5LWhhcHBlbnMtb24tYW5kcm9pZC13LWZpcmVmb3hcbiAgICAgICAgICAgIHRoaXMubG9hZEV4dGVuc2lvbihFWFRfQ09MT1JfQlVGRkVSX0ZMT0FUKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9PRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XG4gICAgICAgICAgICAvLyBIYWxmIGZsb2F0IGlzIHN1cHBvcnRlZCBieSBtb2Rlcm4gbW9iaWxlIGJyb3dzZXJzLCBmbG9hdCBub3QgeWV0IHN1cHBvcnRlZC5cbiAgICAgICAgICAgIC8vIEhhbGYgZmxvYXQgaXMgcHJvdmlkZWQgYnkgZGVmYXVsdCBmb3IgV2ViZ2wyIGNvbnRleHRzLlxuICAgICAgICAgICAgLy8gVGhpcyBleHRlbnNpb24gaW1wbGljaXRseSBlbmFibGVzIHRoZSBFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQgZXh0ZW5zaW9uIChpZiBzdXBwb3J0ZWQpLCB3aGljaCBhbGxvd3MgcmVuZGVyaW5nIHRvIDE2LWJpdCBmbG9hdGluZyBwb2ludCBmb3JtYXRzLlxuICAgICAgICAgICAgdGhpcy5sb2FkRXh0ZW5zaW9uKE9FU19URVhUVVJFX0hBTEZfRkxPQVQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExvYWQgb3B0aW9uYWwgZXh0ZW5zaW9ucy5cbiAgICAgICAgLy8gVE9ETzogbmVlZCB0aGlzIGZvciB3ZWJnbDI/XG4gICAgICAgIHRoaXMubGluZWFyRmlsdGVyRW5hYmxlZCA9IHRoaXMubG9hZEV4dGVuc2lvbihPRVNfVEVYVFVSRV9IQWxGX0ZMT0FUX0xJTkVBUiwgdHJ1ZSk7XG4gICAgICAgIC8vIERpc2FibGUgZGVwdGggdGVzdGluZyBnbG9iYWxseS5cbiAgICAgICAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgLy8gU2V0IHVucGFjayBhbGlnbm1lbnQgdG8gMSBzbyB3ZSBjYW4gaGF2ZSB0ZXh0dXJlcyBvZiBhcmJpdHJhcnkgZGltZW5zaW9ucy5cbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTE1ODIyODIvZXJyb3Itd2hlbi1jcmVhdGluZy10ZXh0dXJlcy1pbi13ZWJnbC13aXRoLXRoZS1yZ2ItZm9ybWF0XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19BTElHTk1FTlQsIDEpO1xuICAgICAgICAvLyBJbml0IGEgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHRoYXQganVzdCBwYXNzZXMgdGhyb3VnaCBzY3JlZW4gY29vcmRzLlxuICAgICAgICB2YXIgZGVmYXVsdFZlcnRleFNoYWRlciA9IHRoaXMuY29tcGlsZVNoYWRlcihEZWZhdWx0VmVydGV4U2hhZGVyXzEuZGVmYXVsdCwgZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgICAgIGlmICghZGVmYXVsdFZlcnRleFNoYWRlcikge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjaygnVW5hYmxlIHRvIGluaXRpYWxpemUgZnVsbHNjcmVlbiBxdWFkIHZlcnRleCBzaGFkZXIuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWZhdWx0VmVydGV4U2hhZGVyID0gZGVmYXVsdFZlcnRleFNoYWRlcjtcbiAgICAgICAgLy8gQ3JlYXRlIHZlcnRleCBidWZmZXJzLlxuICAgICAgICB0aGlzLnF1YWRQb3NpdGlvbnNCdWZmZXIgPSB0aGlzLmluaXRWZXJ0ZXhCdWZmZXIoZnNRdWFkUG9zaXRpb25zKTtcbiAgICAgICAgdGhpcy5ib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciA9IHRoaXMuaW5pdFZlcnRleEJ1ZmZlcihib3VuZGFyeVBvc2l0aW9ucyk7XG4gICAgICAgIHRoaXMuY2lyY2xlUG9zaXRpb25zQnVmZmVyID0gdGhpcy5pbml0VmVydGV4QnVmZmVyKGNpcmNsZVBvc2l0aW9ucyk7XG4gICAgICAgIC8vIFVuYmluZCBhY3RpdmUgYnVmZmVyLlxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgICAgIC8vIENhbnZhcyBzZXR1cC5cbiAgICAgICAgdGhpcy5vblJlc2l6ZShjYW52YXNFbCk7XG4gICAgICAgIC8vIExvZyBudW1iZXIgb2YgdGV4dHVyZXMgYXZhaWxhYmxlLlxuICAgICAgICB2YXIgbWF4VGV4dHVyZXNJbkZyYWdtZW50U2hhZGVyID0gdGhpcy5nbC5nZXRQYXJhbWV0ZXIodGhpcy5nbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG4gICAgICAgIGNvbnNvbGUubG9nKG1heFRleHR1cmVzSW5GcmFnbWVudFNoYWRlciArIFwiIHRleHR1cmVzIG1heC5cIik7XG4gICAgfVxuICAgIEdQR1BVLnByb3RvdHlwZS5pbml0VmVydGV4QnVmZmVyID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2ssIGdsID0gX2EuZ2w7XG4gICAgICAgIHZhciBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBhbGxvY2F0ZSBnbCBidWZmZXIuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XG4gICAgICAgIC8vIEFkZCB2ZXJ0ZXggZGF0YSBmb3IgZHJhd2luZyBmdWxsIHNjcmVlbiBxdWFkIHZpYSB0cmlhbmdsZSBzdHJpcC5cbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGRhdGEsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5sb2FkRXh0ZW5zaW9uID0gZnVuY3Rpb24gKGV4dGVuc2lvbiwgb3B0aW9uYWwpIHtcbiAgICAgICAgaWYgKG9wdGlvbmFsID09PSB2b2lkIDApIHsgb3B0aW9uYWwgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBleHRlbnNpb25zID0gX2EuZXh0ZW5zaW9ucywgZ2wgPSBfYS5nbCwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIHZhciBleHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleHQgPSBnbC5nZXRFeHRlbnNpb24oZXh0ZW5zaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIGlmIChleHQpIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uXSA9IGV4dDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIGV4dGVuc2lvbjogXCIgKyBleHRlbnNpb24gKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbnN1cHBvcnRlZCBcIiArIChvcHRpb25hbCA/ICdvcHRpb25hbCAnIDogJycpICsgXCJleHRlbnNpb246IFwiICsgZXh0ZW5zaW9uICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBleHRlbnNpb24gaXMgbm90IG9wdGlvbmFsLCB0aHJvdyBlcnJvci5cbiAgICAgICAgaWYgKCFleHQgJiYgIW9wdGlvbmFsKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiUmVxdWlyZWQgZXh0ZW5zaW9uIHVuc3VwcG9ydGVkIGJ5IHRoaXMgZGV2aWNlIC8gYnJvd3NlcjogXCIgKyBleHRlbnNpb24gKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEhZXh0O1xuICAgIH07XG4gICAgLy8gQ29waWVkIGZyb20gaHR0cDovL3dlYmdsZnVuZGFtZW50YWxzLm9yZy93ZWJnbC9sZXNzb25zL3dlYmdsLWJvaWxlcnBsYXRlLmh0bWxcbiAgICBHUEdQVS5wcm90b3R5cGUuY29tcGlsZVNoYWRlciA9IGZ1bmN0aW9uIChzaGFkZXJTb3VyY2UsIHNoYWRlclR5cGUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2ssIHNoYWRlcnMgPSBfYS5zaGFkZXJzO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIHNoYWRlciBvYmplY3RcbiAgICAgICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtcbiAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBpbml0IGdsIHNoYWRlci4nKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgc2hhZGVyIHNvdXJjZSBjb2RlLlxuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xuICAgICAgICAvLyBDb21waWxlIHRoZSBzaGFkZXJcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgICAgICAvLyBDaGVjayBpZiBpdCBjb21waWxlZFxuICAgICAgICB2YXIgc3VjY2VzcyA9IGdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKTtcbiAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgY29tcGlsYXRpb24gLSBwcmludCB0aGUgZXJyb3IuXG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGNvbXBpbGUgXCIgKyAoc2hhZGVyVHlwZSA9PT0gZ2wuRlJBR01FTlRfU0hBREVSID8gJ2ZyYWdtZW50JyA6ICd2ZXJ0ZXgnKSArIFwiXFxuXFx0XFx0XFx0XFx0IHNoYWRlcjogXCIgKyBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc2hhZGVycy5wdXNoKHNoYWRlcik7XG4gICAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgfTtcbiAgICBHUEdQVS5wcm90b3R5cGUuaW5pdFByb2dyYW0gPSBmdW5jdGlvbiAocHJvZ3JhbU5hbWUsIGZyYWdtZW50U2hhZGVyU291cmNlLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBwcm9ncmFtcyA9IF9hLnByb2dyYW1zLCBnbCA9IF9hLmdsLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgaWYgKHByb2dyYW1zW3Byb2dyYW1OYW1lXSkge1xuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtc1twcm9ncmFtTmFtZV0ucHJvZ3JhbSk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBbHJlYWR5IGEgcHJvZ3JhbSB3aXRoIHRoZSBuYW1lIFwiICsgcHJvZ3JhbU5hbWUgKyBcIi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZyYWdtZW50U2hhZGVyID0gdGhpcy5jb21waWxlU2hhZGVyKGZyYWdtZW50U2hhZGVyU291cmNlLCBnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICAvLyBMb2FkIGZ1bGxzY3JlZW4gcXVhZCB2ZXJ0ZXggc2hhZGVyIGJ5IGRlZmF1bHQuXG4gICAgICAgIC8vIGNvbnN0IHZlcnRleFNoYWRlciA9IHZlcnRleFNoYWRlclNvdXJjZSA/XG4gICAgICAgIC8vIFx0dGhpcy5jb21waWxlU2hhZGVyKHZlcnRleFNoYWRlclNvdXJjZSwgZ2wuVkVSVEVYX1NIQURFUikgOlxuICAgICAgICAvLyBcdHRoaXMuZnNRdWFkVmVydGV4U2hhZGVyO1xuICAgICAgICB2YXIgdmVydGV4U2hhZGVyID0gdGhpcy5kZWZhdWx0VmVydGV4U2hhZGVyO1xuICAgICAgICBpZiAoIWZyYWdtZW50U2hhZGVyIHx8ICF2ZXJ0ZXhTaGFkZXIpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJVbmFibGUgdG8gaW5pdCBzaGFkZXJzIGZvciBwcm9ncmFtIFwiICsgcHJvZ3JhbU5hbWUgKyBcIi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIGEgcHJvZ3JhbS5cbiAgICAgICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjaygnVW5hYmxlIHRvIGluaXQgZ2wgcHJvZ3JhbS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBBdHRhY2ggdGhlIHNoYWRlcnMuXG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICAvLyBMaW5rIHRoZSBwcm9ncmFtLlxuICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgbGlua2VkLlxuICAgICAgICB2YXIgc3VjY2VzcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpO1xuICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggdGhlIGxpbmsuXG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiUHJvZ3JhbSBcIiArIHByb2dyYW1OYW1lICsgXCIgZmlsZWQgdG8gbGluazogXCIgKyBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIG5ldyBwcm9ncmFtLlxuICAgICAgICBwcm9ncmFtc1twcm9ncmFtTmFtZV0gPSB7XG4gICAgICAgICAgICBwcm9ncmFtOiBwcm9ncmFtLFxuICAgICAgICAgICAgdW5pZm9ybXM6IHt9LFxuICAgICAgICB9O1xuICAgICAgICB1bmlmb3JtcyA9PT0gbnVsbCB8fCB1bmlmb3JtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdW5pZm9ybXMuZm9yRWFjaChmdW5jdGlvbiAodW5pZm9ybSkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSB1bmlmb3JtLm5hbWUsIHZhbHVlID0gdW5pZm9ybS52YWx1ZSwgZGF0YVR5cGUgPSB1bmlmb3JtLmRhdGFUeXBlO1xuICAgICAgICAgICAgX3RoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsIG5hbWUsIHZhbHVlLCBkYXRhVHlwZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgO1xuICAgIEdQR1BVLnByb3RvdHlwZS51bmlmb3JtVHlwZUZvclZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBkYXRhVHlwZSkge1xuICAgICAgICBpZiAoZGF0YVR5cGUgPT09IGNvbnN0YW50c18xLkZMT0FUX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF8xRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF8yRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF8zRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF80RF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1bmlmb3JtIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhVHlwZSA9PT0gY29uc3RhbnRzXzEuSU5UX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5JTlRfMURfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuSU5UXzJEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLklOVF8zRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5JTlRfNERfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdW5pZm9ybSB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVuaWZvcm0gZGF0YSB0eXBlOiBcIiArIGRhdGFUeXBlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLnNldFByb2dyYW1Vbmlmb3JtID0gZnVuY3Rpb24gKHByb2dyYW1OYW1lLCB1bmlmb3JtTmFtZSwgdmFsdWUsIGRhdGFUeXBlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIHByb2dyYW1zID0gX2EucHJvZ3JhbXMsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IHByb2dyYW1zW3Byb2dyYW1OYW1lXTtcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VudCBub3Qgc2V0IHVuaWZvcm0sIG5vIHByb2dyYW0gb2YgbmFtZTogXCIgKyBwcm9ncmFtTmFtZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgYWN0aXZlIHByb2dyYW0uXG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbS5wcm9ncmFtKTtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gcHJvZ3JhbS51bmlmb3JtcztcbiAgICAgICAgdmFyIHR5cGUgPSB0aGlzLnVuaWZvcm1UeXBlRm9yVmFsdWUodmFsdWUsIGRhdGFUeXBlKTtcbiAgICAgICAgaWYgKCF1bmlmb3Jtc1t1bmlmb3JtTmFtZV0pIHtcbiAgICAgICAgICAgIC8vIEluaXQgdW5pZm9ybSBpZiBuZWVkZWQuXG4gICAgICAgICAgICB2YXIgbG9jYXRpb25fMSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLnByb2dyYW0sIHVuaWZvcm1OYW1lKTtcbiAgICAgICAgICAgIGlmICghbG9jYXRpb25fMSkge1xuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJDb3VsZCBub3QgaW5pdCB1bmlmb3JtIFwiICsgdW5pZm9ybU5hbWUgKyBcIiBmb3IgcHJvZ3JhbSBcIiArIHByb2dyYW1OYW1lICsgXCIuXFxuQ2hlY2sgdGhhdCB1bmlmb3JtIGlzIHByZXNlbnQgaW4gc2hhZGVyIGNvZGUsIHVudXNlZCB1bmlmb3JtcyBtYXkgYmUgcmVtb3ZlZCBieSBjb21waWxlci5cXG5BbHNvIGNoZWNrIHRoYXQgdW5pZm9ybSB0eXBlIGluIHNoYWRlciBjb2RlIG1hdGNoZXMgdHlwZSBcIiArIHR5cGUgKyBcIi5cXG5FcnJvciBjb2RlOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5pZm9ybXNbdW5pZm9ybU5hbWVdID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbl8xLFxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bmlmb3JtID0gdW5pZm9ybXNbdW5pZm9ybU5hbWVdO1xuICAgICAgICAvLyBDaGVjayB0aGF0IHR5cGVzIG1hdGNoIHByZXZpb3VzbHkgc2V0IHVuaWZvcm0uXG4gICAgICAgIGlmICh1bmlmb3JtLnR5cGUgIT0gdHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5pZm9ybSBcIiArIHVuaWZvcm1OYW1lICsgXCIgY2Fubm90IGNoYW5nZSBmcm9tIHR5cGUgXCIgKyB1bmlmb3JtLnR5cGUgKyBcIiB0byB0eXBlIFwiICsgdHlwZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9jYXRpb24gPSB1bmlmb3JtLmxvY2F0aW9uO1xuICAgICAgICAvLyBTZXQgdW5pZm9ybS5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC91bmlmb3JtXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5GTE9BVF8xRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5GTE9BVF8yRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuRkxPQVRfM0RfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkZMT0FUXzREX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5JTlRfMURfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuSU5UXzJEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5JTlRfM0RfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLklOVF80RF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00aXYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB1bmlmb3JtIHR5cGU6IFwiICsgdHlwZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgO1xuICAgIEdQR1BVLnByb3RvdHlwZS5pbml0RnJhbWVidWZmZXJGb3JUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmVOYW1lLCBzaG91bGRPdmVyd3JpdGUpIHtcbiAgICAgICAgaWYgKHNob3VsZE92ZXJ3cml0ZSA9PT0gdm9pZCAwKSB7IHNob3VsZE92ZXJ3cml0ZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGZyYW1lYnVmZmVycyA9IF9hLmZyYW1lYnVmZmVycywgdGV4dHVyZXMgPSBfYS50ZXh0dXJlcywgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlcnNbdGV4dHVyZU5hbWVdKSB7XG4gICAgICAgICAgICBpZiAoIXNob3VsZE92ZXJ3cml0ZSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBbHJlYWR5IGEgZnJhbWVidWZmZXIgd2l0aCB0aGUgbmFtZSBcIiArIHRleHR1cmVOYW1lICsgXCIsIHVzZSBzaG91bGRPdmVyd3JpdGUgZmxhZyBpbiBpbml0VGV4dHVyZSgpIHRvIGlnbm9yZS5cIik7XG4gICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcnNbdGV4dHVyZU5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRleHR1cmVzW3RleHR1cmVOYW1lXTtcbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaW5pdCBmcmFtZWJ1ZmZlciwgdGV4dHVyZSBcIiArIHRleHR1cmVOYW1lICsgXCIgZG9lcyBub3QgZXhpc3QuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJDb3VsZCBub3QgaW5pdCBcIiArIHRleHR1cmVOYW1lICsgXCIgZnJhbWVidWZmZXI6IFwiICsgZ2wuZ2V0RXJyb3IoKSArIFwiLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC9mcmFtZWJ1ZmZlclRleHR1cmUyRFxuICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUsIDApO1xuICAgICAgICB2YXIgc3RhdHVzID0gZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUik7XG4gICAgICAgIGlmIChzdGF0dXMgIT0gZ2wuRlJBTUVCVUZGRVJfQ09NUExFVEUpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJJbnZhbGlkIHN0YXR1cyBmb3IgXCIgKyB0ZXh0dXJlTmFtZSArIFwiIGZyYW1lYnVmZmVyOiBcIiArIHN0YXR1cyArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZWJ1ZmZlcnNbdGV4dHVyZU5hbWVdID0gZnJhbWVidWZmZXI7XG4gICAgfTtcbiAgICA7XG4gICAgR1BHUFUucHJvdG90eXBlLmdsVGV4dHVyZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiAobnVtQ2hhbm5lbHMsIHR5cGUsIHdyaXRhYmxlKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL3NwZWNzL2xhdGVzdC8yLjAvI1RFWFRVUkVfVFlQRVNfRk9STUFUU19GUk9NX0RPTV9FTEVNRU5UU19UQUJMRVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBpc1dlYkdMMiA9IF9hLmlzV2ViR0wyLCBleHRlbnNpb25zID0gX2EuZXh0ZW5zaW9ucztcbiAgICAgICAgdmFyIGdsVHlwZSwgZ2xGb3JtYXQsIGdsSW50ZXJuYWxGb3JtYXQsIGdsTnVtQ2hhbm5lbHM7XG4gICAgICAgIGlmIChpc1dlYkdMMikge1xuICAgICAgICAgICAgZ2xOdW1DaGFubmVscyA9IG51bUNoYW5uZWxzO1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvd2ViZ2wvZXh0ZW5zaW9ucy9FWFRfY29sb3JfYnVmZmVyX2Zsb2F0L1xuICAgICAgICAgICAgLy8gVGhlIHNpemVkIGludGVybmFsIGZvcm1hdCBSR0IxNkYgaXMgbm90IGNvbG9yLXJlbmRlcmFibGUgZm9yIHNvbWUgcmVhc29uLlxuICAgICAgICAgICAgLy8gSWYgbnVtQ2hhbm5lbHMgPT0gMyBmb3IgYSB3cml0YWJsZSB0ZXh0dXJlLCB1c2UgUkdCQSBpbnN0ZWFkLlxuICAgICAgICAgICAgaWYgKG51bUNoYW5uZWxzID09PSAzICYmIHdyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgZ2xOdW1DaGFubmVscyA9IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkVEO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0JBO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MTYnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5IQUxGX0ZMT0FUO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUjE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkcxNkY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkc4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0I4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAobnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBmb3IgcmVhZCBvbmx5IHRleHR1cmVzIGluIFdlYkdMIDEuMCwgd2UgY291bGQgdXNlIGdsLkFMUEhBIGFuZCBnbC5MVU1JTkFOQ0VfQUxQSEEgaGVyZS5cbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSAzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkdCQTtcbiAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MTYnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBleHRlbnNpb25zW09FU19URVhUVVJFX0hBTEZfRkxPQVRdLkhBTEZfRkxPQVRfT0VTO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciBtaXNzaW5nIHBhcmFtcy5cbiAgICAgICAgaWYgKGdsVHlwZSA9PT0gdW5kZWZpbmVkIHx8IGdsRm9ybWF0ID09PSB1bmRlZmluZWQgfHwgZ2xJbnRlcm5hbEZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHR5cGU6IFwiICsgdHlwZSArIFwiIG9yIG51bUNoYW5uZWxzIFwiICsgbnVtQ2hhbm5lbHMgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsTnVtQ2hhbm5lbHMgPT09IHVuZGVmaW5lZCB8fCBudW1DaGFubmVscyA8IDEgfHwgbnVtQ2hhbm5lbHMgPiA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG51bUNoYW5uZWxzOiBcIiArIG51bUNoYW5uZWxzICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnbEZvcm1hdDogZ2xGb3JtYXQsXG4gICAgICAgICAgICBnbEludGVybmFsRm9ybWF0OiBnbEludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgZ2xUeXBlOiBnbFR5cGUsXG4gICAgICAgICAgICBnbE51bUNoYW5uZWxzOiBnbE51bUNoYW5uZWxzLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLmluaXRUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmVOYW1lLCB3aWR0aCwgaGVpZ2h0LCB0eXBlLCBudW1DaGFubmVscywgd3JpdGFibGUsIGRhdGEsIHNob3VsZE92ZXJ3cml0ZSkge1xuICAgICAgICBpZiAod3JpdGFibGUgPT09IHZvaWQgMCkgeyB3cml0YWJsZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChzaG91bGRPdmVyd3JpdGUgPT09IHZvaWQgMCkgeyBzaG91bGRPdmVyd3JpdGUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCB0ZXh0dXJlcyA9IF9hLnRleHR1cmVzLCBmcmFtZWJ1ZmZlcnMgPSBfYS5mcmFtZWJ1ZmZlcnMsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICBpZiAodGV4dHVyZXNbdGV4dHVyZU5hbWVdKSB7XG4gICAgICAgICAgICBpZiAoIXNob3VsZE92ZXJ3cml0ZSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBbHJlYWR5IGEgdGV4dHVyZSB3aXRoIHRoZSBuYW1lIFwiICsgdGV4dHVyZU5hbWUgKyBcIiwgdXNlIHNob3VsZE92ZXJ3cml0ZSBmbGFnIHRvIGlnbm9yZS5cIik7XG4gICAgICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmVzW3RleHR1cmVOYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBkYXRhIGlzIGNvcnJlY3QgbGVuZ3RoLlxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCAhPT0gd2lkdGggKiBoZWlnaHQgKiBudW1DaGFubmVscykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkYXRhIGFycmF5IG9mIHNpemUgXCIgKyBkYXRhLmxlbmd0aCArIFwiIGZvciB0ZXh0dXJlIG9mIGRpbWVuc2lvbnMgXCIgKyB3aWR0aCArIFwiIHggXCIgKyBoZWlnaHQgKyBcIiB4IFwiICsgbnVtQ2hhbm5lbHMgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IFwiICsgdGV4dHVyZU5hbWUgKyBcIiB0ZXh0dXJlOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgIC8vIFRPRE86IGRpZyBpbnRvIHRoaXMuXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgdmFyIGZpbHRlciA9IGdsLk5FQVJFU1Q7IC8vdGhpcy5saW5lYXJGaWx0ZXJFbmFibGVkID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVDtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGZpbHRlcik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBmaWx0ZXIpO1xuICAgICAgICAvLyBUT0RPOiBDaGVjayB0aGF0IGRhdGEgaXMgY29ycmVjdCB0eXBlLlxuICAgICAgICAvLyBpZiAoZGF0YSAmJiB0eXBlID09PSAnZmxvYXQxNicpIHtcbiAgICAgICAgLy8gXHQvLyAvLyBTaW5jZSB0aGVyZSBpcyBubyBGbG9hdDE2VHlwZWRBcnJheSwgd2UgbXVzdCB1cyBVaW50MTZUeXBlZEFycmF5XG4gICAgICAgIC8vIFx0Ly8gY29uc3QgZmxvYXQxNkFycmF5ID0gbmV3IEludDE2QXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICAvLyBcdC8vIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBcdC8vIH1cbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xSZW5kZXJpbmdDb250ZXh0L3RleEltYWdlMkRcbiAgICAgICAgdmFyIF9iID0gdGhpcy5nbFRleHR1cmVQYXJhbWV0ZXJzKG51bUNoYW5uZWxzLCB0eXBlLCB3cml0YWJsZSksIGdsRm9ybWF0ID0gX2IuZ2xGb3JtYXQsIGdsSW50ZXJuYWxGb3JtYXQgPSBfYi5nbEludGVybmFsRm9ybWF0LCBnbE51bUNoYW5uZWxzID0gX2IuZ2xOdW1DaGFubmVscywgZ2xUeXBlID0gX2IuZ2xUeXBlO1xuICAgICAgICAvLyBDaGVjayB0aGF0IGRhdGEgaXMgY29ycmVjdCBsZW5ndGguXG4gICAgICAgIC8vIFRoaXMgb25seSBoYXBwZW5zIGZvciB3ZWJnbCAxLjAgY29udGV4dHMuXG4gICAgICAgIGlmIChkYXRhICYmIG51bUNoYW5uZWxzICE9PSBnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VTaXplID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgICAgICAgICB2YXIgbmV3QXJyYXkgPSB2b2lkIDA7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgICAgIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiBnbE51bUNoYW5uZWxzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgdHlwZSBcIiArIHR5cGUgKyBcIiBmb3IgaW5pdFRleHR1cmUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmlsbCBuZXcgZGF0YSBhcnJheSB3aXRoIG9sZCBkYXRhLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZVNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtQ2hhbm5lbHM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdBcnJheVtnbE51bUNoYW5uZWxzICogaSArIGpdID0gZGF0YVtpICogbnVtQ2hhbm5lbHMgKyBqXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhID0gbmV3QXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbEludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCBnbEZvcm1hdCwgZ2xUeXBlLCBkYXRhID8gZGF0YSA6IG51bGwpO1xuICAgICAgICB0ZXh0dXJlc1t0ZXh0dXJlTmFtZV0gPSB0ZXh0dXJlO1xuICAgICAgICBpZiAoIXdyaXRhYmxlKSB7XG4gICAgICAgICAgICAvLyBEZWxldGUgdW51c2VkIGZyYW1lYnVmZmVyIGlmIG5lZWRlZC5cbiAgICAgICAgICAgIGlmIChzaG91bGRPdmVyd3JpdGUgJiYgZnJhbWVidWZmZXJzW3RleHR1cmVOYW1lXSkge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyc1t0ZXh0dXJlTmFtZV0pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBmcmFtZWJ1ZmZlcnNbdGV4dHVyZU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaXQgYSBmcmFtZWJ1ZmZlciBmb3IgdGhpcyB0ZXh0dXJlIHNvIHdlIGNhbiB3cml0ZSB0byBpdC5cbiAgICAgICAgdGhpcy5pbml0RnJhbWVidWZmZXJGb3JUZXh0dXJlKHRleHR1cmVOYW1lLCBzaG91bGRPdmVyd3JpdGUpO1xuICAgIH07XG4gICAgO1xuICAgIEdQR1BVLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uIChjYW52YXNFbCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgd2lkdGggPSBjYW52YXNFbC5jbGllbnRXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGNhbnZhc0VsLmNsaWVudEhlaWdodDtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIC8vIFNldCBjb3JyZWN0IGNhbnZhcyBwaXhlbCBzaXplLlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xfQVBJL0J5X2V4YW1wbGUvQ2FudmFzX3NpemVfYW5kX1dlYkdMXG4gICAgICAgIGNhbnZhc0VsLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhc0VsLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgLy8gU2F2ZSBkaW1lbnNpb25zLlxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH07XG4gICAgO1xuICAgIEdQR1BVLnByb3RvdHlwZS5fc3RlcCA9IGZ1bmN0aW9uIChwcm9ncmFtTmFtZSwgaW5wdXRUZXh0dXJlcywgb3V0cHV0VGV4dHVyZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBwcm9ncmFtcyA9IF9hLnByb2dyYW1zLCBmcmFtZWJ1ZmZlcnMgPSBfYS5mcmFtZWJ1ZmZlcnM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gcHJvZ3JhbXNbcHJvZ3JhbU5hbWVdO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJvZ3JhbSBuYW1lOiBcIiArIHByb2dyYW1OYW1lICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbS5wcm9ncmFtKTtcbiAgICAgICAgdmFyIGZyYW1lYnVmZmVyID0gb3V0cHV0VGV4dHVyZSA/IGZyYW1lYnVmZmVyc1tvdXRwdXRUZXh0dXJlXSA6IG51bGw7XG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG91dHB1dCB0ZXh0dXJlOiBcIiArIG91dHB1dFRleHR1cmUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlc1tpbnB1dFRleHR1cmVzW2ldXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9pbnQgYXR0cmlidXRlIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgVkJPLlxuICAgICAgICB2YXIgcG9zaXRpb25Mb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0ucHJvZ3JhbSwgJ2FQb3NpdGlvbicpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIC8vIEVuYWJsZSB0aGUgYXR0cmlidXRlLlxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3NpdGlvbkxvY2F0aW9uKTtcbiAgICB9O1xuICAgIDtcbiAgICAvLyBTdGVwIGZvciBlbnRpcmUgZnVsbHNjcmVlbiBxdWFkLlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKHByb2dyYW1OYW1lLCBpbnB1dFRleHR1cmVzLCBvdXRwdXRUZXh0dXJlKSB7XG4gICAgICAgIGlmIChpbnB1dFRleHR1cmVzID09PSB2b2lkIDApIHsgaW5wdXRUZXh0dXJlcyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBxdWFkUG9zaXRpb25zQnVmZmVyID0gX2EucXVhZFBvc2l0aW9uc0J1ZmZlcjtcbiAgICAgICAgLy8gSWdub3JlIGlmIHdlIGFyZSBpbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIHRoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsICd1X3NjYWxlJywgWzEsIDFdLCAnRkxPQVQnKTtcbiAgICAgICAgdGhpcy5zZXRQcm9ncmFtVW5pZm9ybShwcm9ncmFtTmFtZSwgJ3VfdHJhbnNsYXRpb24nLCBbMCwgMF0sICdGTE9BVCcpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcXVhZFBvc2l0aW9uc0J1ZmZlcik7XG4gICAgICAgIHRoaXMuX3N0ZXAocHJvZ3JhbU5hbWUsIGlucHV0VGV4dHVyZXMsIG91dHB1dFRleHR1cmUpO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9O1xuICAgIC8vIFN0ZXAgcHJvZ3JhbSBvbmx5IGZvciBhIHN0cmlwIG9mIHB4IGFsb25nIHRoZSBib3VuZGFyeS5cbiAgICBHUEdQVS5wcm90b3R5cGUuc3RlcEJvdW5kYXJ5ID0gZnVuY3Rpb24gKHByb2dyYW1OYW1lLCBpbnB1dFRleHR1cmVzLCBvdXRwdXRUZXh0dXJlKSB7XG4gICAgICAgIGlmIChpbnB1dFRleHR1cmVzID09PSB2b2lkIDApIHsgaW5wdXRUZXh0dXJlcyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciA9IF9hLmJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIC8vIElnbm9yZSBpZiB3ZSBhcmUgaW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHVuaWZvcm1zIGFuZCBidWZmZXJzLlxuICAgICAgICAvLyBGcmFtZSBuZWVkcyB0byBiZSBvZmZzZXQgYW5kIHNjYWxlZCBzbyB0aGF0IGFsbCBmb3VyIHNpZGVzIGFyZSBpbiB2aWV3cG9ydC5cbiAgICAgICAgdmFyIG9uZVB4ID0gWzEgLyB3aWR0aCwgMSAvIGhlaWdodF07XG4gICAgICAgIHRoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsICd1X3NjYWxlJywgWzEgLSBvbmVQeFswXSwgMSAtIG9uZVB4WzFdXSwgJ0ZMT0FUJyk7XG4gICAgICAgIHRoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsICd1X3RyYW5zbGF0aW9uJywgb25lUHgsICdGTE9BVCcpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYm91bmRhcnlQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICB0aGlzLl9zdGVwKHByb2dyYW1OYW1lLCBpbnB1dFRleHR1cmVzLCBvdXRwdXRUZXh0dXJlKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FX0xPT1AsIDAsIDQpOyAvLyBEcmF3IHRvIGZyYW1lYnVmZmVyLlxuICAgIH07XG4gICAgLy8gU3RlcCBwcm9ncmFtIGZvciBhbGwgYnV0IGEgc3RyaXAgb2YgcHggYWxvbmcgdGhlIGJvdW5kYXJ5LlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwTm9uQm91bmRhcnkgPSBmdW5jdGlvbiAocHJvZ3JhbU5hbWUsIGlucHV0VGV4dHVyZXMsIG91dHB1dFRleHR1cmUpIHtcbiAgICAgICAgaWYgKGlucHV0VGV4dHVyZXMgPT09IHZvaWQgMCkgeyBpbnB1dFRleHR1cmVzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIHF1YWRQb3NpdGlvbnNCdWZmZXIgPSBfYS5xdWFkUG9zaXRpb25zQnVmZmVyLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIC8vIElnbm9yZSBpZiB3ZSBhcmUgaW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHVuaWZvcm1zIGFuZCBidWZmZXJzLlxuICAgICAgICB2YXIgb25lUHggPSBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XTtcbiAgICAgICAgdGhpcy5zZXRQcm9ncmFtVW5pZm9ybShwcm9ncmFtTmFtZSwgJ3Vfc2NhbGUnLCBbMSAtIDIgKiBvbmVQeFswXSwgMSAtIDIgKiBvbmVQeFsxXV0sICdGTE9BVCcpO1xuICAgICAgICB0aGlzLnNldFByb2dyYW1Vbmlmb3JtKHByb2dyYW1OYW1lLCAndV90cmFuc2xhdGlvbicsIG9uZVB4LCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHF1YWRQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICB0aGlzLl9zdGVwKHByb2dyYW1OYW1lLCBpbnB1dFRleHR1cmVzLCBvdXRwdXRUZXh0dXJlKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfTtcbiAgICAvLyBTdGVwIHByb2dyYW0gb25seSBmb3IgYSBjaXJjdWxhciBzcG90LlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwQ2lyY2xlID0gZnVuY3Rpb24gKHByb2dyYW1OYW1lLCBwb3NpdGlvbiwgLy8gcG9zaXRpb24gaXMgaW4gc2NyZWVuIHNwYWNlIGNvb3Jkcy5cbiAgICByYWRpdXMsIC8vIHJhZGl1cyBpcyBpbiBweC5cbiAgICBpbnB1dFRleHR1cmVzLCBvdXRwdXRUZXh0dXJlKSB7XG4gICAgICAgIGlmIChpbnB1dFRleHR1cmVzID09PSB2b2lkIDApIHsgaW5wdXRUZXh0dXJlcyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBjaXJjbGVQb3NpdGlvbnNCdWZmZXIgPSBfYS5jaXJjbGVQb3NpdGlvbnNCdWZmZXIsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgLy8gSWdub3JlIGlmIHdlIGFyZSBpbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIHRoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsICd1X3NjYWxlJywgW3JhZGl1cyAvIHdpZHRoLCByYWRpdXMgLyBoZWlnaHRdLCAnRkxPQVQnKTtcbiAgICAgICAgLy8gRmxpcCB5IGF4aXMuXG4gICAgICAgIHRoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsICd1X3RyYW5zbGF0aW9uJywgWzIgKiBwb3NpdGlvblswXSAvIHdpZHRoIC0gMSwgLTIgKiBwb3NpdGlvblsxXSAvIGhlaWdodCArIDFdLCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGNpcmNsZVBvc2l0aW9uc0J1ZmZlcik7XG4gICAgICAgIHRoaXMuX3N0ZXAocHJvZ3JhbU5hbWUsIGlucHV0VGV4dHVyZXMsIG91dHB1dFRleHR1cmUpO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX0ZBTiwgMCwgTlVNX1NFR01FTlRTX0NJUkNMRSArIDIpOyAvLyBEcmF3IHRvIGZyYW1lYnVmZmVyLlxuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLnN3YXBUZXh0dXJlcyA9IGZ1bmN0aW9uICh0ZXh0dXJlMU5hbWUsIHRleHR1cmUyTmFtZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB0ZXh0dXJlcyA9IF9hLnRleHR1cmVzLCBmcmFtZWJ1ZmZlcnMgPSBfYS5mcmFtZWJ1ZmZlcnM7XG4gICAgICAgIHZhciB0ZW1wID0gdGV4dHVyZXNbdGV4dHVyZTFOYW1lXTtcbiAgICAgICAgdGV4dHVyZXNbdGV4dHVyZTFOYW1lXSA9IHRoaXMudGV4dHVyZXNbdGV4dHVyZTJOYW1lXTtcbiAgICAgICAgdGV4dHVyZXNbdGV4dHVyZTJOYW1lXSA9IHRlbXA7XG4gICAgICAgIHRlbXAgPSBmcmFtZWJ1ZmZlcnNbdGV4dHVyZTFOYW1lXTtcbiAgICAgICAgZnJhbWVidWZmZXJzW3RleHR1cmUxTmFtZV0gPSB0aGlzLmZyYW1lYnVmZmVyc1t0ZXh0dXJlMk5hbWVdO1xuICAgICAgICBmcmFtZWJ1ZmZlcnNbdGV4dHVyZTJOYW1lXSA9IHRlbXA7XG4gICAgfTtcbiAgICA7XG4gICAgLy8gc3dhcDNUZXh0dXJlcyhcbiAgICAvLyBcdHRleHR1cmUxTmFtZTogc3RyaW5nLFxuICAgIC8vIFx0dGV4dHVyZTJOYW1lOiBzdHJpbmcsXG4gICAgLy8gXHR0ZXh0dXJlM05hbWU6IHN0cmluZyxcbiAgICAvLyApIHtcbiAgICAvLyAgICAgbGV0IHRlbXAgPSB0aGlzLnRleHR1cmVzW3RleHR1cmUzTmFtZV07XG4gICAgLy8gICAgIHRoaXMudGV4dHVyZXNbdGV4dHVyZTNOYW1lXSA9IHRoaXMudGV4dHVyZXNbdGV4dHVyZTJOYW1lXTtcbiAgICAvLyAgICAgdGhpcy50ZXh0dXJlc1t0ZXh0dXJlMk5hbWVdID0gdGhpcy50ZXh0dXJlc1t0ZXh0dXJlMU5hbWVdO1xuICAgIC8vICAgICB0aGlzLnRleHR1cmVzW3RleHR1cmUxTmFtZV0gPSB0ZW1wO1xuICAgIC8vICAgICB0ZW1wID0gdGhpcy5mcmFtZWJ1ZmZlcnNbdGV4dHVyZTNOYW1lXTtcbiAgICAvLyAgICAgdGhpcy5mcmFtZWJ1ZmZlcnNbdGV4dHVyZTNOYW1lXSA9IHRoaXMuZnJhbWVidWZmZXJzW3RleHR1cmUyTmFtZV07XG4gICAgLy8gICAgIHRoaXMuZnJhbWVidWZmZXJzW3RleHR1cmUyTmFtZV0gPSB0aGlzLmZyYW1lYnVmZmVyc1t0ZXh0dXJlMU5hbWVdO1xuICAgIC8vICAgICB0aGlzLmZyYW1lYnVmZmVyc1t0ZXh0dXJlMU5hbWVdID0gdGVtcDtcbiAgICAvLyB9O1xuICAgIC8vIHJlYWR5VG9SZWFkKCkge1xuICAgIC8vIFx0Y29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICAvLyAgICAgcmV0dXJuIGdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpID09IGdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFO1xuICAgIC8vIH07XG4gICAgLy8gcmVhZFBpeGVscyh4TWluOiBudW1iZXIsIHlNaW46IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGFycmF5OiBUZXh0dXJlRGF0YVR5cGUpIHtcbiAgICAvLyBcdGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgLy8gXHRnbC5yZWFkUGl4ZWxzKHhNaW4sIHlNaW4sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGFycmF5KTtcbiAgICAvLyB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVE9ETzogbWFrZSBzdXJlIHdlIGFyZSBhY3R1YWxseSBkZWFsbG9jYXRpbmcgcmVzb3VyY2VzIGhlcmUuXG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIHByb2dyYW1zID0gX2EucHJvZ3JhbXMsIGZyYW1lYnVmZmVycyA9IF9hLmZyYW1lYnVmZmVycywgdGV4dHVyZXMgPSBfYS50ZXh0dXJlcywgc2hhZGVycyA9IF9hLnNoYWRlcnMsIGRlZmF1bHRWZXJ0ZXhTaGFkZXIgPSBfYS5kZWZhdWx0VmVydGV4U2hhZGVyO1xuICAgICAgICAvLyBVbmJpbmQgYWxsIGRhdGEgYmVmb3JlIGRlbGV0aW5nLlxuICAgICAgICBPYmplY3Qua2V5cyhwcm9ncmFtcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IHByb2dyYW1zW2tleV0ucHJvZ3JhbTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgICAgICBkZWxldGUgcHJvZ3JhbXNba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5rZXlzKGZyYW1lYnVmZmVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSBmcmFtZWJ1ZmZlcnNba2V5XTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIGRlbGV0ZSBmcmFtZWJ1ZmZlcnNba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5rZXlzKHRleHR1cmVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGV4dHVyZXNba2V5XTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgICAgICBkZWxldGUgdGV4dHVyZXNba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzaGFkZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAoc2hhZGVyc1tpXSA9PT0gZGVmYXVsdFZlcnRleFNoYWRlcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xSZW5kZXJpbmdDb250ZXh0L2RlbGV0ZVNoYWRlclxuICAgICAgICAgICAgLy8gVGhpcyBtZXRob2QgaGFzIG5vIGVmZmVjdCBpZiB0aGUgc2hhZGVyIGhhcyBhbHJlYWR5IGJlZW4gZGVsZXRlZFxuICAgICAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcnNbaV0pO1xuICAgICAgICAgICAgc2hhZGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIDtcbiAgICByZXR1cm4gR1BHUFU7XG59KCkpO1xuZXhwb3J0cy5HUEdQVSA9IEdQR1BVO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R1BHUFUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklOVF9UWVBFID0gZXhwb3J0cy5GTE9BVF9UWVBFID0gZXhwb3J0cy5JTlRfNERfVU5JRk9STSA9IGV4cG9ydHMuSU5UXzNEX1VOSUZPUk0gPSBleHBvcnRzLklOVF8yRF9VTklGT1JNID0gZXhwb3J0cy5JTlRfMURfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfNERfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfM0RfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfMkRfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfMURfVU5JRk9STSA9IHZvaWQgMDtcbmV4cG9ydHMuRkxPQVRfMURfVU5JRk9STSA9ICcxZic7XG5leHBvcnRzLkZMT0FUXzJEX1VOSUZPUk0gPSAnMmYnO1xuZXhwb3J0cy5GTE9BVF8zRF9VTklGT1JNID0gJzNmJztcbmV4cG9ydHMuRkxPQVRfNERfVU5JRk9STSA9ICczZic7XG5leHBvcnRzLklOVF8xRF9VTklGT1JNID0gJzFpJztcbmV4cG9ydHMuSU5UXzJEX1VOSUZPUk0gPSAnMmknO1xuZXhwb3J0cy5JTlRfM0RfVU5JRk9STSA9ICczaSc7XG5leHBvcnRzLklOVF80RF9VTklGT1JNID0gJzNpJztcbmV4cG9ydHMuRkxPQVRfVFlQRSA9ICdGTE9BVCc7XG5leHBvcnRzLklOVF9UWVBFID0gJ0lOVCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNpbmdsZUNvbG9yRnJhZ1NoYWRlciA9IGV4cG9ydHMuR1BHUFUgPSB2b2lkIDA7XG52YXIgR1BHUFVfMSA9IHJlcXVpcmUoXCIuL0dQR1BVXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR1BHUFVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEdQR1BVXzEuR1BHUFU7IH0gfSk7XG52YXIgU2luZ2xlQ29sb3JGcmFnU2hhZGVyXzEgPSByZXF1aXJlKFwiLi9rZXJuZWxzL1NpbmdsZUNvbG9yRnJhZ1NoYWRlclwiKTtcbmV4cG9ydHMuU2luZ2xlQ29sb3JGcmFnU2hhZGVyID0gU2luZ2xlQ29sb3JGcmFnU2hhZGVyXzEuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gVmVydGV4IHNoYWRlciBmb3IgZnVsbHNjcmVlbiBxdWFkLlxuZXhwb3J0cy5kZWZhdWx0ID0gXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uO1xcbnVuaWZvcm0gdmVjMiB1X3NjYWxlO1xcbnVuaWZvcm0gdmVjMiB1X3RyYW5zbGF0aW9uO1xcbnZhcnlpbmcgdmVjMiB1dl9sb2NhbDtcXG52YXJ5aW5nIHZlYzIgdXY7XFxudm9pZCBtYWluKCkge1xcblxcdC8vIENhbGN1bGF0ZSBVViBjb29yZGluYXRlcyBvZiBjdXJyZW50IHJlbmRlcmVkIG9iamVjdC5cXG5cXHR1dl9sb2NhbCA9IDAuNSAqIChhUG9zaXRpb24gKyAxLjApO1xcblxcdC8vIEFwcGx5IHRyYW5zZm9ybWF0aW9ucy5cXG5cXHR2ZWMyIHBvc2l0aW9uID0gdV9zY2FsZSAqIGFQb3NpdGlvbiArIHVfdHJhbnNsYXRpb247XFxuXFx0Ly8gQ2FsY3VsYXRlIGEgZ2xvYmFsIHV2IGZvciB0aGUgdmlld3BvcnQuXFxuXFx0dXYgPSAwLjUgKiAocG9zaXRpb24gKyAxLjApO1xcblxcdC8vIENhbGN1bGF0ZSB2ZXJ0ZXggcG9zaXRpb24uXFxuXFx0Z2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLCAxKTtcXG59XFxuXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWZhdWx0VmVydGV4U2hhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gRnJhZ21lbnQgc2hhZGVyIHRoYXQgZHJhd3MgYSBzaW5nbGUgY29sb3IgKGZvciB0ZXN0aW5nKS5cbmV4cG9ydHMuZGVmYXVsdCA9IFwiXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnZvaWQgbWFpbigpIHtcXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KHVfY29sb3IsIDEpO1xcbn1cIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbmdsZUNvbG9yRnJhZ1NoYWRlci5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHV2O1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfc3RhdGU7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdHZlYzIgY3VycmVudFN0YXRlID0gdGV4dHVyZTJEKHVfc3RhdGUsIHV2KS54eTtcXG5cXHQvLyBBZGQgZXh0ZXJuYWwgZm9yY2UgdG8gY3VycmVudCBweC5cXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KGN1cnJlbnRTdGF0ZSwgLTUuMCwgMCk7XFxufVwiIiwibW9kdWxlLmV4cG9ydHMgPSBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB1djtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3N0YXRlO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRmbG9hdCBwb3NpdGlvbiA9IHRleHR1cmUyRCh1X3N0YXRlLCB1dikuciAvIDIwLjAgKyAwLjU7XFxuXFx0aWYgKHBvc2l0aW9uID4gMS4wKSBwb3NpdGlvbiA9IDEuMDtcXG5cXHRpZiAocG9zaXRpb24gPCAwLjApIHBvc2l0aW9uID0gMC4wO1xcblxcblxcdGlmIChwb3NpdGlvbiA8IDAuNSl7XFxuXFx0XFx0cG9zaXRpb24gKj0gMi4wO1xcblxcdFxcdC8vcG9zaXRpb24gPSAwIC0+IGJsdWVcXG5cXHRcXHQvL3Bvc2l0aW9uID0gMSAtPiBtYWdlbnRhXFxuXFx0XFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCgoMjU1LjAqcG9zaXRpb24pLzI1NS4wLCgxNzkuMCooMS4wLXBvc2l0aW9uKSkvMjU1LjAsKDE1MC4wLTU0LjAqcG9zaXRpb24pLzI1NS4wLDEuMCk7XFxuXFx0fSBlbHNlIHtcXG5cXHRcXHRwb3NpdGlvbiAtPSAwLjU7XFxuXFx0XFx0cG9zaXRpb24gKj0gMi4wO1xcblxcdFxcdC8vcG9zaXRpb24gPSAwIC0+IG1hZ2VudGFcXG5cXHRcXHQvL3Bvc2l0aW9uID0gMSAtPiB3aGl0ZVxcblxcdFxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoKDI1NS4wLSgxMC4wKnBvc2l0aW9uKSkvMjU1LjAsKDIyMy4wKnBvc2l0aW9uKS8yNTUuMCwoMTA2LjArKDY3LjAqcG9zaXRpb24pKS8yNTUuMCwxLjApO1xcblxcdH1cXG59XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxuI2RlZmluZSBLIDIuMFxcbiNkZWZpbmUgRCAxLjBcXG4jZGVmaW5lIERUIDEuMFxcbiNkZWZpbmUgTUFTUyAxMC4wXFxuXFxudmFyeWluZyB2ZWMyIHV2O1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfc3RhdGU7IC8vIHBvc2l0aW9uLCB2ZWxvY2l0eSwgZXh0ZXJuYWxGb3JjZXMgPSByLCBnLCBiXFxudW5pZm9ybSB2ZWMyIHVfcHhTaXplO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXG5cXHR2ZWMzIGN1cnJlbnRTdGF0ZSA9IHRleHR1cmUyRCh1X3N0YXRlLCB1dikueHl6O1xcblxcdGZsb2F0IGN1cnJlbnRQb3NpdGlvbiA9IGN1cnJlbnRTdGF0ZS54O1xcblxcdGZsb2F0IGN1cnJlbnRWZWxvY2l0eSA9IGN1cnJlbnRTdGF0ZS55O1xcblxcdGZsb2F0IGZUb3RhbCA9IGN1cnJlbnRTdGF0ZS56O1xcblxcblxcdC8vIEdldCBpbnRlcmFjdGlvbnMgd2l0aCBOLCBTLCBFLCBXIG5laWdoYm9ycy5cXG5cXHRmb3IgKGludCBpID0gLTE7IGkgPD0gMTsgaSArPSAyKSB7XFxuXFx0XFx0Zm9yIChpbnQgaiA9IC0xOyBqIDw9IDE7IGogKz0gMikge1xcblxcdFxcdFxcdC8vIENhbGN1bGF0ZSB1diBjb29yZGluYXRlIG9mIG5laWdoYm9yIHB4LlxcblxcdFxcdFxcdHZlYzIgbmVpZ2hib3JVViA9IHV2ICsgdmVjMih1X3B4U2l6ZS54ICogZmxvYXQoaSksIHVfcHhTaXplLnkgKiBmbG9hdChqKSk7XFxuXFx0XFx0XFx0Ly8gQXBwbHkgc3ByaW5nIGRhbXBlciBjb25zdHJhaW50LlxcblxcdFxcdFxcdHZlYzIgbmVpZ2hib3JTdGF0ZSA9IHRleHR1cmUyRCh1X3N0YXRlLCBuZWlnaGJvclVWKS54eTtcXG5cXHRcXHRcXHRmbG9hdCBkZWx0YVAgPSAgbmVpZ2hib3JTdGF0ZS54IC0gY3VycmVudFBvc2l0aW9uO1xcblxcdFxcdFxcdGZsb2F0IGRlbHRhViA9IG5laWdoYm9yU3RhdGUueSAtIGN1cnJlbnRWZWxvY2l0eTtcXG5cXHRcXHRcXHRmVG90YWwgKz0gSyAqIGRlbHRhUCArIEQgKiBkZWx0YVY7XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHRmbG9hdCBhY2NlbGVyYXRpb24gPSBmVG90YWwgLyBNQVNTO1xcblxcdGZsb2F0IHZlbG9jaXR5ID0gYWNjZWxlcmF0aW9uICogRFQgKyBjdXJyZW50VmVsb2NpdHk7XFxuXFx0ZmxvYXQgcG9zaXRpb24gPSB2ZWxvY2l0eSAqIERUICsgY3VycmVudFBvc2l0aW9uO1xcblxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQocG9zaXRpb24sIHZlbG9jaXR5LCAwLCAwKTtcXG59XCIiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbl9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ2V4cG9ydHMnIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbiJdLCJzb3VyY2VSb290IjoiIn0=