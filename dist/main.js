(()=>{var e={607:(e,t,r)=>{"use strict";var n=r(561),i=r(942),o=r(146),a=r(539),s=r(950),u=document.getElementById("glcanvas"),l=new n.GPGPU(null,u);function f(e){e.preventDefault();var t="scale(1)";document.body.style.webkitTransform=t,document.body.style.msTransform=t,document.body.style.transform=t}function c(){var e=u.clientWidth,t=u.clientHeight;l.initTexture("currentState",e,t,"float16",3,!0,void 0,!0),l.initTexture("lastState",e,t,"float16",3,!0,void 0,!0),l.setProgramUniform("sim","u_pxSize",[1/e,1/t],"FLOAT"),l.onResize(u)}l.initProgram("sim",i,[{name:"u_state",value:0,dataType:"INT"},{name:"u_pxSize",value:[1/u.clientWidth,1/u.clientHeight],dataType:"FLOAT"}]),l.initProgram("boundary",o),l.initProgram("render",a,[{name:"u_state",value:0,dataType:"INT"}]),l.initProgram("interaction",s),window.onmousemove=function(e){l.stepCircle("interaction",[e.clientX,e.clientY],10,["currentState"],"lastState")},window.ontouchmove=function(e){e.preventDefault();for(var t=0;t<e.touches.length;t++){var r=e.touches[t];l.stepCircle("interaction",[r.pageX,r.pageY],10,["currentState"],"lastState")}},document.addEventListener("gesturestart",f),document.addEventListener("gesturechange",f),document.addEventListener("gestureend",f),window.addEventListener("resize",c),c(),window.requestAnimationFrame((function e(){l.step("sim",["lastState"],"currentState"),l.stepBoundary("boundary",[],"currentState"),l.step("render",["currentState"]),l.swapTextures("currentState","lastState"),window.requestAnimationFrame(e)}))},576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPGPU=void 0;for(var n=r(416),i=r(647),o=new Float32Array([-1,-1,1,-1,-1,1,1,1]),a=new Float32Array([-1,-1,1,-1,1,1,-1,1]),s=[0,0],u=0;u<=20;u++)s.push(Math.cos(2*Math.PI*u/20),Math.sin(2*Math.PI*u/20));var l=new Float32Array(s),f=function(){function e(e,t,r){void 0===r&&(r=function(e){throw new Error(e)}),this.extensions={},this.errorState=!1,this.programs={},this.textures={},this.framebuffers={},this.shaders=[];var i=this;if(this.errorCallback=function(e){i.errorState=!0,r&&r(e)},e||null!==(e=t.getContext("webgl2",{antialias:!1})||t.getContext("webgl",{antialias:!1}))){this.isWebGL2=!!e.HALF_FLOAT,this.isWebGL2?console.log("Using WebGL 2.0 context."):console.log("Using WebGL 1.0 context."),this.gl=e,this.isWebGL2?this.loadExtension("EXT_color_buffer_float"):this.loadExtension("OES_texture_half_float"),this.linearFilterEnabled=this.loadExtension("OES_texture_half_float_linear",!0),e.disable(e.DEPTH_TEST),e.pixelStorei(e.UNPACK_ALIGNMENT,1);var s=this.compileShader(n.default,e.VERTEX_SHADER);if(s){this.defaultVertexShader=s,this.quadPositionsBuffer=this.initVertexBuffer(o),this.boundaryPositionsBuffer=this.initVertexBuffer(a),this.circlePositionsBuffer=this.initVertexBuffer(l),e.bindBuffer(e.ARRAY_BUFFER,null),this.onResize(t);var u=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);console.log(u+" textures max.")}else r("Unable to initialize fullscreen quad vertex shader.")}else r("Unable to initialize WebGL context.")}return e.prototype.initVertexBuffer=function(e){var t=this.errorCallback,r=this.gl,n=r.createBuffer();if(n)return r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW),n;t("Unable to allocate gl buffer.")},e.prototype.loadExtension=function(e,t){void 0===t&&(t=!1);var r,n=this,i=n.extensions,o=n.gl,a=n.errorCallback;try{r=o.getExtension(e)}catch(e){}return r?(i[e]=r,console.log("Loaded extension: "+e+".")):console.warn("Unsupported "+(t?"optional ":"")+"extension: "+e+"."),r||t||a("Required extension unsupported by this device / browser: "+e+"."),!!r},e.prototype.compileShader=function(e,t){var r=this,n=r.gl,i=r.errorCallback,o=r.shaders,a=n.createShader(t);return a?(n.shaderSource(a,e),n.compileShader(a),n.getShaderParameter(a,n.COMPILE_STATUS)?(o.push(a),a):(i("Could not compile "+(t===n.FRAGMENT_SHADER?"fragment":"vertex")+"\n\t\t\t\t shader: "+n.getShaderInfoLog(a)),null)):(i("Unable to init gl shader."),null)},e.prototype.initProgram=function(e,t,r){var n=this,i=this,o=i.programs,a=i.gl,s=i.errorCallback;if(o[e])return a.useProgram(o[e].program),void console.warn("Already a program with the name "+e+".");var u=this.compileShader(t,a.FRAGMENT_SHADER),l=this.defaultVertexShader;if(u&&l){var f=a.createProgram();f?(a.attachShader(f,l),a.attachShader(f,u),a.linkProgram(f),a.getProgramParameter(f,a.LINK_STATUS)||s("Program "+e+" filed to link: "+a.getProgramInfoLog(f)),o[e]={program:f,uniforms:{}},null==r||r.forEach((function(t){var r=t.name,i=t.value,o=t.dataType;n.setProgramUniform(e,r,i,o)}))):s("Unable to init gl program.")}else s("Unable to init shaders for program "+e+".")},e.prototype.uniformTypeForValue=function(e,t){if(t===i.FLOAT_TYPE){if(!isNaN(e)||1===e.length)return i.FLOAT_1D_UNIFORM;if(2===e.length)return i.FLOAT_2D_UNIFORM;if(3===e.length)return i.FLOAT_3D_UNIFORM;if(4===e.length)return i.FLOAT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}if(t===i.INT_TYPE){if(!isNaN(e)||1===e.length)return i.INT_1D_UNIFORM;if(2===e.length)return i.INT_2D_UNIFORM;if(3===e.length)return i.INT_3D_UNIFORM;if(4===e.length)return i.INT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}throw new Error("Invalid uniform data type: "+t)},e.prototype.setProgramUniform=function(e,t,r,n){var o=this,a=o.gl,s=o.programs,u=o.errorCallback,l=s[e];if(!l)throw new Error("Count not set uniform, no program of name: "+e+".");a.useProgram(l.program);var f=l.uniforms,c=this.uniformTypeForValue(r,n);if(!f[t]){var d=a.getUniformLocation(l.program,t);if(!d)return void u("Could not init uniform "+t+" for program "+e+".\nCheck that uniform is present in shader code, unused uniforms may be removed by compiler.\nAlso check that uniform type in shader code matches type "+c+".\nError code: "+a.getError()+".");f[t]={location:d,type:c}}var h=f[t];if(h.type!=c)throw new Error("Uniform "+t+" cannot change from type "+h.type+" to type "+c+".");var m=h.location;switch(c){case i.FLOAT_1D_UNIFORM:a.uniform1f(m,r);break;case i.FLOAT_2D_UNIFORM:a.uniform2fv(m,r);break;case i.FLOAT_3D_UNIFORM:a.uniform3fv(m,r);break;case i.FLOAT_4D_UNIFORM:a.uniform4fv(m,r);break;case i.INT_1D_UNIFORM:a.uniform1i(m,r);break;case i.INT_2D_UNIFORM:a.uniform2iv(m,r);break;case i.INT_3D_UNIFORM:a.uniform3iv(m,r);break;case i.INT_4D_UNIFORM:a.uniform4iv(m,r);break;default:throw new Error("Unknown uniform type: "+c+".")}},e.prototype.initFramebufferForTexture=function(e,t){void 0===t&&(t=!1);var r=this,n=r.gl,i=r.framebuffers,o=r.textures,a=r.errorCallback;i[e]&&(t||console.warn("Already a framebuffer with the name "+e+", use shouldOverwrite flag in initTexture() to ignore."),n.deleteFramebuffer(i[e]));var s=o[e];if(!s)throw new Error("Cannot init framebuffer, texture "+e+" does not exist.");var u=n.createFramebuffer();if(u){n.bindFramebuffer(n.FRAMEBUFFER,u),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,s,0);var l=n.checkFramebufferStatus(n.FRAMEBUFFER);l!=n.FRAMEBUFFER_COMPLETE&&a("Invalid status for "+e+" framebuffer: "+l+"."),i[e]=u}else a("Could not init "+e+" framebuffer: "+n.getError()+".")},e.prototype.glTextureParameters=function(e,t,r){var n,i,o,a,s=this,u=s.gl,l=s.isWebGL2,f=s.extensions;if(l){switch(a=e,3===e&&r&&(a=4),a){case 1:i=u.RED;break;case 2:i=u.RG;break;case 3:i=u.RGB;break;case 4:i=u.RGBA}switch(t){case"float16":switch(n=u.HALF_FLOAT,a){case 1:o=u.R16F;break;case 2:o=u.RG16F;break;case 3:o=u.RGB16F;break;case 4:o=u.RGBA16F}break;case"uint8":switch(n=u.UNSIGNED_BYTE,a){case 1:o=u.R8;break;case 2:o=u.RG8;break;case 3:o=u.RGB8;break;case 4:o=u.RGBA8}}}else{switch(e){case 1:case 2:case 3:i=u.RGB,o=u.RGB,a=3;break;case 4:i=u.RGBA,o=u.RGBA,a=4}switch(t){case"float16":n=f.OES_texture_half_float.HALF_FLOAT_OES;break;case"uint8":n=u.UNSIGNED_BYTE}}if(void 0===n||void 0===i||void 0===o)throw new Error("Invalid type: "+t+" or numChannels "+e+".");if(void 0===a||e<1||e>4)throw new Error("Invalid numChannels: "+e+".");return{glFormat:i,glInternalFormat:o,glType:n,glNumChannels:a}},e.prototype.initTexture=function(e,t,r,n,i,o,a,s){void 0===o&&(o=!1),void 0===s&&(s=!1);var u=this,l=u.gl,f=u.textures,c=u.framebuffers,d=u.errorCallback;if(f[e]&&(s||console.warn("Already a texture with the name "+e+", use shouldOverwrite flag to ignore."),l.deleteTexture(f[e])),a&&a.length!==t*r*i)throw new Error("Invalid data array of size "+a.length+" for texture of dimensions "+t+" x "+r+" x "+i+".");var h=l.createTexture();if(h){l.bindTexture(l.TEXTURE_2D,h),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);var m=l.NEAREST;l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,m),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,m);var p=this.glTextureParameters(i,n,o),_=p.glFormat,v=p.glInternalFormat,g=p.glNumChannels,T=p.glType;if(a&&i!==g){var F=t*r,E=void 0;switch(n){case"uint8":E=new Uint8Array(t*r*g);break;default:throw new Error("Unsupported type "+n+" for initTexture.")}for(var b=0;b<F;b++)for(var R=0;R<i;R++)E[g*b+R]=a[b*i+R];a=E}l.texImage2D(l.TEXTURE_2D,0,v,t,r,0,_,T,a||null),f[e]=h,o?this.initFramebufferForTexture(e,s):s&&c[e]&&(l.deleteFramebuffer(c[e]),delete c[e])}else d("Could not init "+e+" texture: "+l.getError()+".")},e.prototype.onResize=function(e){var t=this.gl,r=e.clientWidth,n=e.clientHeight;t.viewport(0,0,r,n),e.width=r,e.height=n,this.width=r,this.height=n},e.prototype._step=function(e,t,r){var n=this,i=n.gl,o=n.programs,a=n.framebuffers,s=o[e];if(!s)throw new Error("Invalid program name: "+e+".");i.useProgram(s.program);var u=r?a[r]:null;if(void 0===u)throw new Error("Invalid output texture: "+r+".");i.bindFramebuffer(i.FRAMEBUFFER,u);for(var l=0;l<t.length;l++)i.activeTexture(i.TEXTURE0+l),i.bindTexture(i.TEXTURE_2D,this.textures[t[l]]);var f=i.getAttribLocation(s.program,"aPosition");i.vertexAttribPointer(f,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(f)},e.prototype.step=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,o=n.errorState,a=n.quadPositionsBuffer;o||(this.setProgramUniform(e,"u_scale",[1,1],"FLOAT"),this.setProgramUniform(e,"u_translation",[0,0],"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,a),this._step(e,t,r),i.drawArrays(i.TRIANGLE_STRIP,0,4))},e.prototype.stepBoundary=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,o=n.errorState,a=n.boundaryPositionsBuffer;o||(this.setProgramUniform(e,"u_scale",[1,1],"FLOAT"),this.setProgramUniform(e,"u_translation",[0,0],"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,a),this._step(e,t,r),i.drawArrays(i.LINE_LOOP,0,4))},e.prototype.stepCircle=function(e,t,r,n,i){void 0===n&&(n=[]);var o=this,a=o.gl,s=o.errorState,u=o.circlePositionsBuffer,l=o.width,f=o.height;s||(this.setProgramUniform(e,"u_scale",[r/l,r/f],"FLOAT"),this.setProgramUniform(e,"u_translation",[2*t[0]/l-1,-2*t[1]/f+1],"FLOAT"),a.bindBuffer(a.ARRAY_BUFFER,u),this._step(e,n,i),a.drawArrays(a.TRIANGLE_FAN,0,22))},e.prototype.swapTextures=function(e,t){var r=this.textures,n=this.framebuffers,i=r[e];r[e]=this.textures[t],r[t]=i,i=n[e],n[e]=this.framebuffers[t],n[t]=i},e.prototype.reset=function(){var e=this,t=e.gl,r=e.programs,n=e.framebuffers,i=e.textures,o=e.shaders,a=e.defaultVertexShader;Object.keys(r).forEach((function(e){var n=r[e].program;t.deleteProgram(n),delete r[e]})),Object.keys(n).forEach((function(e){var r=n[e];t.deleteFramebuffer(r),delete n[e]})),Object.keys(i).forEach((function(e){var r=i[e];t.deleteTexture(r),delete i[e]}));for(var s=o.length-1;s>=0;s--)o[s]!==a&&(t.deleteShader(o[s]),o.splice(s,1))},e}();t.GPGPU=f},647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INT_TYPE=t.FLOAT_TYPE=t.INT_4D_UNIFORM=t.INT_3D_UNIFORM=t.INT_2D_UNIFORM=t.INT_1D_UNIFORM=t.FLOAT_4D_UNIFORM=t.FLOAT_3D_UNIFORM=t.FLOAT_2D_UNIFORM=t.FLOAT_1D_UNIFORM=void 0,t.FLOAT_1D_UNIFORM="1f",t.FLOAT_2D_UNIFORM="2f",t.FLOAT_3D_UNIFORM="3f",t.FLOAT_4D_UNIFORM="3f",t.INT_1D_UNIFORM="1i",t.INT_2D_UNIFORM="2i",t.INT_3D_UNIFORM="3i",t.INT_4D_UNIFORM="3i",t.FLOAT_TYPE="FLOAT",t.INT_TYPE="INT"},561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPGPU=void 0;var n=r(576);Object.defineProperty(t,"GPGPU",{enumerable:!0,get:function(){return n.GPGPU}})},416:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\nattribute vec2 aPosition;\nuniform vec2 u_scale;\nuniform vec2 u_translation;\nvarying vec2 uv_viewport;\nvarying vec2 uv;\nvoid main() {\n\t// Calculate UV coordinates [0, 1].\n\tuv = 0.5 * (aPosition + 1.0);\n\t// Apply transformations.\n\tvec2 position = u_scale * aPosition + u_translation;\n\t// Calculate a global uv for the viewport.\n\tuv_viewport = 0.5 * (position + 1.0);\n\t// Calculate vertex position.\n\tgl_Position = vec4(position, 0, 1);\n}\n"},146:e=>{e.exports="precision mediump float;\n\nvoid main() {\n\tgl_FragColor = vec4(0);\n}"},950:e=>{e.exports="precision mediump float;\n\nvarying vec2 uv;\nuniform sampler2D u_state;\n\nvoid main() {\n\tvec2 currentState = texture2D(u_state, uv).xy;\n\t// Add external force to current px.\n\tgl_FragColor = vec4(currentState, -5.0, 0);\n}"},539:e=>{e.exports="precision mediump float;\n\nvarying vec2 uv;\nuniform sampler2D u_state;\n\nvoid main() {\n\tfloat position = texture2D(u_state, uv).r / 20.0 + 0.5;\n\tif (position > 1.0) position = 1.0;\n\tif (position < 0.0) position = 0.0;\n\n\tif (position < 0.5){\n\t\tposition *= 2.0;\n\t\t//position = 0 -> blue\n\t\t//position = 1 -> magenta\n\t\tgl_FragColor = vec4((255.0*position)/255.0,(179.0*(1.0-position))/255.0,(150.0-54.0*position)/255.0,1.0);\n\t} else {\n\t\tposition -= 0.5;\n\t\tposition *= 2.0;\n\t\t//position = 0 -> magenta\n\t\t//position = 1 -> white\n\t\tgl_FragColor = vec4((255.0-(10.0*position))/255.0,(223.0*position)/255.0,(106.0+(67.0*position))/255.0,1.0);\n\t}\n}"},942:e=>{e.exports="precision mediump float;\n\n#define K 2.0\n#define D 1.0\n#define DT 1.0\n#define MASS 10.0\n\nvarying vec2 uv;\nuniform sampler2D u_state; // position, velocity, externalForces = r, g, b\nuniform vec2 u_pxSize;\n\nvoid main() {\n\n\tvec3 currentState = texture2D(u_state, uv).xyz;\n\tfloat currentPosition = currentState.x;\n\tfloat currentVelocity = currentState.y;\n\tfloat fTotal = currentState.z;\n\n\t// Get interactions with N, S, E, W neighbors.\n\tfor (int i = -1; i <= 1; i += 2) {\n\t\tfor (int j = -1; j <= 1; j += 2) {\n\t\t\t// Calculate uv coordinate of neighbor px.\n\t\t\tvec2 neighborUV = uv + vec2(u_pxSize.x * float(i), u_pxSize.y * float(j));\n\t\t\t// Apply spring damper constraint.\n\t\t\tvec2 neighborState = texture2D(u_state, neighborUV).xy;\n\t\t\tfloat deltaP =  neighborState.x - currentPosition;\n\t\t\tfloat deltaV = neighborState.y - currentVelocity;\n\t\t\tfTotal += K * deltaP + D * deltaV;\n\t\t}\n\t}\n\n\tfloat acceleration = fTotal / MASS;\n\tfloat velocity = acceleration * DT + currentVelocity;\n\tfloat position = velocity * DT + currentPosition;\n\n\tgl_FragColor = vec4(position, velocity, 0, 0);\n}"}},t={};!function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9ub2RlX21vZHVsZXMvd2ViZ2wtZ3BncHUvZGlzdC9HUEdQVS5qcyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3QvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9ub2RlX21vZHVsZXMvd2ViZ2wtZ3BncHUvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3Qva2VybmVscy9EZWZhdWx0VmVydGV4U2hhZGVyLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMva2VybmVscy9Cb3VuZGFyeUNvbmRpdGlvbnNTaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vc3JjL2tlcm5lbHMvSW50ZXJhY3Rpb25TaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vc3JjL2tlcm5lbHMvUmVuZGVyU2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL3NyYy9rZXJuZWxzL1NpbVNoYWRlci5nbHNsIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOlsic2ltU2hhZGVyU291cmNlIiwiYm91bmRhcnlDb25kaXRpb25zU291cmNlIiwicmVuZGVyU2hhZGVyU291cmNlIiwiaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ3BncHUiLCJHUEdQVSIsImRpc2FibGVab29tIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2NhbGUiLCJib2R5Iiwic3R5bGUiLCJ3ZWJraXRUcmFuc2Zvcm0iLCJtc1RyYW5zZm9ybSIsInRyYW5zZm9ybSIsIm9uUmVzaXplIiwid2lkdGgiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImNsaWVudEhlaWdodCIsImluaXRUZXh0dXJlIiwidW5kZWZpbmVkIiwic2V0UHJvZ3JhbVVuaWZvcm0iLCJpbml0UHJvZ3JhbSIsIm5hbWUiLCJ2YWx1ZSIsImRhdGFUeXBlIiwid2luZG93Iiwib25tb3VzZW1vdmUiLCJzdGVwQ2lyY2xlIiwiY2xpZW50WCIsImNsaWVudFkiLCJvbnRvdWNobW92ZSIsImkiLCJ0b3VjaGVzIiwibGVuZ3RoIiwidG91Y2giLCJwYWdlWCIsInBhZ2VZIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInN0ZXAiLCJzdGVwQm91bmRhcnkiLCJzd2FwVGV4dHVyZXMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJEZWZhdWx0VmVydGV4U2hhZGVyXzEiLCJjb25zdGFudHNfMSIsImZzUXVhZFBvc2l0aW9ucyIsIkZsb2F0MzJBcnJheSIsImJvdW5kYXJ5UG9zaXRpb25zIiwidW5pdENpcmNsZVBvaW50cyIsInB1c2giLCJNYXRoIiwiY29zIiwiUEkiLCJzaW4iLCJjaXJjbGVQb3NpdGlvbnMiLCJnbCIsImNhbnZhc0VsIiwiZXJyb3JDYWxsYmFjayIsIm1lc3NhZ2UiLCJFcnJvciIsInRoaXMiLCJleHRlbnNpb25zIiwiZXJyb3JTdGF0ZSIsInByb2dyYW1zIiwidGV4dHVyZXMiLCJmcmFtZWJ1ZmZlcnMiLCJzaGFkZXJzIiwic2VsZiIsImdldENvbnRleHQiLCJhbnRpYWxpYXMiLCJpc1dlYkdMMiIsIkhBTEZfRkxPQVQiLCJjb25zb2xlIiwibG9nIiwibG9hZEV4dGVuc2lvbiIsImxpbmVhckZpbHRlckVuYWJsZWQiLCJkaXNhYmxlIiwiREVQVEhfVEVTVCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX0FMSUdOTUVOVCIsImRlZmF1bHRWZXJ0ZXhTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiZGVmYXVsdCIsIlZFUlRFWF9TSEFERVIiLCJxdWFkUG9zaXRpb25zQnVmZmVyIiwiaW5pdFZlcnRleEJ1ZmZlciIsImJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyIiwiY2lyY2xlUG9zaXRpb25zQnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIm1heFRleHR1cmVzSW5GcmFnbWVudFNoYWRlciIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwicHJvdG90eXBlIiwiZGF0YSIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImJ1ZmZlckRhdGEiLCJTVEFUSUNfRFJBVyIsImV4dGVuc2lvbiIsIm9wdGlvbmFsIiwiZXh0IiwiX2EiLCJnZXRFeHRlbnNpb24iLCJ3YXJuIiwic2hhZGVyU291cmNlIiwic2hhZGVyVHlwZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiRlJBR01FTlRfU0hBREVSIiwiZ2V0U2hhZGVySW5mb0xvZyIsInByb2dyYW1OYW1lIiwiZnJhZ21lbnRTaGFkZXJTb3VyY2UiLCJ1bmlmb3JtcyIsIl90aGlzIiwidXNlUHJvZ3JhbSIsInByb2dyYW0iLCJmcmFnbWVudFNoYWRlciIsInZlcnRleFNoYWRlciIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwiZm9yRWFjaCIsInVuaWZvcm0iLCJ1bmlmb3JtVHlwZUZvclZhbHVlIiwiRkxPQVRfVFlQRSIsImlzTmFOIiwiRkxPQVRfMURfVU5JRk9STSIsIkZMT0FUXzJEX1VOSUZPUk0iLCJGTE9BVF8zRF9VTklGT1JNIiwiRkxPQVRfNERfVU5JRk9STSIsIklOVF9UWVBFIiwiSU5UXzFEX1VOSUZPUk0iLCJJTlRfMkRfVU5JRk9STSIsIklOVF8zRF9VTklGT1JNIiwiSU5UXzREX1VOSUZPUk0iLCJ1bmlmb3JtTmFtZSIsInR5cGUiLCJsb2NhdGlvbl8xIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZ2V0RXJyb3IiLCJsb2NhdGlvbiIsInVuaWZvcm0xZiIsInVuaWZvcm0yZnYiLCJ1bmlmb3JtM2Z2IiwidW5pZm9ybTRmdiIsInVuaWZvcm0xaSIsInVuaWZvcm0yaXYiLCJ1bmlmb3JtM2l2IiwidW5pZm9ybTRpdiIsImluaXRGcmFtZWJ1ZmZlckZvclRleHR1cmUiLCJ0ZXh0dXJlTmFtZSIsInNob3VsZE92ZXJ3cml0ZSIsImRlbGV0ZUZyYW1lYnVmZmVyIiwidGV4dHVyZSIsImZyYW1lYnVmZmVyIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJURVhUVVJFXzJEIiwic3RhdHVzIiwiY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyIsIkZSQU1FQlVGRkVSX0NPTVBMRVRFIiwiZ2xUZXh0dXJlUGFyYW1ldGVycyIsIm51bUNoYW5uZWxzIiwid3JpdGFibGUiLCJnbFR5cGUiLCJnbEZvcm1hdCIsImdsSW50ZXJuYWxGb3JtYXQiLCJnbE51bUNoYW5uZWxzIiwiUkVEIiwiUkciLCJSR0IiLCJSR0JBIiwiUjE2RiIsIlJHMTZGIiwiUkdCMTZGIiwiUkdCQTE2RiIsIlVOU0lHTkVEX0JZVEUiLCJSOCIsIlJHOCIsIlJHQjgiLCJSR0JBOCIsIkhBTEZfRkxPQVRfT0VTIiwiZGVsZXRlVGV4dHVyZSIsImNyZWF0ZVRleHR1cmUiLCJiaW5kVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX1dSQVBfUyIsIkNMQU1QX1RPX0VER0UiLCJURVhUVVJFX1dSQVBfVCIsImZpbHRlciIsIk5FQVJFU1QiLCJURVhUVVJFX01JTl9GSUxURVIiLCJURVhUVVJFX01BR19GSUxURVIiLCJfYiIsImltYWdlU2l6ZSIsIm5ld0FycmF5IiwiVWludDhBcnJheSIsImoiLCJ0ZXhJbWFnZTJEIiwidmlld3BvcnQiLCJfc3RlcCIsImlucHV0VGV4dHVyZXMiLCJvdXRwdXRUZXh0dXJlIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwicG9zaXRpb25Mb2NhdGlvbiIsImdldEF0dHJpYkxvY2F0aW9uIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJMSU5FX0xPT1AiLCJwb3NpdGlvbiIsInJhZGl1cyIsIlRSSUFOR0xFX0ZBTiIsIk5VTV9TRUdNRU5UU19DSVJDTEUiLCJ0ZXh0dXJlMU5hbWUiLCJ0ZXh0dXJlMk5hbWUiLCJ0ZW1wIiwicmVzZXQiLCJrZXlzIiwia2V5IiwiZGVsZXRlUHJvZ3JhbSIsImRlbGV0ZVNoYWRlciIsInNwbGljZSIsIkdQR1BVXzEiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJtYXBwaW5ncyI6IndDQUFBLGFBQ01BLEVBQWtCLEVBQVEsS0FDMUJDLEVBQTJCLEVBQVEsS0FDbkNDLEVBQXFCLEVBQVEsS0FDN0JDLEVBQTBCLEVBQVEsS0FFbENDLEVBQVNDLFNBQVNDLGVBQWUsWUFDakNDLEVBQVEsSUFBSSxFQUFBQyxNQUFNLEtBQU1KLEdBd0M5QixTQUFTSyxFQUFZQyxHQUNwQkEsRUFBRUMsaUJBQ0YsSUFBTUMsRUFBUSxXQUVkUCxTQUFTUSxLQUFLQyxNQUFNQyxnQkFBbUJILEVBRXZDUCxTQUFTUSxLQUFLQyxNQUFNRSxZQUFnQkosRUFDcENQLFNBQVNRLEtBQUtDLE1BQU1HLFVBQVlMLEVBT2pDLFNBQVNNLElBRVIsSUFBTUMsRUFBUWYsRUFBT2dCLFlBQ2ZDLEVBQVNqQixFQUFPa0IsYUFDdEJmLEVBQU1nQixZ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Qi9GLEVBQVFnRyxlQUFpQixLQUN6QmhHLEVBQVFpRyxlQUFpQixLQUN6QmpHLEVBQVFrRyxlQUFpQixLQUN6QmxHLEVBQVF3RixXQUFhLFFBQ3JCeEYsRUFBUThGLFNBQVcsTywyQkNYbkJoRyxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRXJCLE9BQU8sSUFDdERxQixFQUFRekMsV0FBUSxFQUNoQixJQUFJME8sRUFBVSxFQUFRLEtBQ3RCbk0sT0FBT0MsZUFBZUMsRUFBUyxRQUFTLENBQUVrTSxZQUFZLEVBQU1DLElBQUssV0FBYyxPQUFPRixFQUFRMU8sVSx5QkNIOUZ1QyxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRXJCLE9BQU8sSUFFdERxQixFQUFRd0MsUUFBVSx3ZSxRQ0hsQjRKLEVBQU9wTSxRQUFVLDJFLFFDQWpCb00sRUFBT3BNLFFBQVUseU8sUUNBakJvTSxFQUFPcE0sUUFBVSw4cUIsUUNBakJvTSxFQUFPcE0sUUFBVSw0bkNDQ2JxTSxFQUEyQixJQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVdk0sUUFHM0MsSUFBSW9NLEVBQVNDLEVBQXlCRSxHQUFZLENBR2pEdk0sUUFBUyxJQU9WLE9BSEF3TSxFQUFvQkQsR0FBVUgsRUFBUUEsRUFBT3BNLFFBQVNzTSxHQUcvQ0YsRUFBT3BNLFFDbEJmc00sQ0FBb0IsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR1BHUFUgfSBmcm9tICd3ZWJnbC1ncGdwdSc7XG5jb25zdCBzaW1TaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvU2ltU2hhZGVyLmdsc2wnKTtcbmNvbnN0IGJvdW5kYXJ5Q29uZGl0aW9uc1NvdXJjZSA9IHJlcXVpcmUoJy4va2VybmVscy9Cb3VuZGFyeUNvbmRpdGlvbnNTaGFkZXIuZ2xzbCcpO1xuY29uc3QgcmVuZGVyU2hhZGVyU291cmNlID0gcmVxdWlyZSgnLi9rZXJuZWxzL1JlbmRlclNoYWRlci5nbHNsJyk7XG5jb25zdCBpbnRlcmFjdGlvblNoYWRlclNvdXJjZSA9IHJlcXVpcmUoJy4va2VybmVscy9JbnRlcmFjdGlvblNoYWRlci5nbHNsJyk7XG5cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbGNhbnZhcycpICBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmNvbnN0IGdwZ3B1ID0gbmV3IEdQR1BVKG51bGwsIGNhbnZhcyk7XG5cbmdwZ3B1LmluaXRQcm9ncmFtKCdzaW0nLCBzaW1TaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X3N0YXRlJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5cdHtcblx0XHRuYW1lOiAndV9weFNpemUnLFxuXHRcdHZhbHVlOiBbMSAvIGNhbnZhcy5jbGllbnRXaWR0aCwgMSAvIGNhbnZhcy5jbGllbnRIZWlnaHRdLFxuXHRcdGRhdGFUeXBlOiAnRkxPQVQnLFxuXHR9LFxuXSk7XG5ncGdwdS5pbml0UHJvZ3JhbSgnYm91bmRhcnknLCBib3VuZGFyeUNvbmRpdGlvbnNTb3VyY2UpO1xuZ3BncHUuaW5pdFByb2dyYW0oJ3JlbmRlcicsIHJlbmRlclNoYWRlclNvdXJjZSwgW1xuXHR7XG5cdFx0bmFtZTogJ3Vfc3RhdGUnLFxuXHRcdHZhbHVlOiAwLFxuXHRcdGRhdGFUeXBlOiAnSU5UJyxcblx0fSxcbl0pO1xuZ3BncHUuaW5pdFByb2dyYW0oJ2ludGVyYWN0aW9uJywgaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UpO1xuXG4vLyBTZXQgdXAgaW50ZXJhY3Rpb25zLlxuY29uc3QgVE9VQ0hfUkFESVVTID0gMTA7XG53aW5kb3cub25tb3VzZW1vdmUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRncGdwdS5zdGVwQ2lyY2xlKCdpbnRlcmFjdGlvbicsIFtlLmNsaWVudFgsIGUuY2xpZW50WV0sIFRPVUNIX1JBRElVUywgWydjdXJyZW50U3RhdGUnXSwgJ2xhc3RTdGF0ZScpO1xufTtcbndpbmRvdy5vbnRvdWNobW92ZSA9IChlOiBUb3VjaEV2ZW50KSA9PiB7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCB0b3VjaCA9IGUudG91Y2hlc1tpXTtcblx0XHRncGdwdS5zdGVwQ2lyY2xlKCdpbnRlcmFjdGlvbicsIFt0b3VjaC5wYWdlWCwgdG91Y2gucGFnZVldLCBUT1VDSF9SQURJVVMsIFsnY3VycmVudFN0YXRlJ10sICdsYXN0U3RhdGUnKTtcblx0fVxufTtcbi8vIERpc2FibGUgb3RoZXIgZ2VzdHVyZXMuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBkaXNhYmxlWm9vbSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlY2hhbmdlJywgZGlzYWJsZVpvb20pOyBcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVlbmQnLCBkaXNhYmxlWm9vbSk7XG5mdW5jdGlvbiBkaXNhYmxlWm9vbShlOiBFdmVudCkge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGNvbnN0IHNjYWxlID0gJ3NjYWxlKDEpJztcblx0Ly8gQHRzLWlnbm9yZVxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICBzY2FsZTsgICAgLy8gQ2hyb21lLCBPcGVyYSwgU2FmYXJpXG5cdC8vIEB0cy1pZ25vcmVcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybSA9ICAgc2NhbGU7ICAgICAgIC8vIElFIDlcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSBzY2FsZTtcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbm9uUmVzaXplKCk7XG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuXG5mdW5jdGlvbiBvblJlc2l6ZSgpIHtcblx0Ly8gUmUtaW5pdCB0ZXh0dXJlcyBhdCBuZXcgc2l6ZS5cblx0Y29uc3Qgd2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XG5cdGNvbnN0IGhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XG5cdGdwZ3B1LmluaXRUZXh0dXJlKCdjdXJyZW50U3RhdGUnLCB3aWR0aCwgaGVpZ2h0LCAnZmxvYXQxNicsIDMsIHRydWUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cdGdwZ3B1LmluaXRUZXh0dXJlKCdsYXN0U3RhdGUnLCB3aWR0aCwgaGVpZ2h0LCAnZmxvYXQxNicsIDMsIHRydWUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cdGdwZ3B1LnNldFByb2dyYW1Vbmlmb3JtKCdzaW0nLCAndV9weFNpemUnLCBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XSwgJ0ZMT0FUJyk7XG5cdGdwZ3B1Lm9uUmVzaXplKGNhbnZhcyk7XG59XG5cbmZ1bmN0aW9uIHN0ZXAoKSB7XG5cdC8vIENvbXB1dGUgc2ltdWxhdGlvbi5cblx0Z3BncHUuc3RlcCgnc2ltJywgWydsYXN0U3RhdGUnXSwgJ2N1cnJlbnRTdGF0ZScpO1xuXHRncGdwdS5zdGVwQm91bmRhcnkoJ2JvdW5kYXJ5JywgW10sICdjdXJyZW50U3RhdGUnKTtcblx0Ly8gUmVuZGVyIGN1cnJlbnQgc3RhdGUuXG5cdGdwZ3B1LnN0ZXAoJ3JlbmRlcicsIFsnY3VycmVudFN0YXRlJ10pO1xuXHQvLyBUb2dnbGUgdGV4dHVyZXMuXG5cdGdwZ3B1LnN3YXBUZXh0dXJlcygnY3VycmVudFN0YXRlJywgJ2xhc3RTdGF0ZScpO1xuXHQvLyBTdGFydCBhIG5ldyByZW5kZXIgY3ljbGUuXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdQR1BVID0gdm9pZCAwO1xudmFyIERlZmF1bHRWZXJ0ZXhTaGFkZXJfMSA9IHJlcXVpcmUoXCIuL2tlcm5lbHMvRGVmYXVsdFZlcnRleFNoYWRlclwiKTtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbnZhciBmc1F1YWRQb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAtMSwgMSwgMSwgMV0pO1xudmFyIGJvdW5kYXJ5UG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShbLTEsIC0xLCAxLCAtMSwgMSwgMSwgLTEsIDFdKTtcbnZhciB1bml0Q2lyY2xlUG9pbnRzID0gWzAsIDBdO1xudmFyIE5VTV9TRUdNRU5UU19DSVJDTEUgPSAyMDtcbmZvciAodmFyIGkgPSAwOyBpIDw9IE5VTV9TRUdNRU5UU19DSVJDTEU7IGkrKykge1xuICAgIHVuaXRDaXJjbGVQb2ludHMucHVzaChNYXRoLmNvcygyICogTWF0aC5QSSAqIGkgLyBOVU1fU0VHTUVOVFNfQ0lSQ0xFKSwgTWF0aC5zaW4oMiAqIE1hdGguUEkgKiBpIC8gTlVNX1NFR01FTlRTX0NJUkNMRSkpO1xufVxudmFyIGNpcmNsZVBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkodW5pdENpcmNsZVBvaW50cyk7XG4vLyBTdG9yZSBleHRlbnNpb24gbmFtZXMgYXMgY29uc3RhbnRzLlxudmFyIE9FU19URVhUVVJFX0hBTEZfRkxPQVQgPSAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdCc7XG52YXIgT0VTX1RFWFRVUkVfSEFsRl9GTE9BVF9MSU5FQVIgPSAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInO1xudmFyIEVYVF9DT0xPUl9CVUZGRVJfRkxPQVQgPSAnRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCc7XG52YXIgR1BHUFUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR1BHUFUoZ2wsIGNhbnZhc0VsLCBcbiAgICAvLyBPcHRpb25hbGx5IHBhc3MgaW4gYW4gZXJyb3IgY2FsbGJhY2sgaW4gY2FzZSB3ZSB3YW50IHRvIGhhbmRsZSBlcnJvcnMgcmVsYXRlZCB0byB3ZWJnbCBzdXBwb3J0LlxuICAgIC8vIGUuZy4gdGhyb3cgdXAgYSBtb2RhbCB0ZWxsaW5nIHVzZXIgdGhpcyB3aWxsIG5vdCB3b3JrIG9uIHRoZWlyIGRldmljZS5cbiAgICBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChlcnJvckNhbGxiYWNrID09PSB2b2lkIDApIHsgZXJyb3JDYWxsYmFjayA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7IHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTsgfTsgfVxuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5lcnJvclN0YXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvZ3JhbXMgPSB7fTsgLy8gQWxsIGN1cnJlbnQgZ2wgcHJvZ3JhbXMuXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB7fTsgLy8gQWxsIGN1cnJlbnQgZ2wgdGV4dHVyZXMuXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXJzID0ge307IC8vIEFsbCBjdXJyZW50IGdsIGZyYW1lYnVmZmVycy5cbiAgICAgICAgdGhpcy5zaGFkZXJzID0gW107IC8vIEtlZXAgdHJhY2sgb2YgYWxsIHNoYWRlcnMgaW5pdGVkIHNvIHRoZXkgY2FuIGJlIHByb3Blcmx5IGRlYWxsb2NhdGVkLlxuICAgICAgICAvLyBTYXZlIGNhbGxiYWNrIGluIGNhc2Ugd2UgcnVuIGludG8gYW4gZXJyb3IuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHNlbGYuZXJyb3JTdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoZXJyb3JDYWxsYmFjaylcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKG1lc3NhZ2UpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBJbml0IEdMLlxuICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICAvLyBJbml0IGEgZ2wgY29udGV4dCBpZiBub3QgcGFzc2VkIGluLlxuICAgICAgICAgICAgZ2wgPSBjYW52YXNFbC5nZXRDb250ZXh0KCd3ZWJnbDInLCB7IGFudGlhbGlhczogZmFsc2UgfSlcbiAgICAgICAgICAgICAgICB8fCBjYW52YXNFbC5nZXRDb250ZXh0KCd3ZWJnbCcsIHsgYW50aWFsaWFzOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIC8vIHx8IGNhbnZhc0VsLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIHthbnRpYWxpYXM6ZmFsc2V9KSBhcyBSZW5kZXJpbmdDb250ZXh0O1xuICAgICAgICAgICAgaWYgKGdsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjaygnVW5hYmxlIHRvIGluaXRpYWxpemUgV2ViR0wgY29udGV4dC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1dlYkdMMiA9ICEhZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgaWYgKHRoaXMuaXNXZWJHTDIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBXZWJHTCAyLjAgY29udGV4dC4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBXZWJHTCAxLjAgY29udGV4dC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIC8vIEdMIHNldHVwLlxuICAgICAgICAvLyBMb2FkIGV4dGVuc2lvbnMuXG4gICAgICAgIC8vIFRPRE86IGxvYWQgdGhlc2UgZXh0ZW5zaW9ucyBhcyBuZWVkZWQuXG4gICAgICAgIGlmICh0aGlzLmlzV2ViR0wyKSB7XG4gICAgICAgICAgICAvLyBFWFRfQ09MT1JfQlVGRkVSX0ZMT0FUIGFkZHMgYWJpbGl0eSB0byByZW5kZXIgdG8gYSB2YXJpZXR5IG9mIGZsb2F0aW5nIHB0IHRleHR1cmVzLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VYVF9jb2xvcl9idWZmZXJfZmxvYXRcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM0MjYyNDkzL2ZyYW1lYnVmZmVyLWluY29tcGxldGUtYXR0YWNobWVudC1mb3ItdGV4dHVyZS13aXRoLWludGVybmFsLWZvcm1hdFxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzYxMDkzNDcvZnJhbWVidWZmZXItaW5jb21wbGV0ZS1hdHRhY2htZW50LW9ubHktaGFwcGVucy1vbi1hbmRyb2lkLXctZmlyZWZveFxuICAgICAgICAgICAgdGhpcy5sb2FkRXh0ZW5zaW9uKEVYVF9DT0xPUl9CVUZGRVJfRkxPQVQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL09FU190ZXh0dXJlX2hhbGZfZmxvYXRcbiAgICAgICAgICAgIC8vIEhhbGYgZmxvYXQgaXMgc3VwcG9ydGVkIGJ5IG1vZGVybiBtb2JpbGUgYnJvd3NlcnMsIGZsb2F0IG5vdCB5ZXQgc3VwcG9ydGVkLlxuICAgICAgICAgICAgLy8gSGFsZiBmbG9hdCBpcyBwcm92aWRlZCBieSBkZWZhdWx0IGZvciBXZWJnbDIgY29udGV4dHMuXG4gICAgICAgICAgICAvLyBUaGlzIGV4dGVuc2lvbiBpbXBsaWNpdGx5IGVuYWJsZXMgdGhlIEVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdCBleHRlbnNpb24gKGlmIHN1cHBvcnRlZCksIHdoaWNoIGFsbG93cyByZW5kZXJpbmcgdG8gMTYtYml0IGZsb2F0aW5nIHBvaW50IGZvcm1hdHMuXG4gICAgICAgICAgICB0aGlzLmxvYWRFeHRlbnNpb24oT0VTX1RFWFRVUkVfSEFMRl9GTE9BVCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9hZCBvcHRpb25hbCBleHRlbnNpb25zLlxuICAgICAgICAvLyBUT0RPOiBuZWVkIHRoaXMgZm9yIHdlYmdsMj9cbiAgICAgICAgdGhpcy5saW5lYXJGaWx0ZXJFbmFibGVkID0gdGhpcy5sb2FkRXh0ZW5zaW9uKE9FU19URVhUVVJFX0hBbEZfRkxPQVRfTElORUFSLCB0cnVlKTtcbiAgICAgICAgLy8gRGlzYWJsZSBkZXB0aCB0ZXN0aW5nIGdsb2JhbGx5LlxuICAgICAgICBnbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpO1xuICAgICAgICAvLyBTZXQgdW5wYWNrIGFsaWdubWVudCB0byAxIHNvIHdlIGNhbiBoYXZlIHRleHR1cmVzIG9mIGFyYml0cmFyeSBkaW1lbnNpb25zLlxuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MTU4MjI4Mi9lcnJvci13aGVuLWNyZWF0aW5nLXRleHR1cmVzLWluLXdlYmdsLXdpdGgtdGhlLXJnYi1mb3JtYXRcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0FMSUdOTUVOVCwgMSk7XG4gICAgICAgIC8vIEluaXQgYSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgdGhhdCBqdXN0IHBhc3NlcyB0aHJvdWdoIHNjcmVlbiBjb29yZHMuXG4gICAgICAgIHZhciBkZWZhdWx0VmVydGV4U2hhZGVyID0gdGhpcy5jb21waWxlU2hhZGVyKERlZmF1bHRWZXJ0ZXhTaGFkZXJfMS5kZWZhdWx0LCBnbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgaWYgKCFkZWZhdWx0VmVydGV4U2hhZGVyKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBmdWxsc2NyZWVuIHF1YWQgdmVydGV4IHNoYWRlci4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmF1bHRWZXJ0ZXhTaGFkZXIgPSBkZWZhdWx0VmVydGV4U2hhZGVyO1xuICAgICAgICAvLyBDcmVhdGUgdmVydGV4IGJ1ZmZlcnMuXG4gICAgICAgIHRoaXMucXVhZFBvc2l0aW9uc0J1ZmZlciA9IHRoaXMuaW5pdFZlcnRleEJ1ZmZlcihmc1F1YWRQb3NpdGlvbnMpO1xuICAgICAgICB0aGlzLmJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyID0gdGhpcy5pbml0VmVydGV4QnVmZmVyKGJvdW5kYXJ5UG9zaXRpb25zKTtcbiAgICAgICAgdGhpcy5jaXJjbGVQb3NpdGlvbnNCdWZmZXIgPSB0aGlzLmluaXRWZXJ0ZXhCdWZmZXIoY2lyY2xlUG9zaXRpb25zKTtcbiAgICAgICAgLy8gVW5iaW5kIGFjdGl2ZSBidWZmZXIuXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICAgICAgLy8gQ2FudmFzIHNldHVwLlxuICAgICAgICB0aGlzLm9uUmVzaXplKGNhbnZhc0VsKTtcbiAgICAgICAgLy8gTG9nIG51bWJlciBvZiB0ZXh0dXJlcyBhdmFpbGFibGUuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlc0luRnJhZ21lbnRTaGFkZXIgPSB0aGlzLmdsLmdldFBhcmFtZXRlcih0aGlzLmdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcbiAgICAgICAgY29uc29sZS5sb2cobWF4VGV4dHVyZXNJbkZyYWdtZW50U2hhZGVyICsgXCIgdGV4dHVyZXMgbWF4LlwiKTtcbiAgICB9XG4gICAgR1BHUFUucHJvdG90eXBlLmluaXRWZXJ0ZXhCdWZmZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaywgZ2wgPSBfYS5nbDtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjaygnVW5hYmxlIHRvIGFsbG9jYXRlIGdsIGJ1ZmZlci4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyKTtcbiAgICAgICAgLy8gQWRkIHZlcnRleCBkYXRhIGZvciBkcmF3aW5nIGZ1bGwgc2NyZWVuIHF1YWQgdmlhIHRyaWFuZ2xlIHN0cmlwLlxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgZGF0YSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLmxvYWRFeHRlbnNpb24gPSBmdW5jdGlvbiAoZXh0ZW5zaW9uLCBvcHRpb25hbCkge1xuICAgICAgICBpZiAob3B0aW9uYWwgPT09IHZvaWQgMCkgeyBvcHRpb25hbCA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGV4dGVuc2lvbnMgPSBfYS5leHRlbnNpb25zLCBnbCA9IF9hLmdsLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgdmFyIGV4dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4dCA9IGdsLmdldEV4dGVuc2lvbihleHRlbnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25dID0gZXh0O1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgZXh0ZW5zaW9uOiBcIiArIGV4dGVuc2lvbiArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVuc3VwcG9ydGVkIFwiICsgKG9wdGlvbmFsID8gJ29wdGlvbmFsICcgOiAnJykgKyBcImV4dGVuc2lvbjogXCIgKyBleHRlbnNpb24gKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGV4dGVuc2lvbiBpcyBub3Qgb3B0aW9uYWwsIHRocm93IGVycm9yLlxuICAgICAgICBpZiAoIWV4dCAmJiAhb3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJSZXF1aXJlZCBleHRlbnNpb24gdW5zdXBwb3J0ZWQgYnkgdGhpcyBkZXZpY2UgLyBicm93c2VyOiBcIiArIGV4dGVuc2lvbiArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gISFleHQ7XG4gICAgfTtcbiAgICAvLyBDb3BpZWQgZnJvbSBodHRwOi8vd2ViZ2xmdW5kYW1lbnRhbHMub3JnL3dlYmdsL2xlc3NvbnMvd2ViZ2wtYm9pbGVycGxhdGUuaHRtbFxuICAgIEdQR1BVLnByb3RvdHlwZS5jb21waWxlU2hhZGVyID0gZnVuY3Rpb24gKHNoYWRlclNvdXJjZSwgc2hhZGVyVHlwZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaywgc2hhZGVycyA9IF9hLnNoYWRlcnM7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgc2hhZGVyIG9iamVjdFxuICAgICAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHNoYWRlclR5cGUpO1xuICAgICAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjaygnVW5hYmxlIHRvIGluaXQgZ2wgc2hhZGVyLicpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHRoZSBzaGFkZXIgc291cmNlIGNvZGUuXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNoYWRlclNvdXJjZSk7XG4gICAgICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlclxuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGNvbXBpbGVkXG4gICAgICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpO1xuICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBjb21waWxhdGlvbiAtIHByaW50IHRoZSBlcnJvci5cbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJDb3VsZCBub3QgY29tcGlsZSBcIiArIChzaGFkZXJUeXBlID09PSBnbC5GUkFHTUVOVF9TSEFERVIgPyAnZnJhZ21lbnQnIDogJ3ZlcnRleCcpICsgXCJcXG5cXHRcXHRcXHRcXHQgc2hhZGVyOiBcIiArIGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzaGFkZXJzLnB1c2goc2hhZGVyKTtcbiAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5pbml0UHJvZ3JhbSA9IGZ1bmN0aW9uIChwcm9ncmFtTmFtZSwgZnJhZ21lbnRTaGFkZXJTb3VyY2UsIHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHByb2dyYW1zID0gX2EucHJvZ3JhbXMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICBpZiAocHJvZ3JhbXNbcHJvZ3JhbU5hbWVdKSB7XG4gICAgICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW1zW3Byb2dyYW1OYW1lXS5wcm9ncmFtKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFscmVhZHkgYSBwcm9ncmFtIHdpdGggdGhlIG5hbWUgXCIgKyBwcm9ncmFtTmFtZSArIFwiLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSB0aGlzLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXJTb3VyY2UsIGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIC8vIExvYWQgZnVsbHNjcmVlbiBxdWFkIHZlcnRleCBzaGFkZXIgYnkgZGVmYXVsdC5cbiAgICAgICAgLy8gY29uc3QgdmVydGV4U2hhZGVyID0gdmVydGV4U2hhZGVyU291cmNlID9cbiAgICAgICAgLy8gXHR0aGlzLmNvbXBpbGVTaGFkZXIodmVydGV4U2hhZGVyU291cmNlLCBnbC5WRVJURVhfU0hBREVSKSA6XG4gICAgICAgIC8vIFx0dGhpcy5mc1F1YWRWZXJ0ZXhTaGFkZXI7XG4gICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSB0aGlzLmRlZmF1bHRWZXJ0ZXhTaGFkZXI7XG4gICAgICAgIGlmICghZnJhZ21lbnRTaGFkZXIgfHwgIXZlcnRleFNoYWRlcikge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlVuYWJsZSB0byBpbml0IHNoYWRlcnMgZm9yIHByb2dyYW0gXCIgKyBwcm9ncmFtTmFtZSArIFwiLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDcmVhdGUgYSBwcm9ncmFtLlxuICAgICAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gaW5pdCBnbCBwcm9ncmFtLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEF0dGFjaCB0aGUgc2hhZGVycy5cbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIC8vIExpbmsgdGhlIHByb2dyYW0uXG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICAvLyBDaGVjayBpZiBpdCBsaW5rZWQuXG4gICAgICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUyk7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgLy8gU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCB0aGUgbGluay5cbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJQcm9ncmFtIFwiICsgcHJvZ3JhbU5hbWUgKyBcIiBmaWxlZCB0byBsaW5rOiBcIiArIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgbmV3IHByb2dyYW0uXG4gICAgICAgIHByb2dyYW1zW3Byb2dyYW1OYW1lXSA9IHtcbiAgICAgICAgICAgIHByb2dyYW06IHByb2dyYW0sXG4gICAgICAgICAgICB1bmlmb3Jtczoge30sXG4gICAgICAgIH07XG4gICAgICAgIHVuaWZvcm1zID09PSBudWxsIHx8IHVuaWZvcm1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1bmlmb3Jtcy5mb3JFYWNoKGZ1bmN0aW9uICh1bmlmb3JtKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHVuaWZvcm0ubmFtZSwgdmFsdWUgPSB1bmlmb3JtLnZhbHVlLCBkYXRhVHlwZSA9IHVuaWZvcm0uZGF0YVR5cGU7XG4gICAgICAgICAgICBfdGhpcy5zZXRQcm9ncmFtVW5pZm9ybShwcm9ncmFtTmFtZSwgbmFtZSwgdmFsdWUsIGRhdGFUeXBlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICA7XG4gICAgR1BHUFUucHJvdG90eXBlLnVuaWZvcm1UeXBlRm9yVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGRhdGFUeXBlKSB7XG4gICAgICAgIGlmIChkYXRhVHlwZSA9PT0gY29uc3RhbnRzXzEuRkxPQVRfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLkZMT0FUXzFEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLkZMT0FUXzJEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLkZMT0FUXzNEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLkZMT0FUXzREX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVuaWZvcm0gdmFsdWU6IFwiICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFUeXBlID09PSBjb25zdGFudHNfMS5JTlRfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLklOVF8xRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5JTlRfMkRfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuSU5UXzNEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLklOVF80RF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1bmlmb3JtIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdW5pZm9ybSBkYXRhIHR5cGU6IFwiICsgZGF0YVR5cGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBHUEdQVS5wcm90b3R5cGUuc2V0UHJvZ3JhbVVuaWZvcm0gPSBmdW5jdGlvbiAocHJvZ3JhbU5hbWUsIHVuaWZvcm1OYW1lLCB2YWx1ZSwgZGF0YVR5cGUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgcHJvZ3JhbXMgPSBfYS5wcm9ncmFtcywgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIHZhciBwcm9ncmFtID0gcHJvZ3JhbXNbcHJvZ3JhbU5hbWVdO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdW50IG5vdCBzZXQgdW5pZm9ybSwgbm8gcHJvZ3JhbSBvZiBuYW1lOiBcIiArIHByb2dyYW1OYW1lICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCBhY3RpdmUgcHJvZ3JhbS5cbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBwcm9ncmFtLnVuaWZvcm1zO1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMudW5pZm9ybVR5cGVGb3JWYWx1ZSh2YWx1ZSwgZGF0YVR5cGUpO1xuICAgICAgICBpZiAoIXVuaWZvcm1zW3VuaWZvcm1OYW1lXSkge1xuICAgICAgICAgICAgLy8gSW5pdCB1bmlmb3JtIGlmIG5lZWRlZC5cbiAgICAgICAgICAgIHZhciBsb2NhdGlvbl8xID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0ucHJvZ3JhbSwgdW5pZm9ybU5hbWUpO1xuICAgICAgICAgICAgaWYgKCFsb2NhdGlvbl8xKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IHVuaWZvcm0gXCIgKyB1bmlmb3JtTmFtZSArIFwiIGZvciBwcm9ncmFtIFwiICsgcHJvZ3JhbU5hbWUgKyBcIi5cXG5DaGVjayB0aGF0IHVuaWZvcm0gaXMgcHJlc2VudCBpbiBzaGFkZXIgY29kZSwgdW51c2VkIHVuaWZvcm1zIG1heSBiZSByZW1vdmVkIGJ5IGNvbXBpbGVyLlxcbkFsc28gY2hlY2sgdGhhdCB1bmlmb3JtIHR5cGUgaW4gc2hhZGVyIGNvZGUgbWF0Y2hlcyB0eXBlIFwiICsgdHlwZSArIFwiLlxcbkVycm9yIGNvZGU6IFwiICsgZ2wuZ2V0RXJyb3IoKSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bmlmb3Jtc1t1bmlmb3JtTmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXzEsXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVuaWZvcm0gPSB1bmlmb3Jtc1t1bmlmb3JtTmFtZV07XG4gICAgICAgIC8vIENoZWNrIHRoYXQgdHlwZXMgbWF0Y2ggcHJldmlvdXNseSBzZXQgdW5pZm9ybS5cbiAgICAgICAgaWYgKHVuaWZvcm0udHlwZSAhPSB0eXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmlmb3JtIFwiICsgdW5pZm9ybU5hbWUgKyBcIiBjYW5ub3QgY2hhbmdlIGZyb20gdHlwZSBcIiArIHVuaWZvcm0udHlwZSArIFwiIHRvIHR5cGUgXCIgKyB0eXBlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IHVuaWZvcm0ubG9jYXRpb247XG4gICAgICAgIC8vIFNldCB1bmlmb3JtLlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xSZW5kZXJpbmdDb250ZXh0L3VuaWZvcm1cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkZMT0FUXzFEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkZMT0FUXzJEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5GTE9BVF8zRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuRkxPQVRfNERfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLklOVF8xRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5JTlRfMkRfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLklOVF8zRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zaXYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuSU5UXzREX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHVuaWZvcm0gdHlwZTogXCIgKyB0eXBlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICA7XG4gICAgR1BHUFUucHJvdG90eXBlLmluaXRGcmFtZWJ1ZmZlckZvclRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZU5hbWUsIHNob3VsZE92ZXJ3cml0ZSkge1xuICAgICAgICBpZiAoc2hvdWxkT3ZlcndyaXRlID09PSB2b2lkIDApIHsgc2hvdWxkT3ZlcndyaXRlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZnJhbWVidWZmZXJzID0gX2EuZnJhbWVidWZmZXJzLCB0ZXh0dXJlcyA9IF9hLnRleHR1cmVzLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyc1t0ZXh0dXJlTmFtZV0pIHtcbiAgICAgICAgICAgIGlmICghc2hvdWxkT3ZlcndyaXRlKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFscmVhZHkgYSBmcmFtZWJ1ZmZlciB3aXRoIHRoZSBuYW1lIFwiICsgdGV4dHVyZU5hbWUgKyBcIiwgdXNlIHNob3VsZE92ZXJ3cml0ZSBmbGFnIGluIGluaXRUZXh0dXJlKCkgdG8gaWdub3JlLlwiKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyc1t0ZXh0dXJlTmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGV4dHVyZXNbdGV4dHVyZU5hbWVdO1xuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbml0IGZyYW1lYnVmZmVyLCB0ZXh0dXJlIFwiICsgdGV4dHVyZU5hbWUgKyBcIiBkb2VzIG5vdCBleGlzdC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IFwiICsgdGV4dHVyZU5hbWUgKyBcIiBmcmFtZWJ1ZmZlcjogXCIgKyBnbC5nZXRFcnJvcigpICsgXCIuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVidWZmZXIpO1xuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xSZW5kZXJpbmdDb250ZXh0L2ZyYW1lYnVmZmVyVGV4dHVyZTJEXG4gICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSwgMCk7XG4gICAgICAgIHZhciBzdGF0dXMgPSBnbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKGdsLkZSQU1FQlVGRkVSKTtcbiAgICAgICAgaWYgKHN0YXR1cyAhPSBnbC5GUkFNRUJVRkZFUl9DT01QTEVURSkge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkludmFsaWQgc3RhdHVzIGZvciBcIiArIHRleHR1cmVOYW1lICsgXCIgZnJhbWVidWZmZXI6IFwiICsgc3RhdHVzICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lYnVmZmVyc1t0ZXh0dXJlTmFtZV0gPSBmcmFtZWJ1ZmZlcjtcbiAgICB9O1xuICAgIDtcbiAgICBHUEdQVS5wcm90b3R5cGUuZ2xUZXh0dXJlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIChudW1DaGFubmVscywgdHlwZSwgd3JpdGFibGUpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvd2ViZ2wvc3BlY3MvbGF0ZXN0LzIuMC8jVEVYVFVSRV9UWVBFU19GT1JNQVRTX0ZST01fRE9NX0VMRU1FTlRTX1RBQkxFXG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGlzV2ViR0wyID0gX2EuaXNXZWJHTDIsIGV4dGVuc2lvbnMgPSBfYS5leHRlbnNpb25zO1xuICAgICAgICB2YXIgZ2xUeXBlLCBnbEZvcm1hdCwgZ2xJbnRlcm5hbEZvcm1hdCwgZ2xOdW1DaGFubmVscztcbiAgICAgICAgaWYgKGlzV2ViR0wyKSB7XG4gICAgICAgICAgICBnbE51bUNoYW5uZWxzID0gbnVtQ2hhbm5lbHM7XG4gICAgICAgICAgICAvLyBodHRwczovL3d3dy5raHJvbm9zLm9yZy9yZWdpc3RyeS93ZWJnbC9leHRlbnNpb25zL0VYVF9jb2xvcl9idWZmZXJfZmxvYXQvXG4gICAgICAgICAgICAvLyBUaGUgc2l6ZWQgaW50ZXJuYWwgZm9ybWF0IFJHQjE2RiBpcyBub3QgY29sb3ItcmVuZGVyYWJsZSBmb3Igc29tZSByZWFzb24uXG4gICAgICAgICAgICAvLyBJZiBudW1DaGFubmVscyA9PSAzIGZvciBhIHdyaXRhYmxlIHRleHR1cmUsIHVzZSBSR0JBIGluc3RlYWQuXG4gICAgICAgICAgICBpZiAobnVtQ2hhbm5lbHMgPT09IDMgJiYgd3JpdGFibGUpIHtcbiAgICAgICAgICAgICAgICBnbE51bUNoYW5uZWxzID0gNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SRUQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SRztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHQjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxvYXQxNic6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLkhBTEZfRkxPQVQ7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SMTZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SRzE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCMTZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMTZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuVU5TSUdORURfQllURTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlI4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SRzg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChudW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGZvciByZWFkIG9ubHkgdGV4dHVyZXMgaW4gV2ViR0wgMS4wLCB3ZSBjb3VsZCB1c2UgZ2wuQUxQSEEgYW5kIGdsLkxVTUlOQU5DRV9BTFBIQSBoZXJlLlxuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHQjtcbiAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjtcbiAgICAgICAgICAgICAgICAgICAgZ2xOdW1DaGFubmVscyA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0JBO1xuICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTtcbiAgICAgICAgICAgICAgICAgICAgZ2xOdW1DaGFubmVscyA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxvYXQxNic6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGV4dGVuc2lvbnNbT0VTX1RFWFRVUkVfSEFMRl9GTE9BVF0uSEFMRl9GTE9BVF9PRVM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuVU5TSUdORURfQllURTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG1pc3NpbmcgcGFyYW1zLlxuICAgICAgICBpZiAoZ2xUeXBlID09PSB1bmRlZmluZWQgfHwgZ2xGb3JtYXQgPT09IHVuZGVmaW5lZCB8fCBnbEludGVybmFsRm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZTogXCIgKyB0eXBlICsgXCIgb3IgbnVtQ2hhbm5lbHMgXCIgKyBudW1DaGFubmVscyArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xOdW1DaGFubmVscyA9PT0gdW5kZWZpbmVkIHx8IG51bUNoYW5uZWxzIDwgMSB8fCBudW1DaGFubmVscyA+IDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtQ2hhbm5lbHM6IFwiICsgbnVtQ2hhbm5lbHMgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdsRm9ybWF0OiBnbEZvcm1hdCxcbiAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQ6IGdsSW50ZXJuYWxGb3JtYXQsXG4gICAgICAgICAgICBnbFR5cGU6IGdsVHlwZSxcbiAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHM6IGdsTnVtQ2hhbm5lbHMsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBHUEdQVS5wcm90b3R5cGUuaW5pdFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZU5hbWUsIHdpZHRoLCBoZWlnaHQsIHR5cGUsIG51bUNoYW5uZWxzLCB3cml0YWJsZSwgZGF0YSwgc2hvdWxkT3ZlcndyaXRlKSB7XG4gICAgICAgIGlmICh3cml0YWJsZSA9PT0gdm9pZCAwKSB7IHdyaXRhYmxlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHNob3VsZE92ZXJ3cml0ZSA9PT0gdm9pZCAwKSB7IHNob3VsZE92ZXJ3cml0ZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIHRleHR1cmVzID0gX2EudGV4dHVyZXMsIGZyYW1lYnVmZmVycyA9IF9hLmZyYW1lYnVmZmVycywgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIGlmICh0ZXh0dXJlc1t0ZXh0dXJlTmFtZV0pIHtcbiAgICAgICAgICAgIGlmICghc2hvdWxkT3ZlcndyaXRlKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFscmVhZHkgYSB0ZXh0dXJlIHdpdGggdGhlIG5hbWUgXCIgKyB0ZXh0dXJlTmFtZSArIFwiLCB1c2Ugc2hvdWxkT3ZlcndyaXRlIGZsYWcgdG8gaWdub3JlLlwiKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZXNbdGV4dHVyZU5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayB0aGF0IGRhdGEgaXMgY29ycmVjdCBsZW5ndGguXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoICE9PSB3aWR0aCAqIGhlaWdodCAqIG51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGEgYXJyYXkgb2Ygc2l6ZSBcIiArIGRhdGEubGVuZ3RoICsgXCIgZm9yIHRleHR1cmUgb2YgZGltZW5zaW9ucyBcIiArIHdpZHRoICsgXCIgeCBcIiArIGhlaWdodCArIFwiIHggXCIgKyBudW1DaGFubmVscyArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGluaXQgXCIgKyB0ZXh0dXJlTmFtZSArIFwiIHRleHR1cmU6IFwiICsgZ2wuZ2V0RXJyb3IoKSArIFwiLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgLy8gVE9ETzogZGlnIGludG8gdGhpcy5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB2YXIgZmlsdGVyID0gZ2wuTkVBUkVTVDsgLy90aGlzLmxpbmVhckZpbHRlckVuYWJsZWQgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZmlsdGVyKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGZpbHRlcik7XG4gICAgICAgIC8vIFRPRE86IENoZWNrIHRoYXQgZGF0YSBpcyBjb3JyZWN0IHR5cGUuXG4gICAgICAgIC8vIGlmIChkYXRhICYmIHR5cGUgPT09ICdmbG9hdDE2Jykge1xuICAgICAgICAvLyBcdC8vIC8vIFNpbmNlIHRoZXJlIGlzIG5vIEZsb2F0MTZUeXBlZEFycmF5LCB3ZSBtdXN0IHVzIFVpbnQxNlR5cGVkQXJyYXlcbiAgICAgICAgLy8gXHQvLyBjb25zdCBmbG9hdDE2QXJyYXkgPSBuZXcgSW50MTZBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICAgIC8vIFx0Ly8gZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIFx0Ly8gfVxuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvdGV4SW1hZ2UyRFxuICAgICAgICB2YXIgX2IgPSB0aGlzLmdsVGV4dHVyZVBhcmFtZXRlcnMobnVtQ2hhbm5lbHMsIHR5cGUsIHdyaXRhYmxlKSwgZ2xGb3JtYXQgPSBfYi5nbEZvcm1hdCwgZ2xJbnRlcm5hbEZvcm1hdCA9IF9iLmdsSW50ZXJuYWxGb3JtYXQsIGdsTnVtQ2hhbm5lbHMgPSBfYi5nbE51bUNoYW5uZWxzLCBnbFR5cGUgPSBfYi5nbFR5cGU7XG4gICAgICAgIC8vIENoZWNrIHRoYXQgZGF0YSBpcyBjb3JyZWN0IGxlbmd0aC5cbiAgICAgICAgLy8gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHdlYmdsIDEuMCBjb250ZXh0cy5cbiAgICAgICAgaWYgKGRhdGEgJiYgbnVtQ2hhbm5lbHMgIT09IGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZVNpemUgPSB3aWR0aCAqIGhlaWdodDtcbiAgICAgICAgICAgIHZhciBuZXdBcnJheSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICAgICAgbmV3QXJyYXkgPSBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCAqIGdsTnVtQ2hhbm5lbHMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCB0eXBlIFwiICsgdHlwZSArIFwiIGZvciBpbml0VGV4dHVyZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGaWxsIG5ldyBkYXRhIGFycmF5IHdpdGggb2xkIGRhdGEuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1DaGFubmVsczsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0FycmF5W2dsTnVtQ2hhbm5lbHMgKiBpICsgal0gPSBkYXRhW2kgKiBudW1DaGFubmVscyArIGpdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEgPSBuZXdBcnJheTtcbiAgICAgICAgfVxuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsSW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIGdsRm9ybWF0LCBnbFR5cGUsIGRhdGEgPyBkYXRhIDogbnVsbCk7XG4gICAgICAgIHRleHR1cmVzW3RleHR1cmVOYW1lXSA9IHRleHR1cmU7XG4gICAgICAgIGlmICghd3JpdGFibGUpIHtcbiAgICAgICAgICAgIC8vIERlbGV0ZSB1bnVzZWQgZnJhbWVidWZmZXIgaWYgbmVlZGVkLlxuICAgICAgICAgICAgaWYgKHNob3VsZE92ZXJ3cml0ZSAmJiBmcmFtZWJ1ZmZlcnNbdGV4dHVyZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZnJhbWVidWZmZXJzW3RleHR1cmVOYW1lXSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGZyYW1lYnVmZmVyc1t0ZXh0dXJlTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5pdCBhIGZyYW1lYnVmZmVyIGZvciB0aGlzIHRleHR1cmUgc28gd2UgY2FuIHdyaXRlIHRvIGl0LlxuICAgICAgICB0aGlzLmluaXRGcmFtZWJ1ZmZlckZvclRleHR1cmUodGV4dHVyZU5hbWUsIHNob3VsZE92ZXJ3cml0ZSk7XG4gICAgfTtcbiAgICA7XG4gICAgR1BHUFUucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKGNhbnZhc0VsKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciB3aWR0aCA9IGNhbnZhc0VsLmNsaWVudFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gY2FudmFzRWwuY2xpZW50SGVpZ2h0O1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgLy8gU2V0IGNvcnJlY3QgY2FudmFzIHBpeGVsIHNpemUuXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTF9BUEkvQnlfZXhhbXBsZS9DYW52YXNfc2l6ZV9hbmRfV2ViR0xcbiAgICAgICAgY2FudmFzRWwud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzRWwuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvLyBTYXZlIGRpbWVuc2lvbnMuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfTtcbiAgICA7XG4gICAgR1BHUFUucHJvdG90eXBlLl9zdGVwID0gZnVuY3Rpb24gKHByb2dyYW1OYW1lLCBpbnB1dFRleHR1cmVzLCBvdXRwdXRUZXh0dXJlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIHByb2dyYW1zID0gX2EucHJvZ3JhbXMsIGZyYW1lYnVmZmVycyA9IF9hLmZyYW1lYnVmZmVycztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBwcm9ncmFtc1twcm9ncmFtTmFtZV07XG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcm9ncmFtIG5hbWU6IFwiICsgcHJvZ3JhbU5hbWUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSBvdXRwdXRUZXh0dXJlID8gZnJhbWVidWZmZXJzW291dHB1dFRleHR1cmVdIDogbnVsbDtcbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3V0cHV0IHRleHR1cmU6IFwiICsgb3V0cHV0VGV4dHVyZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgaSk7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmVzW2lucHV0VGV4dHVyZXNbaV1dKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQb2ludCBhdHRyaWJ1dGUgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBWQk8uXG4gICAgICAgIHZhciBwb3NpdGlvbkxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbS5wcm9ncmFtLCAnYVBvc2l0aW9uJyk7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25Mb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgLy8gRW5hYmxlIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uTG9jYXRpb24pO1xuICAgIH07XG4gICAgO1xuICAgIC8vIFN0ZXAgZm9yIGVudGlyZSBmdWxsc2NyZWVuIHF1YWQuXG4gICAgR1BHUFUucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAocHJvZ3JhbU5hbWUsIGlucHV0VGV4dHVyZXMsIG91dHB1dFRleHR1cmUpIHtcbiAgICAgICAgaWYgKGlucHV0VGV4dHVyZXMgPT09IHZvaWQgMCkgeyBpbnB1dFRleHR1cmVzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIHF1YWRQb3NpdGlvbnNCdWZmZXIgPSBfYS5xdWFkUG9zaXRpb25zQnVmZmVyO1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSB1bmlmb3JtcyBhbmQgYnVmZmVycy5cbiAgICAgICAgdGhpcy5zZXRQcm9ncmFtVW5pZm9ybShwcm9ncmFtTmFtZSwgJ3Vfc2NhbGUnLCBbMSwgMV0sICdGTE9BVCcpO1xuICAgICAgICB0aGlzLnNldFByb2dyYW1Vbmlmb3JtKHByb2dyYW1OYW1lLCAndV90cmFuc2xhdGlvbicsIFswLCAwXSwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBxdWFkUG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgdGhpcy5fc3RlcChwcm9ncmFtTmFtZSwgaW5wdXRUZXh0dXJlcywgb3V0cHV0VGV4dHVyZSk7XG4gICAgICAgIC8vIERyYXcuXG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH07XG4gICAgLy8gU3RlcCBwcm9ncmFtIG9ubHkgZm9yIGEgc3RyaXAgb2YgcHggYWxvbmcgdGhlIGJvdW5kYXJ5LlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwQm91bmRhcnkgPSBmdW5jdGlvbiAocHJvZ3JhbU5hbWUsIGlucHV0VGV4dHVyZXMsIG91dHB1dFRleHR1cmUpIHtcbiAgICAgICAgaWYgKGlucHV0VGV4dHVyZXMgPT09IHZvaWQgMCkgeyBpbnB1dFRleHR1cmVzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIGJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyID0gX2EuYm91bmRhcnlQb3NpdGlvbnNCdWZmZXI7XG4gICAgICAgIC8vIElnbm9yZSBpZiB3ZSBhcmUgaW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHVuaWZvcm1zIGFuZCBidWZmZXJzLlxuICAgICAgICB0aGlzLnNldFByb2dyYW1Vbmlmb3JtKHByb2dyYW1OYW1lLCAndV9zY2FsZScsIFsxLCAxXSwgJ0ZMT0FUJyk7XG4gICAgICAgIHRoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsICd1X3RyYW5zbGF0aW9uJywgWzAsIDBdLCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgdGhpcy5fc3RlcChwcm9ncmFtTmFtZSwgaW5wdXRUZXh0dXJlcywgb3V0cHV0VGV4dHVyZSk7XG4gICAgICAgIC8vIERyYXcuXG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuTElORV9MT09QLCAwLCA0KTsgLy8gRHJhdyB0byBmcmFtZWJ1ZmZlci5cbiAgICB9O1xuICAgIC8vIC8vIFN0ZXAgcHJvZ3JhbSBmb3IgYWxsIGJ1dCBhIHN0cmlwIG9mIHB4IGFsb25nIHRoZSBib3VuZGFyeS5cbiAgICAvLyBzdGVwTm9uQm91bmRhcnkoXG4gICAgLy8gXHRwcm9ncmFtTmFtZTogc3RyaW5nLFxuICAgIC8vIFx0aW5wdXRUZXh0dXJlczogc3RyaW5nW10gPSBbXSxcbiAgICAvLyBcdG91dHB1dFRleHR1cmU/OiBzdHJpbmcsIC8vIFVuZGVmaW5lZCByZW5kZXJzIHRvIHNjcmVlbi5cbiAgICAvLyApIHtcbiAgICAvLyBcdGNvbnN0IHsgZ2wsIGVycm9yU3RhdGUgfSA9IHRoaXM7XG4gICAgLy8gXHQvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgIC8vIFx0aWYgKGVycm9yU3RhdGUpIHtcbiAgICAvLyBcdFx0cmV0dXJuO1xuICAgIC8vIFx0fVxuICAgIC8vIFx0dGhpcy5fc3RlcChwcm9ncmFtTmFtZSwgaW5wdXRUZXh0dXJlcywgb3V0cHV0VGV4dHVyZSk7XG4gICAgLy8gXHRnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTsvLyBEcmF3IHRvIGZyYW1lYnVmZmVyLlxuICAgIC8vIH1cbiAgICAvLyBTdGVwIHByb2dyYW0gb25seSBmb3IgYSBjaXJjdWxhciBzcG90LlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwQ2lyY2xlID0gZnVuY3Rpb24gKHByb2dyYW1OYW1lLCBwb3NpdGlvbiwgLy8gcG9zaXRpb24gaXMgaW4gc2NyZWVuIHNwYWNlIGNvb3Jkcy5cbiAgICByYWRpdXMsIC8vIHJhZGl1cyBpcyBpbiBweC5cbiAgICBpbnB1dFRleHR1cmVzLCBvdXRwdXRUZXh0dXJlKSB7XG4gICAgICAgIGlmIChpbnB1dFRleHR1cmVzID09PSB2b2lkIDApIHsgaW5wdXRUZXh0dXJlcyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBjaXJjbGVQb3NpdGlvbnNCdWZmZXIgPSBfYS5jaXJjbGVQb3NpdGlvbnNCdWZmZXIsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgLy8gSWdub3JlIGlmIHdlIGFyZSBpbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIHRoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsICd1X3NjYWxlJywgW3JhZGl1cyAvIHdpZHRoLCByYWRpdXMgLyBoZWlnaHRdLCAnRkxPQVQnKTtcbiAgICAgICAgLy8gRmxpcCB5IGF4aXMuXG4gICAgICAgIHRoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsICd1X3RyYW5zbGF0aW9uJywgWzIgKiBwb3NpdGlvblswXSAvIHdpZHRoIC0gMSwgLTIgKiBwb3NpdGlvblsxXSAvIGhlaWdodCArIDFdLCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGNpcmNsZVBvc2l0aW9uc0J1ZmZlcik7XG4gICAgICAgIHRoaXMuX3N0ZXAocHJvZ3JhbU5hbWUsIGlucHV0VGV4dHVyZXMsIG91dHB1dFRleHR1cmUpO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX0ZBTiwgMCwgTlVNX1NFR01FTlRTX0NJUkNMRSArIDIpOyAvLyBEcmF3IHRvIGZyYW1lYnVmZmVyLlxuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLnN3YXBUZXh0dXJlcyA9IGZ1bmN0aW9uICh0ZXh0dXJlMU5hbWUsIHRleHR1cmUyTmFtZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB0ZXh0dXJlcyA9IF9hLnRleHR1cmVzLCBmcmFtZWJ1ZmZlcnMgPSBfYS5mcmFtZWJ1ZmZlcnM7XG4gICAgICAgIHZhciB0ZW1wID0gdGV4dHVyZXNbdGV4dHVyZTFOYW1lXTtcbiAgICAgICAgdGV4dHVyZXNbdGV4dHVyZTFOYW1lXSA9IHRoaXMudGV4dHVyZXNbdGV4dHVyZTJOYW1lXTtcbiAgICAgICAgdGV4dHVyZXNbdGV4dHVyZTJOYW1lXSA9IHRlbXA7XG4gICAgICAgIHRlbXAgPSBmcmFtZWJ1ZmZlcnNbdGV4dHVyZTFOYW1lXTtcbiAgICAgICAgZnJhbWVidWZmZXJzW3RleHR1cmUxTmFtZV0gPSB0aGlzLmZyYW1lYnVmZmVyc1t0ZXh0dXJlMk5hbWVdO1xuICAgICAgICBmcmFtZWJ1ZmZlcnNbdGV4dHVyZTJOYW1lXSA9IHRlbXA7XG4gICAgfTtcbiAgICA7XG4gICAgLy8gc3dhcDNUZXh0dXJlcyhcbiAgICAvLyBcdHRleHR1cmUxTmFtZTogc3RyaW5nLFxuICAgIC8vIFx0dGV4dHVyZTJOYW1lOiBzdHJpbmcsXG4gICAgLy8gXHR0ZXh0dXJlM05hbWU6IHN0cmluZyxcbiAgICAvLyApIHtcbiAgICAvLyAgICAgbGV0IHRlbXAgPSB0aGlzLnRleHR1cmVzW3RleHR1cmUzTmFtZV07XG4gICAgLy8gICAgIHRoaXMudGV4dHVyZXNbdGV4dHVyZTNOYW1lXSA9IHRoaXMudGV4dHVyZXNbdGV4dHVyZTJOYW1lXTtcbiAgICAvLyAgICAgdGhpcy50ZXh0dXJlc1t0ZXh0dXJlMk5hbWVdID0gdGhpcy50ZXh0dXJlc1t0ZXh0dXJlMU5hbWVdO1xuICAgIC8vICAgICB0aGlzLnRleHR1cmVzW3RleHR1cmUxTmFtZV0gPSB0ZW1wO1xuICAgIC8vICAgICB0ZW1wID0gdGhpcy5mcmFtZWJ1ZmZlcnNbdGV4dHVyZTNOYW1lXTtcbiAgICAvLyAgICAgdGhpcy5mcmFtZWJ1ZmZlcnNbdGV4dHVyZTNOYW1lXSA9IHRoaXMuZnJhbWVidWZmZXJzW3RleHR1cmUyTmFtZV07XG4gICAgLy8gICAgIHRoaXMuZnJhbWVidWZmZXJzW3RleHR1cmUyTmFtZV0gPSB0aGlzLmZyYW1lYnVmZmVyc1t0ZXh0dXJlMU5hbWVdO1xuICAgIC8vICAgICB0aGlzLmZyYW1lYnVmZmVyc1t0ZXh0dXJlMU5hbWVdID0gdGVtcDtcbiAgICAvLyB9O1xuICAgIC8vIHJlYWR5VG9SZWFkKCkge1xuICAgIC8vIFx0Y29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICAvLyAgICAgcmV0dXJuIGdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpID09IGdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFO1xuICAgIC8vIH07XG4gICAgLy8gcmVhZFBpeGVscyh4TWluOiBudW1iZXIsIHlNaW46IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGFycmF5OiBUZXh0dXJlRGF0YVR5cGUpIHtcbiAgICAvLyBcdGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgLy8gXHRnbC5yZWFkUGl4ZWxzKHhNaW4sIHlNaW4sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGFycmF5KTtcbiAgICAvLyB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVE9ETzogbWFrZSBzdXJlIHdlIGFyZSBhY3R1YWxseSBkZWFsbG9jYXRpbmcgcmVzb3VyY2VzIGhlcmUuXG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIHByb2dyYW1zID0gX2EucHJvZ3JhbXMsIGZyYW1lYnVmZmVycyA9IF9hLmZyYW1lYnVmZmVycywgdGV4dHVyZXMgPSBfYS50ZXh0dXJlcywgc2hhZGVycyA9IF9hLnNoYWRlcnMsIGRlZmF1bHRWZXJ0ZXhTaGFkZXIgPSBfYS5kZWZhdWx0VmVydGV4U2hhZGVyO1xuICAgICAgICAvLyBVbmJpbmQgYWxsIGRhdGEgYmVmb3JlIGRlbGV0aW5nLlxuICAgICAgICBPYmplY3Qua2V5cyhwcm9ncmFtcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IHByb2dyYW1zW2tleV0ucHJvZ3JhbTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgICAgICBkZWxldGUgcHJvZ3JhbXNba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5rZXlzKGZyYW1lYnVmZmVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSBmcmFtZWJ1ZmZlcnNba2V5XTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIGRlbGV0ZSBmcmFtZWJ1ZmZlcnNba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5rZXlzKHRleHR1cmVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGV4dHVyZXNba2V5XTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgICAgICBkZWxldGUgdGV4dHVyZXNba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzaGFkZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAoc2hhZGVyc1tpXSA9PT0gZGVmYXVsdFZlcnRleFNoYWRlcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xSZW5kZXJpbmdDb250ZXh0L2RlbGV0ZVNoYWRlclxuICAgICAgICAgICAgLy8gVGhpcyBtZXRob2QgaGFzIG5vIGVmZmVjdCBpZiB0aGUgc2hhZGVyIGhhcyBhbHJlYWR5IGJlZW4gZGVsZXRlZFxuICAgICAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcnNbaV0pO1xuICAgICAgICAgICAgc2hhZGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIDtcbiAgICByZXR1cm4gR1BHUFU7XG59KCkpO1xuZXhwb3J0cy5HUEdQVSA9IEdQR1BVO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R1BHUFUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklOVF9UWVBFID0gZXhwb3J0cy5GTE9BVF9UWVBFID0gZXhwb3J0cy5JTlRfNERfVU5JRk9STSA9IGV4cG9ydHMuSU5UXzNEX1VOSUZPUk0gPSBleHBvcnRzLklOVF8yRF9VTklGT1JNID0gZXhwb3J0cy5JTlRfMURfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfNERfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfM0RfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfMkRfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfMURfVU5JRk9STSA9IHZvaWQgMDtcbmV4cG9ydHMuRkxPQVRfMURfVU5JRk9STSA9ICcxZic7XG5leHBvcnRzLkZMT0FUXzJEX1VOSUZPUk0gPSAnMmYnO1xuZXhwb3J0cy5GTE9BVF8zRF9VTklGT1JNID0gJzNmJztcbmV4cG9ydHMuRkxPQVRfNERfVU5JRk9STSA9ICczZic7XG5leHBvcnRzLklOVF8xRF9VTklGT1JNID0gJzFpJztcbmV4cG9ydHMuSU5UXzJEX1VOSUZPUk0gPSAnMmknO1xuZXhwb3J0cy5JTlRfM0RfVU5JRk9STSA9ICczaSc7XG5leHBvcnRzLklOVF80RF9VTklGT1JNID0gJzNpJztcbmV4cG9ydHMuRkxPQVRfVFlQRSA9ICdGTE9BVCc7XG5leHBvcnRzLklOVF9UWVBFID0gJ0lOVCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdQR1BVID0gdm9pZCAwO1xudmFyIEdQR1BVXzEgPSByZXF1aXJlKFwiLi9HUEdQVVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdQR1BVXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBHUEdQVV8xLkdQR1BVOyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBWZXJ0ZXggc2hhZGVyIGZvciBmdWxsc2NyZWVuIHF1YWQuXG5leHBvcnRzLmRlZmF1bHQgPSBcIlxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb247XFxudW5pZm9ybSB2ZWMyIHVfc2NhbGU7XFxudW5pZm9ybSB2ZWMyIHVfdHJhbnNsYXRpb247XFxudmFyeWluZyB2ZWMyIHV2X3ZpZXdwb3J0O1xcbnZhcnlpbmcgdmVjMiB1djtcXG52b2lkIG1haW4oKSB7XFxuXFx0Ly8gQ2FsY3VsYXRlIFVWIGNvb3JkaW5hdGVzIFswLCAxXS5cXG5cXHR1diA9IDAuNSAqIChhUG9zaXRpb24gKyAxLjApO1xcblxcdC8vIEFwcGx5IHRyYW5zZm9ybWF0aW9ucy5cXG5cXHR2ZWMyIHBvc2l0aW9uID0gdV9zY2FsZSAqIGFQb3NpdGlvbiArIHVfdHJhbnNsYXRpb247XFxuXFx0Ly8gQ2FsY3VsYXRlIGEgZ2xvYmFsIHV2IGZvciB0aGUgdmlld3BvcnQuXFxuXFx0dXZfdmlld3BvcnQgPSAwLjUgKiAocG9zaXRpb24gKyAxLjApO1xcblxcdC8vIENhbGN1bGF0ZSB2ZXJ0ZXggcG9zaXRpb24uXFxuXFx0Z2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLCAxKTtcXG59XFxuXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWZhdWx0VmVydGV4U2hhZGVyLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCgwKTtcXG59XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHV2O1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfc3RhdGU7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdHZlYzIgY3VycmVudFN0YXRlID0gdGV4dHVyZTJEKHVfc3RhdGUsIHV2KS54eTtcXG5cXHQvLyBBZGQgZXh0ZXJuYWwgZm9yY2UgdG8gY3VycmVudCBweC5cXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KGN1cnJlbnRTdGF0ZSwgLTUuMCwgMCk7XFxufVwiIiwibW9kdWxlLmV4cG9ydHMgPSBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB1djtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3N0YXRlO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRmbG9hdCBwb3NpdGlvbiA9IHRleHR1cmUyRCh1X3N0YXRlLCB1dikuciAvIDIwLjAgKyAwLjU7XFxuXFx0aWYgKHBvc2l0aW9uID4gMS4wKSBwb3NpdGlvbiA9IDEuMDtcXG5cXHRpZiAocG9zaXRpb24gPCAwLjApIHBvc2l0aW9uID0gMC4wO1xcblxcblxcdGlmIChwb3NpdGlvbiA8IDAuNSl7XFxuXFx0XFx0cG9zaXRpb24gKj0gMi4wO1xcblxcdFxcdC8vcG9zaXRpb24gPSAwIC0+IGJsdWVcXG5cXHRcXHQvL3Bvc2l0aW9uID0gMSAtPiBtYWdlbnRhXFxuXFx0XFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCgoMjU1LjAqcG9zaXRpb24pLzI1NS4wLCgxNzkuMCooMS4wLXBvc2l0aW9uKSkvMjU1LjAsKDE1MC4wLTU0LjAqcG9zaXRpb24pLzI1NS4wLDEuMCk7XFxuXFx0fSBlbHNlIHtcXG5cXHRcXHRwb3NpdGlvbiAtPSAwLjU7XFxuXFx0XFx0cG9zaXRpb24gKj0gMi4wO1xcblxcdFxcdC8vcG9zaXRpb24gPSAwIC0+IG1hZ2VudGFcXG5cXHRcXHQvL3Bvc2l0aW9uID0gMSAtPiB3aGl0ZVxcblxcdFxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoKDI1NS4wLSgxMC4wKnBvc2l0aW9uKSkvMjU1LjAsKDIyMy4wKnBvc2l0aW9uKS8yNTUuMCwoMTA2LjArKDY3LjAqcG9zaXRpb24pKS8yNTUuMCwxLjApO1xcblxcdH1cXG59XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxuI2RlZmluZSBLIDIuMFxcbiNkZWZpbmUgRCAxLjBcXG4jZGVmaW5lIERUIDEuMFxcbiNkZWZpbmUgTUFTUyAxMC4wXFxuXFxudmFyeWluZyB2ZWMyIHV2O1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfc3RhdGU7IC8vIHBvc2l0aW9uLCB2ZWxvY2l0eSwgZXh0ZXJuYWxGb3JjZXMgPSByLCBnLCBiXFxudW5pZm9ybSB2ZWMyIHVfcHhTaXplO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXG5cXHR2ZWMzIGN1cnJlbnRTdGF0ZSA9IHRleHR1cmUyRCh1X3N0YXRlLCB1dikueHl6O1xcblxcdGZsb2F0IGN1cnJlbnRQb3NpdGlvbiA9IGN1cnJlbnRTdGF0ZS54O1xcblxcdGZsb2F0IGN1cnJlbnRWZWxvY2l0eSA9IGN1cnJlbnRTdGF0ZS55O1xcblxcdGZsb2F0IGZUb3RhbCA9IGN1cnJlbnRTdGF0ZS56O1xcblxcblxcdC8vIEdldCBpbnRlcmFjdGlvbnMgd2l0aCBOLCBTLCBFLCBXIG5laWdoYm9ycy5cXG5cXHRmb3IgKGludCBpID0gLTE7IGkgPD0gMTsgaSArPSAyKSB7XFxuXFx0XFx0Zm9yIChpbnQgaiA9IC0xOyBqIDw9IDE7IGogKz0gMikge1xcblxcdFxcdFxcdC8vIENhbGN1bGF0ZSB1diBjb29yZGluYXRlIG9mIG5laWdoYm9yIHB4LlxcblxcdFxcdFxcdHZlYzIgbmVpZ2hib3JVViA9IHV2ICsgdmVjMih1X3B4U2l6ZS54ICogZmxvYXQoaSksIHVfcHhTaXplLnkgKiBmbG9hdChqKSk7XFxuXFx0XFx0XFx0Ly8gQXBwbHkgc3ByaW5nIGRhbXBlciBjb25zdHJhaW50LlxcblxcdFxcdFxcdHZlYzIgbmVpZ2hib3JTdGF0ZSA9IHRleHR1cmUyRCh1X3N0YXRlLCBuZWlnaGJvclVWKS54eTtcXG5cXHRcXHRcXHRmbG9hdCBkZWx0YVAgPSAgbmVpZ2hib3JTdGF0ZS54IC0gY3VycmVudFBvc2l0aW9uO1xcblxcdFxcdFxcdGZsb2F0IGRlbHRhViA9IG5laWdoYm9yU3RhdGUueSAtIGN1cnJlbnRWZWxvY2l0eTtcXG5cXHRcXHRcXHRmVG90YWwgKz0gSyAqIGRlbHRhUCArIEQgKiBkZWx0YVY7XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHRmbG9hdCBhY2NlbGVyYXRpb24gPSBmVG90YWwgLyBNQVNTO1xcblxcdGZsb2F0IHZlbG9jaXR5ID0gYWNjZWxlcmF0aW9uICogRFQgKyBjdXJyZW50VmVsb2NpdHk7XFxuXFx0ZmxvYXQgcG9zaXRpb24gPSB2ZWxvY2l0eSAqIERUICsgY3VycmVudFBvc2l0aW9uO1xcblxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQocG9zaXRpb24sIHZlbG9jaXR5LCAwLCAwKTtcXG59XCIiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4vLyBUaGlzIGVudHJ5IG1vZHVsZSB1c2VkICdleHBvcnRzJyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG4iXSwic291cmNlUm9vdCI6IiJ9