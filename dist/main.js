(()=>{var e={650:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,{default:()=>d});var a,s,l,u,f,c=(a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],s=function(){function e(t){var r=t.targetModal,n=t.triggers,o=void 0===n?[]:n,a=t.onShow,s=void 0===a?function(){}:a,l=t.onClose,u=void 0===l?function(){}:l,f=t.openTrigger,c=void 0===f?"data-micromodal-trigger":f,d=t.closeTrigger,h=void 0===d?"data-micromodal-close":d,v=t.openClass,g=void 0===v?"is-open":v,m=t.disableScroll,p=void 0!==m&&m,b=t.disableFocus,y=void 0!==b&&b,_=t.awaitCloseAnimation,T=void 0!==_&&_,E=t.awaitOpenAnimation,F=void 0!==E&&E,A=t.debugMode,w=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(r),this.config={debugMode:w,disableScroll:p,openTrigger:c,closeTrigger:h,openClass:g,onShow:s,onClose:u,awaitCloseAnimation:T,awaitOpenAnimation:F,disableFocus:y},o.length>0&&this.registerTriggers.apply(this,i(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,r;return t=e,(r=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var r=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",r,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var r=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(r),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(e)}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(a);return Array.apply(void 0,i(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var r=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));r.length>0&&r[0].focus(),0===r.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var r=t.indexOf(document.activeElement);e.shiftKey&&0===r&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&r===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&n(t.prototype,r),e}(),l=null,u=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},f=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var r in t)u(r);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),r=i(document.querySelectorAll("[".concat(t.openTrigger,"]"))),n=function(e,t){var r=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===r[n]&&(r[n]=[]),r[n].push(e)})),r}(r,t.openTrigger);if(!0!==t.debugMode||!1!==f(r,n))for(var o in n){var a=n[o];t.targetModal=o,t.triggers=i(a),l=new s(t)}},show:function(e,t){var r=t||{};r.targetModal=e,!0===r.debugMode&&!1===u(e)||(l&&l.removeEventListeners(),(l=new s(r)).showModal())},close:function(e){e?l.closeModalById(e):l.closeModal()}});window.MicroModal=c;const d=c},607:(e,t,r)=>{"use strict";var n=r(561),i=r(650),o=r(942),a=r(539),s=r(950);i.default.init();var l=document.getElementById("glcanvas"),u=new n.GPGPU(null,l,(function(e){i.default.show("modal-2");var t=document.getElementById("glErrorMsg");t&&(t.innerHTML="Error: "+e);var r=document.getElementById("coverImg");r&&(r.style.display="block")})),f=u.initProgram("sim",o,[{name:"u_state",value:0,dataType:"INT"},{name:"u_pxSize",value:[1/l.clientWidth,1/l.clientHeight],dataType:"FLOAT"}]),c=u.initProgram("render",a,[{name:"u_state",value:0,dataType:"INT"}]),d=u.initProgram("interaction",s,[{name:"u_state",value:0,dataType:"INT"}]),h=u.initDataLayer("state",{width:l.clientWidth,height:l.clientHeight,type:"float16",numChannels:3},!0,2);function v(e){e.preventDefault();var t="scale(1)";document.body.style.webkitTransform=t,document.body.style.msTransform=t,document.body.style.transform=t}function g(){var e=l.clientWidth,t=l.clientHeight;h.resize(e,t),f.setUniform("u_pxSize",[1/e,1/t],"FLOAT"),u.onResize(l)}l.addEventListener("mousemove",(function(e){u.stepCircle(d,[e.clientX,e.clientY],10,[h],h)})),l.addEventListener("touchmove",(function(e){e.preventDefault();for(var t=0;t<e.touches.length;t++){var r=e.touches[t];u.stepCircle(d,[r.pageX,r.pageY],10,[h],h)}})),document.addEventListener("gesturestart",v),document.addEventListener("gesturechange",v),document.addEventListener("gestureend",v),g(),window.addEventListener("resize",g),window.requestAnimationFrame((function e(){u.stepNonBoundary(f,[h],h),u.step(c,[h]),window.requestAnimationFrame(e)}))},249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataLayer=void 0;var r=function(){function e(e,t,r,n,i,o){if(this.bufferIndex=0,this.buffers=[],this.name=e,this.gl=t,this.errorCallback=n,i<0||i%1!=0)throw new Error("Invalid numBuffers: "+i+" for DataLayer "+this.name+", must be positive integer.");this.numBuffers=i,this.width=r.width,this.height=r.height,this.glInternalFormat=r.glInternalFormat,this.glFormat=r.glFormat,this.glType=r.glType,this.writable=o,this.initBuffers(r.data)}return e.prototype.initBuffers=function(e){for(var t=this,r=t.numBuffers,n=t.gl,i=t.width,o=t.height,a=t.glInternalFormat,s=t.glFormat,l=t.glType,u=t.writable,f=t.errorCallback,c=0;c<r;c++){var d=n.createTexture();if(!d)return void f("Could not init texture for DataLayer "+this.name+": "+n.getError()+".");n.bindTexture(n.TEXTURE_2D,d),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);var h=n.NEAREST;n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,h),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,h),n.texImage2D(n.TEXTURE_2D,0,a,i,o,0,s,l,e||null);var v={texture:d};if(u){var g=n.createFramebuffer();if(!g)return void f("Could not init framebuffer for DataLayer "+this.name+": "+n.getError()+".");n.bindFramebuffer(n.FRAMEBUFFER,g),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,d,0);var m=n.checkFramebufferStatus(n.FRAMEBUFFER);m!=n.FRAMEBUFFER_COMPLETE&&f("Invalid status for framebuffer for DataLayer "+this.name+": "+m+"."),v.framebuffer=g}this.buffers.push(v)}},e.prototype.getCurrentStateTexture=function(){return this.buffers[this.bufferIndex].texture},e.prototype.getLastStateTexture=function(){if(1===this.numBuffers)throw new Error("Calling getLastState on DataLayer "+this.name+" with 1 buffer, no last state available.");return this.buffers[this.bufferIndex].texture},e.prototype.setAsRenderTarget=function(){var e=this.gl;this.bufferIndex=++this.bufferIndex%this.numBuffers;var t=this.buffers[this.bufferIndex].framebuffer;if(!t)throw new Error("DataLayer "+this.name+" is not writable.");e.bindFramebuffer(e.FRAMEBUFFER,t)},e.prototype.resize=function(e,t,r){this.destroyBuffers(),this.width=e,this.height=t,this.initBuffers(r)},e.prototype.destroyBuffers=function(){var e=this.gl,t=this.buffers;t.forEach((function(t){var r=t.framebuffer,n=t.texture;e.deleteTexture(n),r&&e.deleteFramebuffer(r),delete t.texture,delete t.framebuffer})),t.length=0},e.prototype.destroy=function(){this.destroyBuffers(),delete this.gl},e}();t.DataLayer=r},576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPGPU=void 0;for(var n=r(416),i=r(249),o=r(389),a=r(989),s=new Float32Array([-1,-1,1,-1,-1,1,1,1]),l=new Float32Array([-1,-1,1,-1,1,1,-1,1]),u=[0,0],f=0;f<=20;f++)u.push(Math.cos(2*Math.PI*f/20),Math.sin(2*Math.PI*f/20));var c=new Float32Array(u),d=function(){function e(e,t,r){void 0===r&&(r=function(e){throw new Error(e)}),this.extensions={},this.errorState=!1,this.shaders=[];var i=this;if(this.errorCallback=function(e){i.errorState||(i.errorState=!0,r&&r(e))},e||null!==(e=t.getContext("webgl2",{antialias:!1})||t.getContext("webgl",{antialias:!1}))){this.isWebGL2=!!e.HALF_FLOAT,this.isWebGL2?console.log("Using WebGL 2.0 context."):console.log("Using WebGL 1.0 context."),this.gl=e,this.isWebGL2?this.loadExtension("EXT_color_buffer_float"):this.loadExtension("OES_texture_half_float"),this.linearFilterEnabled=this.loadExtension("OES_texture_half_float_linear",!0),e.disable(e.DEPTH_TEST),e.pixelStorei(e.UNPACK_ALIGNMENT,1);var o=a.compileShader(e,this.errorCallback,n.default,e.VERTEX_SHADER);if(o){this.defaultVertexShader=o,this.quadPositionsBuffer=this.initVertexBuffer(s),this.boundaryPositionsBuffer=this.initVertexBuffer(l),this.circlePositionsBuffer=this.initVertexBuffer(c),e.bindBuffer(e.ARRAY_BUFFER,null),this.onResize(t);var u=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);console.log(u+" textures max.")}else this.errorCallback("Unable to initialize fullscreen quad vertex shader.")}else this.errorCallback("Unable to initialize WebGL context.")}return e.prototype.initVertexBuffer=function(e){var t=this.errorCallback,r=this.gl,n=r.createBuffer();if(n)return r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW),n;t("Unable to allocate gl buffer.")},e.prototype.loadExtension=function(e,t){void 0===t&&(t=!1);var r,n=this,i=n.extensions,o=n.gl,a=n.errorCallback;try{r=o.getExtension(e)}catch(e){}return r?(i[e]=r,console.log("Loaded extension: "+e+".")):console.warn("Unsupported "+(t?"optional ":"")+"extension: "+e+"."),r||t||a("Required extension unsupported by this device / browser: "+e+"."),!!r},e.prototype.initProgram=function(e,t,r){var n=this.gl,i=this.errorCallback;return this.defaultVertexShader,new o.GPUProgram(e,n,i,this.defaultVertexShader,t,r)},e.prototype.glTextureParameters=function(e,t,r){var n,i,o,a,s=this,l=s.gl,u=s.isWebGL2,f=s.extensions;if(u){switch(a=e,3===e&&r&&(a=4),a){case 1:i=l.RED;break;case 2:i=l.RG;break;case 3:i=l.RGB;break;case 4:i=l.RGBA}switch(t){case"float16":switch(n=l.HALF_FLOAT,a){case 1:o=l.R16F;break;case 2:o=l.RG16F;break;case 3:o=l.RGB16F;break;case 4:o=l.RGBA16F}break;case"uint8":switch(n=l.UNSIGNED_BYTE,a){case 1:o=l.R8;break;case 2:o=l.RG8;break;case 3:o=l.RGB8;break;case 4:o=l.RGBA8}}}else{switch(e){case 1:case 2:case 3:i=l.RGB,o=l.RGB,a=3;break;case 4:i=l.RGBA,o=l.RGBA,a=4}switch(t){case"float16":n=f.OES_texture_half_float.HALF_FLOAT_OES;break;case"uint8":n=l.UNSIGNED_BYTE}}if(void 0===n||void 0===i||void 0===o)throw new Error("Invalid type: "+t+" or numChannels "+e+".");if(void 0===a||e<1||e>4)throw new Error("Invalid numChannels: "+e+".");return{glFormat:i,glInternalFormat:o,glType:n,glNumChannels:a}},e.prototype.initDataLayer=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=1);var o=this.gl,a=this.errorCallback,s=t.data,l=t.width,u=t.height,f=t.type,c=t.numChannels;if(s&&s.length!==l*u*c)throw new Error("Invalid data array of size "+s.length+" for DataLayer "+e+" of dimensions "+l+" x "+u+" x "+c+".");var d=this.glTextureParameters(c,f,r),h=d.glFormat,v=d.glInternalFormat,g=d.glNumChannels,m=d.glType,p=s;if(s&&c!==g){var b=l*u,y=void 0;switch(f){case"uint8":y=new Uint8Array(l*u*g);break;default:throw new Error("Error initing "+e+".  Unsupported type "+f+" for GPGPU.initDataLayer.")}for(var _=0;_<b;_++)for(var T=0;T<c;T++)y[g*_+T]=s[_*c+T];p=y}return new i.DataLayer(e,o,{width:l,height:u,glInternalFormat:v,glFormat:h,glType:m,data:p},a,n,r)},e.prototype.onResize=function(e){var t=this.gl,r=e.clientWidth,n=e.clientHeight;t.viewport(0,0,r,n),e.width=r,e.height=n,this.width=r,this.height=n},e.prototype._step=function(e,t,r){var n=this.gl;if(e.program){n.useProgram(e.program);for(var i=0;i<t.length;i++)n.activeTexture(n.TEXTURE0+i),n.bindTexture(n.TEXTURE_2D,t[i].getCurrentStateTexture());if(r){if(1===r.numBuffers&&t.indexOf(r)>-1)throw new Error("\n\t\t\t\t\tCannot use same buffer for input and output of a program.\n\t\t\t\t\tTry increasing the number of buffers in your output layer to at least 2 so you\n\t\t\t\t\tcan render to nextState using currentState as an input.");r.setAsRenderTarget()}else n.bindFramebuffer(n.FRAMEBUFFER,null);var o=n.getAttribLocation(e.program,"aPosition");n.vertexAttribPointer(o,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(o)}},e.prototype.step=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,o=n.errorState,a=n.quadPositionsBuffer;o||(e.setUniform("u_scale",[1,1],"FLOAT"),e.setUniform("u_translation",[0,0],"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,a),this._step(e,t,r),i.drawArrays(i.TRIANGLE_STRIP,0,4))},e.prototype.stepBoundary=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,o=n.errorState,a=n.boundaryPositionsBuffer,s=n.width,l=n.height;if(!o){var u=[1/s,1/l];e.setUniform("u_scale",[1-u[0],1-u[1]],"FLOAT"),e.setUniform("u_translation",u,"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,a),this._step(e,t,r),i.drawArrays(i.LINE_LOOP,0,4)}},e.prototype.stepNonBoundary=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,o=n.errorState,a=n.quadPositionsBuffer,s=n.width,l=n.height;if(!o){var u=[1/s,1/l];e.setUniform("u_scale",[1-2*u[0],1-2*u[1]],"FLOAT"),e.setUniform("u_translation",u,"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,a),this._step(e,t,r),i.drawArrays(i.TRIANGLE_STRIP,0,4)}},e.prototype.stepCircle=function(e,t,r,n,i){void 0===n&&(n=[]);var o=this,a=o.gl,s=o.errorState,l=o.circlePositionsBuffer,u=o.width,f=o.height;s||(e.setUniform("u_scale",[r/u,r/f],"FLOAT"),e.setUniform("u_translation",[2*t[0]/u-1,-2*t[1]/f+1],"FLOAT"),a.bindBuffer(a.ARRAY_BUFFER,l),this._step(e,n,i),a.drawArrays(a.TRIANGLE_FAN,0,22))},e.prototype.reset=function(){},e}();t.GPGPU=d},389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPUProgram=void 0;var n=r(647),i=r(989),o=function(){function e(e,t,r,n,o,a){var s=this;this.uniforms={},this.shaders=[],this.name=e,this.gl=t,this.errorCallback=r;var l=t.createProgram();if(l){var u=i.compileShader(t,r,o,t.FRAGMENT_SHADER);u?(this.shaders.push(u),t.attachShader(l,n),t.attachShader(l,u),t.linkProgram(l),t.getProgramParameter(l,t.LINK_STATUS)?(this.program=l,null==a||a.forEach((function(e){var t=e.name,r=e.value,n=e.dataType;s.setUniform(t,r,n)}))):r("Program "+e+" failed to link: "+t.getProgramInfoLog(l))):r("Unable to compile fragment shader for program "+e+".")}else r("Unable to init gl program: "+e+".")}return e.prototype.uniformTypeForValue=function(e,t){if(t===n.FLOAT_TYPE){if(!isNaN(e)||1===e.length)return n.FLOAT_1D_UNIFORM;if(2===e.length)return n.FLOAT_2D_UNIFORM;if(3===e.length)return n.FLOAT_3D_UNIFORM;if(4===e.length)return n.FLOAT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}if(t===n.INT_TYPE){if(!isNaN(e)||1===e.length)return n.INT_1D_UNIFORM;if(2===e.length)return n.INT_2D_UNIFORM;if(3===e.length)return n.INT_3D_UNIFORM;if(4===e.length)return n.INT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}throw new Error("Invalid uniform data type: "+t)},e.prototype.setUniform=function(e,t,r){var i=this,o=i.gl,a=i.errorCallback,s=i.program,l=i.uniforms;if(s){o.useProgram(s);var u=this.uniformTypeForValue(t,r);if(!l[e]){var f=o.getUniformLocation(s,e);if(!f)return void a("Could not init uniform "+e+".\nCheck that uniform is present in shader code, unused uniforms may be removed by compiler.\nAlso check that uniform type in shader code matches type "+u+".\nError code: "+o.getError()+".");l[e]={location:f,type:u}}var c=l[e];if(c.type!=u)throw new Error("Uniform "+e+" cannot change from type "+c.type+" to type "+u+".");var d=c.location;switch(u){case n.FLOAT_1D_UNIFORM:o.uniform1f(d,t);break;case n.FLOAT_2D_UNIFORM:o.uniform2fv(d,t);break;case n.FLOAT_3D_UNIFORM:o.uniform3fv(d,t);break;case n.FLOAT_4D_UNIFORM:o.uniform4fv(d,t);break;case n.INT_1D_UNIFORM:o.uniform1i(d,t);break;case n.INT_2D_UNIFORM:o.uniform2iv(d,t);break;case n.INT_3D_UNIFORM:o.uniform3iv(d,t);break;case n.INT_4D_UNIFORM:o.uniform4iv(d,t);break;default:throw new Error("Unknown uniform type: "+u+".")}}else a("Program not inited.")},e.prototype.destroy=function(){var e=this,t=e.gl,r=e.program,n=e.shaders;r&&t.deleteProgram(r);for(var i=0;i<n.length;i++)t.deleteShader(n[i]);n.length=0,delete this.gl,delete this.program},e}();t.GPUProgram=o},647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INT_TYPE=t.FLOAT_TYPE=t.INT_4D_UNIFORM=t.INT_3D_UNIFORM=t.INT_2D_UNIFORM=t.INT_1D_UNIFORM=t.FLOAT_4D_UNIFORM=t.FLOAT_3D_UNIFORM=t.FLOAT_2D_UNIFORM=t.FLOAT_1D_UNIFORM=void 0,t.FLOAT_1D_UNIFORM="1f",t.FLOAT_2D_UNIFORM="2f",t.FLOAT_3D_UNIFORM="3f",t.FLOAT_4D_UNIFORM="3f",t.INT_1D_UNIFORM="1i",t.INT_2D_UNIFORM="2i",t.INT_3D_UNIFORM="3i",t.INT_4D_UNIFORM="3i",t.FLOAT_TYPE="FLOAT",t.INT_TYPE="INT"},561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleColorFragShader=t.GPGPU=void 0;var n=r(576);Object.defineProperty(t,"GPGPU",{enumerable:!0,get:function(){return n.GPGPU}});var i=r(929);t.SingleColorFragShader=i.default},416:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nattribute vec2 aPosition;\n\nuniform vec2 u_scale;\nuniform vec2 u_translation;\n\nvarying vec2 vUV_local;\nvarying vec2 vUV;\n\nvoid main() {\n\t// Calculate UV coordinates of current rendered object.\n\tvUV_local = 0.5 * (aPosition + 1.0);\n\t// Apply transformations.\n\tvec2 position = u_scale * aPosition + u_translation;\n\t// Calculate a global uv for the viewport.\n\tvUV = 0.5 * (position + 1.0);\n\t// Calculate vertex position.\n\tgl_Position = vec4(position, 0, 1);\n}\n"},929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nuniform vec3 u_color;\n\nvoid main() {\n\tgl_FragColor = vec4(u_color, 1);\n}"},989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileShader=void 0,t.compileShader=function(e,t,r,n){var i=e.createShader(n);return i?(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(t("Could not compile "+(n===e.FRAGMENT_SHADER?"fragment":"vertex")+"\n\t\t\t shader: "+e.getShaderInfoLog(i)),null)):(t("Unable to init gl shader."),null)}},950:e=>{e.exports="precision mediump float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\n\nvoid main() {\n\tvec2 currentState = texture2D(u_state, vUV).xy;\n\t// Add external force to current px.\n\tgl_FragColor = vec4(currentState, -5.0, 0);\n}"},539:e=>{e.exports="precision mediump float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\n\nvoid main() {\n\tfloat position = texture2D(u_state, vUV).r / 20.0 + 0.5;\n\tif (position > 1.0) position = 1.0;\n\tif (position < 0.0) position = 0.0;\n\n\tif (position < 0.5){\n\t\tposition *= 2.0;\n\t\t//position = 0 -> blue\n\t\t//position = 1 -> magenta\n\t\tgl_FragColor = vec4((255.0*position)/255.0,(179.0*(1.0-position))/255.0,(150.0-54.0*position)/255.0,1.0);\n\t} else {\n\t\tposition -= 0.5;\n\t\tposition *= 2.0;\n\t\t//position = 0 -> magenta\n\t\t//position = 1 -> white\n\t\tgl_FragColor = vec4((255.0-(10.0*position))/255.0,(223.0*position)/255.0,(106.0+(67.0*position))/255.0,1.0);\n\t}\n}"},942:e=>{e.exports="precision mediump float;\n\n#define K 2.0\n#define D 1.0\n#define DT 1.0\n#define MASS 10.0\n\nvarying vec2 vUV;\nuniform sampler2D u_state; // position, velocity, externalForces = r, g, b\nuniform vec2 u_pxSize;\n\nvoid main() {\n\n\tvec3 currentState = texture2D(u_state, vUV).xyz;\n\tfloat currentPosition = currentState.x;\n\tfloat currentVelocity = currentState.y;\n\tfloat fTotal = currentState.z;\n\n\t// Get interactions with N, S, E, W neighbors.\n\tfor (int i = -1; i <= 1; i += 2) {\n\t\tfor (int j = -1; j <= 1; j += 2) {\n\t\t\t// Calculate uv coordinate of neighbor px.\n\t\t\tvec2 neighborUV = vUV + vec2(u_pxSize.x * float(i), u_pxSize.y * float(j));\n\t\t\t// Apply spring damper constraint.\n\t\t\tvec2 neighborState = texture2D(u_state, neighborUV).xy;\n\t\t\tfloat deltaP =  neighborState.x - currentPosition;\n\t\t\tfloat deltaV = neighborState.y - currentVelocity;\n\t\t\tfTotal += K * deltaP + D * deltaV;\n\t\t}\n\t}\n\n\tfloat acceleration = fTotal / MASS;\n\tfloat velocity = acceleration * DT + currentVelocity;\n\tfloat position = velocity * DT + currentPosition;\n\n\tgl_FragColor = vec4(position, velocity, 0, 0);\n}"}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL21pY3JvbW9kYWwvZGlzdC9taWNyb21vZGFsLmVzLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L0RhdGFMYXllci5qcyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3QvR1BHUFUuanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L0dQVVByb2dyYW0uanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2tlcm5lbHMvRGVmYXVsdFZlcnRleFNoYWRlci5qcyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3Qva2VybmVscy9TaW5nbGVDb2xvckZyYWdTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L3V0aWxzLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMva2VybmVscy9JbnRlcmFjdGlvblNoYWRlci5nbHNsIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMva2VybmVscy9SZW5kZXJTaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vc3JjL2tlcm5lbHMvU2ltU2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmcm9tIiwiX2l0ZXJhYmxlVG9BcnJheSIsIm8iLCJtaW5MZW4iLCJuIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwibGVuIiwiYXJyMiIsIkZPQ1VTQUJMRV9FTEVNRU5UUyIsIk1vZGFsIiwiYWN0aXZlTW9kYWwiLCJ2YWxpZGF0ZU1vZGFsUHJlc2VuY2UiLCJ2YWxpZGF0ZUFyZ3MiLCJNaWNyb01vZGFsIiwiX3JlZiIsInRhcmdldE1vZGFsIiwiX3JlZiR0cmlnZ2VycyIsInRyaWdnZXJzIiwiX3JlZiRvblNob3ciLCJvblNob3ciLCJfcmVmJG9uQ2xvc2UiLCJvbkNsb3NlIiwiX3JlZiRvcGVuVHJpZ2dlciIsIm9wZW5UcmlnZ2VyIiwiX3JlZiRjbG9zZVRyaWdnZXIiLCJjbG9zZVRyaWdnZXIiLCJfcmVmJG9wZW5DbGFzcyIsIm9wZW5DbGFzcyIsIl9yZWYkZGlzYWJsZVNjcm9sbCIsImRpc2FibGVTY3JvbGwiLCJfcmVmJGRpc2FibGVGb2N1cyIsImRpc2FibGVGb2N1cyIsIl9yZWYkYXdhaXRDbG9zZUFuaW1hdCIsImF3YWl0Q2xvc2VBbmltYXRpb24iLCJfcmVmJGF3YWl0T3BlbkFuaW1hdGkiLCJhd2FpdE9wZW5BbmltYXRpb24iLCJfcmVmJGRlYnVnTW9kZSIsImRlYnVnTW9kZSIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwibW9kYWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29uZmlnIiwicmVnaXN0ZXJUcmlnZ2VycyIsImFwcGx5Iiwib25DbGljayIsImJpbmQiLCJvbktleWRvd24iLCJwcm90b1Byb3BzIiwidmFsdWUiLCJfdGhpcyIsIl9sZW4iLCJhcmd1bWVudHMiLCJfa2V5IiwiZmlsdGVyIiwiQm9vbGVhbiIsImZvckVhY2giLCJ0cmlnZ2VyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwic2hvd01vZGFsIiwiX3RoaXMyIiwidW5kZWZpbmVkIiwiYWN0aXZlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFkZCIsInNjcm9sbEJlaGF2aW91ciIsImFkZEV2ZW50TGlzdGVuZXJzIiwiaGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRGb2N1c1RvRmlyc3ROb2RlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJmb2N1cyIsInJlbW92ZSIsImNsb3NlTW9kYWwiLCJ0b2dnbGUiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsImFzc2lnbiIsInN0eWxlIiwib3ZlcmZsb3ciLCJoYXNBdHRyaWJ1dGUiLCJrZXlDb2RlIiwicmV0YWluRm9jdXMiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdGhpczMiLCJmb2N1c2FibGVOb2RlcyIsImdldEZvY3VzYWJsZU5vZGVzIiwibm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cyIsIm5vZGUiLCJvZmZzZXRQYXJlbnQiLCJjb250YWlucyIsImZvY3VzZWRJdGVtSW5kZXgiLCJpbmRleE9mIiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImlkIiwiY29uc29sZSIsIndhcm4iLCJjb25jYXQiLCJ0cmlnZ2VyTWFwIiwidmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UiLCJpbml0Iiwib3B0aW9ucyIsInRyaWdnZXJBdHRyIiwiYXR0cmlidXRlcyIsInB1c2giLCJnZW5lcmF0ZVRyaWdnZXJNYXAiLCJzaG93IiwiY2xvc2UiLCJjbG9zZU1vZGFsQnlJZCIsIndpbmRvdyIsInNpbVNoYWRlclNvdXJjZSIsInJlbmRlclNoYWRlclNvdXJjZSIsImludGVyYWN0aW9uU2hhZGVyU291cmNlIiwiY2FudmFzIiwiZ3BncHUiLCJHUEdQVSIsIm1lc3NhZ2UiLCJlcnJvckVsIiwiaW5uZXJIVE1MIiwiY292ZXJJbWciLCJkaXNwbGF5Iiwic2ltIiwiaW5pdFByb2dyYW0iLCJkYXRhVHlwZSIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicmVuZGVyIiwiaW50ZXJhY3Rpb24iLCJzdGF0ZSIsImluaXREYXRhTGF5ZXIiLCJ3aWR0aCIsImhlaWdodCIsInR5cGUiLCJudW1DaGFubmVscyIsImRpc2FibGVab29tIiwiZSIsInNjYWxlIiwid2Via2l0VHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJvblJlc2l6ZSIsInJlc2l6ZSIsInNldFVuaWZvcm0iLCJzdGVwQ2lyY2xlIiwiY2xpZW50WCIsImNsaWVudFkiLCJ0b3VjaGVzIiwidG91Y2giLCJwYWdlWCIsInBhZ2VZIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic3RlcCIsInN0ZXBOb25Cb3VuZGFyeSIsImV4cG9ydHMiLCJEYXRhTGF5ZXIiLCJnbCIsImVycm9yQ2FsbGJhY2siLCJudW1CdWZmZXJzIiwiYnVmZmVySW5kZXgiLCJidWZmZXJzIiwiRXJyb3IiLCJnbEludGVybmFsRm9ybWF0IiwiZ2xGb3JtYXQiLCJnbFR5cGUiLCJpbml0QnVmZmVycyIsImRhdGEiLCJfYSIsInRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwiZ2V0RXJyb3IiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9XUkFQX1MiLCJDTEFNUF9UT19FREdFIiwiVEVYVFVSRV9XUkFQX1QiLCJORUFSRVNUIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwidGV4SW1hZ2UyRCIsImJ1ZmZlciIsImZyYW1lYnVmZmVyIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJzdGF0dXNfMSIsImNoZWNrRnJhbWVidWZmZXJTdGF0dXMiLCJGUkFNRUJVRkZFUl9DT01QTEVURSIsImdldEN1cnJlbnRTdGF0ZVRleHR1cmUiLCJnZXRMYXN0U3RhdGVUZXh0dXJlIiwic2V0QXNSZW5kZXJUYXJnZXQiLCJkZXN0cm95QnVmZmVycyIsImRlbGV0ZVRleHR1cmUiLCJkZWxldGVGcmFtZWJ1ZmZlciIsImRlc3Ryb3kiLCJEZWZhdWx0VmVydGV4U2hhZGVyXzEiLCJEYXRhTGF5ZXJfMSIsIkdQVVByb2dyYW1fMSIsInV0aWxzXzEiLCJmc1F1YWRQb3NpdGlvbnMiLCJGbG9hdDMyQXJyYXkiLCJib3VuZGFyeVBvc2l0aW9ucyIsInVuaXRDaXJjbGVQb2ludHMiLCJNYXRoIiwiY29zIiwiUEkiLCJzaW4iLCJjaXJjbGVQb3NpdGlvbnMiLCJjYW52YXNFbCIsImV4dGVuc2lvbnMiLCJlcnJvclN0YXRlIiwic2hhZGVycyIsInNlbGYiLCJnZXRDb250ZXh0IiwiYW50aWFsaWFzIiwiaXNXZWJHTDIiLCJIQUxGX0ZMT0FUIiwibG9nIiwibG9hZEV4dGVuc2lvbiIsImxpbmVhckZpbHRlckVuYWJsZWQiLCJkaXNhYmxlIiwiREVQVEhfVEVTVCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX0FMSUdOTUVOVCIsImRlZmF1bHRWZXJ0ZXhTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiZGVmYXVsdCIsIlZFUlRFWF9TSEFERVIiLCJxdWFkUG9zaXRpb25zQnVmZmVyIiwiaW5pdFZlcnRleEJ1ZmZlciIsImJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyIiwiY2lyY2xlUG9zaXRpb25zQnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIm1heFRleHR1cmVzSW5GcmFnbWVudFNoYWRlciIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiY3JlYXRlQnVmZmVyIiwiYnVmZmVyRGF0YSIsIlNUQVRJQ19EUkFXIiwiZXh0ZW5zaW9uIiwib3B0aW9uYWwiLCJleHQiLCJnZXRFeHRlbnNpb24iLCJmcmFnbWVudFNoYWRlclNvdXJjZSIsInVuaWZvcm1zIiwiR1BVUHJvZ3JhbSIsImdsVGV4dHVyZVBhcmFtZXRlcnMiLCJnbE51bUNoYW5uZWxzIiwiUkVEIiwiUkciLCJSR0IiLCJSR0JBIiwiUjE2RiIsIlJHMTZGIiwiUkdCMTZGIiwiUkdCQTE2RiIsIlVOU0lHTkVEX0JZVEUiLCJSOCIsIlJHOCIsIlJHQjgiLCJSR0JBOCIsIkhBTEZfRkxPQVRfT0VTIiwiX2IiLCJkYXRhUmVzaXplZCIsImltYWdlU2l6ZSIsIm5ld0FycmF5IiwiVWludDhBcnJheSIsImoiLCJ2aWV3cG9ydCIsIl9zdGVwIiwicHJvZ3JhbSIsImlucHV0TGF5ZXJzIiwib3V0cHV0TGF5ZXIiLCJ1c2VQcm9ncmFtIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwicG9zaXRpb25Mb2NhdGlvbiIsImdldEF0dHJpYkxvY2F0aW9uIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJzdGVwQm91bmRhcnkiLCJvbmVQeCIsIkxJTkVfTE9PUCIsInBvc2l0aW9uIiwicmFkaXVzIiwiVFJJQU5HTEVfRkFOIiwiTlVNX1NFR01FTlRTX0NJUkNMRSIsInJlc2V0IiwiY29uc3RhbnRzXzEiLCJ2ZXJ0ZXhTaGFkZXIiLCJjcmVhdGVQcm9ncmFtIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsInVuaWZvcm0iLCJnZXRQcm9ncmFtSW5mb0xvZyIsInVuaWZvcm1UeXBlRm9yVmFsdWUiLCJGTE9BVF9UWVBFIiwiaXNOYU4iLCJGTE9BVF8xRF9VTklGT1JNIiwiRkxPQVRfMkRfVU5JRk9STSIsIkZMT0FUXzNEX1VOSUZPUk0iLCJGTE9BVF80RF9VTklGT1JNIiwiSU5UX1RZUEUiLCJJTlRfMURfVU5JRk9STSIsIklOVF8yRF9VTklGT1JNIiwiSU5UXzNEX1VOSUZPUk0iLCJJTlRfNERfVU5JRk9STSIsInVuaWZvcm1OYW1lIiwibG9jYXRpb25fMSIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImxvY2F0aW9uIiwidW5pZm9ybTFmIiwidW5pZm9ybTJmdiIsInVuaWZvcm0zZnYiLCJ1bmlmb3JtNGZ2IiwidW5pZm9ybTFpIiwidW5pZm9ybTJpdiIsInVuaWZvcm0zaXYiLCJ1bmlmb3JtNGl2IiwiZGVsZXRlUHJvZ3JhbSIsImRlbGV0ZVNoYWRlciIsIlNpbmdsZUNvbG9yRnJhZ1NoYWRlciIsIkdQR1BVXzEiLCJnZXQiLCJTaW5nbGVDb2xvckZyYWdTaGFkZXJfMSIsInNoYWRlclNvdXJjZSIsInNoYWRlclR5cGUiLCJzaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJyIiwidG9TdHJpbmdUYWciXSwibWFwcGluZ3MiOiJ3Q0FNQSxTQUFTQSxFQUFrQkMsRUFBUUMsR0FDakMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FDckMsSUFBSUUsRUFBYUgsRUFBTUMsR0FDdkJFLEVBQVdDLFdBQWFELEVBQVdDLGFBQWMsRUFDakRELEVBQVdFLGNBQWUsRUFDdEIsVUFBV0YsSUFBWUEsRUFBV0csVUFBVyxHQUNqREMsT0FBT0MsZUFBZVQsRUFBUUksRUFBV00sSUFBS04sSUFVbEQsU0FBU08sRUFBbUJDLEdBQzFCLE9BR0YsU0FBNEJBLEdBQzFCLEdBQUlDLE1BQU1DLFFBQVFGLEdBQU0sT0FBT0csRUFBa0JILEdBSjFDSSxDQUFtQkosSUFPNUIsU0FBMEJLLEdBQ3hCLEdBQXNCLG9CQUFYQyxRQUEwQkEsT0FBT0MsWUFBWVgsT0FBT1MsR0FBTyxPQUFPSixNQUFNTyxLQUFLSCxHQVJ0REksQ0FBaUJULElBV3JELFNBQXFDVSxFQUFHQyxHQUN0QyxHQUFLRCxFQUFMLENBQ0EsR0FBaUIsaUJBQU5BLEVBQWdCLE9BQU9QLEVBQWtCTyxFQUFHQyxHQUN2RCxJQUFJQyxFQUFJaEIsT0FBT2lCLFVBQVVDLFNBQVNDLEtBQUtMLEdBQUdNLE1BQU0sR0FBSSxHQUVwRCxNQURVLFdBQU5KLEdBQWtCRixFQUFFTyxjQUFhTCxFQUFJRixFQUFFTyxZQUFZQyxNQUM3QyxRQUFOTixHQUFxQixRQUFOQSxFQUFvQlgsTUFBTU8sS0FBS0ksR0FDeEMsY0FBTkEsR0FBcUIsMkNBQTJDTyxLQUFLUCxHQUFXVCxFQUFrQk8s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Z0JBTXhDSCxHQUhIckwsRUFBYyxzQkFBd0JvTCxJQUFlckwsRUFBRytJLGdCQUFrQixXQUFhLFVBQVksb0JBQXNCL0ksRUFBRzBMLGlCQUFpQkosSUFDdEksUUFaUHJMLEVBQWMsNkJBQ1AsUSxRQ1RmMEwsRUFBTzdMLFFBQVUsMk8sUUNBakI2TCxFQUFPN0wsUUFBVSxnckIsUUNBakI2TCxFQUFPN0wsUUFBVSwrbkNDQ2I4TCxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVaE0sUUFHM0MsSUFBSTZMLEVBQVNDLEVBQXlCRSxHQUFZLENBR2pEaE0sUUFBUyxJQU9WLE9BSEFpTSxFQUFvQkQsR0FBVUgsRUFBUUEsRUFBTzdMLFFBQVMrTCxHQUcvQ0YsRUFBTzdMLFFDbkJmK0wsRUFBb0JHLEVBQUksQ0FBQ2xNLEVBQVNtTSxLQUNqQyxJQUFJLElBQUl0WCxLQUFPc1gsRUFDWEosRUFBb0J0VyxFQUFFMFcsRUFBWXRYLEtBQVNrWCxFQUFvQnRXLEVBQUV1SyxFQUFTbkwsSUFDNUVGLE9BQU9DLGVBQWVvTCxFQUFTbkwsRUFBSyxDQUFFTCxZQUFZLEVBQU00VyxJQUFLZSxFQUFXdFgsTUNKM0VrWCxFQUFvQnRXLEVBQUksQ0FBQzJXLEVBQUtDLElBQVMxWCxPQUFPaUIsVUFBVTBXLGVBQWV4VyxLQUFLc1csRUFBS0MsR0NDakZOLEVBQW9CUSxFQUFLdk0sSUFDSCxvQkFBWDNLLFFBQTBCQSxPQUFPbVgsYUFDMUM3WCxPQUFPQyxlQUFlb0wsRUFBUzNLLE9BQU9tWCxZQUFhLENBQUVwVCxNQUFPLFdBRTdEekUsT0FBT0MsZUFBZW9MLEVBQVMsYUFBYyxDQUFFNUcsT0FBTyxLQ0h2RDJTLEVBQW9CLE0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obik7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG52YXIgTWljcm9Nb2RhbCA9IGZ1bmN0aW9uICgpIHtcblxuICB2YXIgRk9DVVNBQkxFX0VMRU1FTlRTID0gWydhW2hyZWZdJywgJ2FyZWFbaHJlZl0nLCAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pOm5vdChbdHlwZT1cImhpZGRlblwiXSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pJywgJ3RleHRhcmVhOm5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnaWZyYW1lJywgJ29iamVjdCcsICdlbWJlZCcsICdbY29udGVudGVkaXRhYmxlXScsICdbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXhePVwiLVwiXSknXTtcblxuICB2YXIgTW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGFsKF9yZWYpIHtcbiAgICAgIHZhciB0YXJnZXRNb2RhbCA9IF9yZWYudGFyZ2V0TW9kYWwsXG4gICAgICAgICAgX3JlZiR0cmlnZ2VycyA9IF9yZWYudHJpZ2dlcnMsXG4gICAgICAgICAgdHJpZ2dlcnMgPSBfcmVmJHRyaWdnZXJzID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkdHJpZ2dlcnMsXG4gICAgICAgICAgX3JlZiRvblNob3cgPSBfcmVmLm9uU2hvdyxcbiAgICAgICAgICBvblNob3cgPSBfcmVmJG9uU2hvdyA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkge30gOiBfcmVmJG9uU2hvdyxcbiAgICAgICAgICBfcmVmJG9uQ2xvc2UgPSBfcmVmLm9uQ2xvc2UsXG4gICAgICAgICAgb25DbG9zZSA9IF9yZWYkb25DbG9zZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkge30gOiBfcmVmJG9uQ2xvc2UsXG4gICAgICAgICAgX3JlZiRvcGVuVHJpZ2dlciA9IF9yZWYub3BlblRyaWdnZXIsXG4gICAgICAgICAgb3BlblRyaWdnZXIgPSBfcmVmJG9wZW5UcmlnZ2VyID09PSB2b2lkIDAgPyAnZGF0YS1taWNyb21vZGFsLXRyaWdnZXInIDogX3JlZiRvcGVuVHJpZ2dlcixcbiAgICAgICAgICBfcmVmJGNsb3NlVHJpZ2dlciA9IF9yZWYuY2xvc2VUcmlnZ2VyLFxuICAgICAgICAgIGNsb3NlVHJpZ2dlciA9IF9yZWYkY2xvc2VUcmlnZ2VyID09PSB2b2lkIDAgPyAnZGF0YS1taWNyb21vZGFsLWNsb3NlJyA6IF9yZWYkY2xvc2VUcmlnZ2VyLFxuICAgICAgICAgIF9yZWYkb3BlbkNsYXNzID0gX3JlZi5vcGVuQ2xhc3MsXG4gICAgICAgICAgb3BlbkNsYXNzID0gX3JlZiRvcGVuQ2xhc3MgPT09IHZvaWQgMCA/ICdpcy1vcGVuJyA6IF9yZWYkb3BlbkNsYXNzLFxuICAgICAgICAgIF9yZWYkZGlzYWJsZVNjcm9sbCA9IF9yZWYuZGlzYWJsZVNjcm9sbCxcbiAgICAgICAgICBkaXNhYmxlU2Nyb2xsID0gX3JlZiRkaXNhYmxlU2Nyb2xsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZGlzYWJsZVNjcm9sbCxcbiAgICAgICAgICBfcmVmJGRpc2FibGVGb2N1cyA9IF9yZWYuZGlzYWJsZUZvY3VzLFxuICAgICAgICAgIGRpc2FibGVGb2N1cyA9IF9yZWYkZGlzYWJsZUZvY3VzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZGlzYWJsZUZvY3VzLFxuICAgICAgICAgIF9yZWYkYXdhaXRDbG9zZUFuaW1hdCA9IF9yZWYuYXdhaXRDbG9zZUFuaW1hdGlvbixcbiAgICAgICAgICBhd2FpdENsb3NlQW5pbWF0aW9uID0gX3JlZiRhd2FpdENsb3NlQW5pbWF0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkYXdhaXRDbG9zZUFuaW1hdCxcbiAgICAgICAgICBfcmVmJGF3YWl0T3BlbkFuaW1hdGkgPSBfcmVmLmF3YWl0T3BlbkFuaW1hdGlvbixcbiAgICAgICAgICBhd2FpdE9wZW5BbmltYXRpb24gPSBfcmVmJGF3YWl0T3BlbkFuaW1hdGkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRhd2FpdE9wZW5BbmltYXRpLFxuICAgICAgICAgIF9yZWYkZGVidWdNb2RlID0gX3JlZi5kZWJ1Z01vZGUsXG4gICAgICAgICAgZGVidWdNb2RlID0gX3JlZiRkZWJ1Z01vZGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRkZWJ1Z01vZGU7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNb2RhbCk7XG5cbiAgICAgIC8vIFNhdmUgYSByZWZlcmVuY2Ugb2YgdGhlIG1vZGFsXG4gICAgICB0aGlzLm1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0TW9kYWwpOyAvLyBTYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXNzZWQgY29uZmlnXG5cbiAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICBkZWJ1Z01vZGU6IGRlYnVnTW9kZSxcbiAgICAgICAgZGlzYWJsZVNjcm9sbDogZGlzYWJsZVNjcm9sbCxcbiAgICAgICAgb3BlblRyaWdnZXI6IG9wZW5UcmlnZ2VyLFxuICAgICAgICBjbG9zZVRyaWdnZXI6IGNsb3NlVHJpZ2dlcixcbiAgICAgICAgb3BlbkNsYXNzOiBvcGVuQ2xhc3MsXG4gICAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgICBvbkNsb3NlOiBvbkNsb3NlLFxuICAgICAgICBhd2FpdENsb3NlQW5pbWF0aW9uOiBhd2FpdENsb3NlQW5pbWF0aW9uLFxuICAgICAgICBhd2FpdE9wZW5BbmltYXRpb246IGF3YWl0T3BlbkFuaW1hdGlvbixcbiAgICAgICAgZGlzYWJsZUZvY3VzOiBkaXNhYmxlRm9jdXNcbiAgICAgIH07IC8vIFJlZ2lzdGVyIGNsaWNrIGV2ZW50cyBvbmx5IGlmIHByZSBiaW5kaW5nIGV2ZW50TGlzdGVuZXJzXG5cbiAgICAgIGlmICh0cmlnZ2Vycy5sZW5ndGggPiAwKSB0aGlzLnJlZ2lzdGVyVHJpZ2dlcnMuYXBwbHkodGhpcywgX3RvQ29uc3VtYWJsZUFycmF5KHRyaWdnZXJzKSk7IC8vIHByZSBiaW5kIGZ1bmN0aW9ucyBmb3IgZXZlbnQgbGlzdGVuZXJzXG5cbiAgICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5vbktleWRvd24gPSB0aGlzLm9uS2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb29wcyB0aHJvdWdoIGFsbCBvcGVuVHJpZ2dlcnMgYW5kIGJpbmRzIGNsaWNrIGV2ZW50XG4gICAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJzIFtBcnJheSBvZiBub2RlIGVsZW1lbnRzXVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhNb2RhbCwgW3tcbiAgICAgIGtleTogXCJyZWdpc3RlclRyaWdnZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJUcmlnZ2VycygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdHJpZ2dlcnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgdHJpZ2dlcnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICB0cmlnZ2Vycy5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zaG93TW9kYWwoZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2hvd01vZGFsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd01vZGFsKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG4gICAgICAgIHRoaXMuYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMubW9kYWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgICAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcub3BlbkNsYXNzKTtcbiAgICAgICAgdGhpcy5zY3JvbGxCZWhhdmlvdXIoJ2Rpc2FibGUnKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hd2FpdE9wZW5BbmltYXRpb24pIHtcbiAgICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICBfdGhpczIubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuXG4gICAgICAgICAgICBfdGhpczIuc2V0Rm9jdXNUb0ZpcnN0Tm9kZSgpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldEZvY3VzVG9GaXJzdE5vZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uZmlnLm9uU2hvdyh0aGlzLm1vZGFsLCB0aGlzLmFjdGl2ZUVsZW1lbnQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VNb2RhbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7XG4gICAgICAgIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgdmFyIG1vZGFsID0gdGhpcy5tb2RhbDtcbiAgICAgICAgdGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnNjcm9sbEJlaGF2aW91cignZW5hYmxlJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlRWxlbWVudCAmJiB0aGlzLmFjdGl2ZUVsZW1lbnQuZm9jdXMpIHtcbiAgICAgICAgICB0aGlzLmFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uZmlnLm9uQ2xvc2UodGhpcy5tb2RhbCwgdGhpcy5hY3RpdmVFbGVtZW50LCBldmVudCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF3YWl0Q2xvc2VBbmltYXRpb24pIHtcbiAgICAgICAgICB2YXIgb3BlbkNsYXNzID0gdGhpcy5jb25maWcub3BlbkNsYXNzOyAvLyA8LSBvbGQgc2Nob29sIGZ0d1xuXG4gICAgICAgICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShvcGVuQ2xhc3MpO1xuICAgICAgICAgICAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLm9wZW5DbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2xvc2VNb2RhbEJ5SWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZU1vZGFsQnlJZCh0YXJnZXRNb2RhbCkge1xuICAgICAgICB0aGlzLm1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0TW9kYWwpO1xuICAgICAgICBpZiAodGhpcy5tb2RhbCkgdGhpcy5jbG9zZU1vZGFsKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNjcm9sbEJlaGF2aW91clwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbEJlaGF2aW91cih0b2dnbGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5kaXNhYmxlU2Nyb2xsKSByZXR1cm47XG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gICAgICAgIHN3aXRjaCAodG9nZ2xlKSB7XG4gICAgICAgICAgY2FzZSAnZW5hYmxlJzpcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYm9keS5zdHlsZSwge1xuICAgICAgICAgICAgICBvdmVyZmxvdzogJydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdkaXNhYmxlJzpcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYm9keS5zdHlsZSwge1xuICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRkRXZlbnRMaXN0ZW5lcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5ZG93bik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbW92ZUV2ZW50TGlzdGVuZXJzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25DbGljayk7XG4gICAgICAgIHRoaXMubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleWRvd24pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvbkNsaWNrXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lmhhc0F0dHJpYnV0ZSh0aGlzLmNvbmZpZy5jbG9zZVRyaWdnZXIpKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvbktleWRvd25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbktleWRvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDI3KSB0aGlzLmNsb3NlTW9kYWwoZXZlbnQpOyAvLyBlc2NcblxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gOSkgdGhpcy5yZXRhaW5Gb2N1cyhldmVudCk7IC8vIHRhYlxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRGb2N1c2FibGVOb2Rlc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZvY3VzYWJsZU5vZGVzKCkge1xuICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoRk9DVVNBQkxFX0VMRU1FTlRTKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KG5vZGVzKSk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRyaWVzIHRvIHNldCBmb2N1cyBvbiBhIG5vZGUgd2hpY2ggaXMgbm90IGEgY2xvc2UgdHJpZ2dlclxuICAgICAgICogaWYgbm8gb3RoZXIgbm9kZXMgZXhpc3QgdGhlbiBmb2N1c2VzIG9uIGZpcnN0IGNsb3NlIHRyaWdnZXJcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiBcInNldEZvY3VzVG9GaXJzdE5vZGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGb2N1c1RvRmlyc3ROb2RlKCkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuZGlzYWJsZUZvY3VzKSByZXR1cm47XG4gICAgICAgIHZhciBmb2N1c2FibGVOb2RlcyA9IHRoaXMuZ2V0Rm9jdXNhYmxlTm9kZXMoKTsgLy8gbm8gZm9jdXNhYmxlIG5vZGVzXG5cbiAgICAgICAgaWYgKGZvY3VzYWJsZU5vZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvLyByZW1vdmUgbm9kZXMgb24gd2hvc2UgY2xpY2ssIHRoZSBtb2RhbCBjbG9zZXNcbiAgICAgICAgLy8gY291bGQgbm90IHRoaW5rIG9mIGEgYmV0dGVyIG5hbWUgOihcblxuICAgICAgICB2YXIgbm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cyA9IGZvY3VzYWJsZU5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiAhbm9kZS5oYXNBdHRyaWJ1dGUoX3RoaXMzLmNvbmZpZy5jbG9zZVRyaWdnZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5vZGVzV2hpY2hBcmVOb3RDbG9zZVRhcmdldHMubGVuZ3RoID4gMCkgbm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0c1swXS5mb2N1cygpO1xuICAgICAgICBpZiAobm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cy5sZW5ndGggPT09IDApIGZvY3VzYWJsZU5vZGVzWzBdLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJldGFpbkZvY3VzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmV0YWluRm9jdXMoZXZlbnQpIHtcbiAgICAgICAgdmFyIGZvY3VzYWJsZU5vZGVzID0gdGhpcy5nZXRGb2N1c2FibGVOb2RlcygpOyAvLyBubyBmb2N1c2FibGUgbm9kZXNcblxuICAgICAgICBpZiAoZm9jdXNhYmxlTm9kZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaWx0ZXJzIG5vZGVzIHdoaWNoIGFyZSBoaWRkZW4gdG8gcHJldmVudFxuICAgICAgICAgKiBmb2N1cyBsZWFrIG91dHNpZGUgbW9kYWxcbiAgICAgICAgICovXG5cbiAgICAgICAgZm9jdXNhYmxlTm9kZXMgPSBmb2N1c2FibGVOb2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5vZmZzZXRQYXJlbnQgIT09IG51bGw7XG4gICAgICAgIH0pOyAvLyBpZiBkaXNhYmxlRm9jdXMgaXMgdHJ1ZVxuXG4gICAgICAgIGlmICghdGhpcy5tb2RhbC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgIGZvY3VzYWJsZU5vZGVzWzBdLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGZvY3VzZWRJdGVtSW5kZXggPSBmb2N1c2FibGVOb2Rlcy5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIGZvY3VzZWRJdGVtSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIGZvY3VzYWJsZU5vZGVzW2ZvY3VzYWJsZU5vZGVzLmxlbmd0aCAtIDFdLmZvY3VzKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZXZlbnQuc2hpZnRLZXkgJiYgZm9jdXNhYmxlTm9kZXMubGVuZ3RoID4gMCAmJiBmb2N1c2VkSXRlbUluZGV4ID09PSBmb2N1c2FibGVOb2Rlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBmb2N1c2FibGVOb2Rlc1swXS5mb2N1cygpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTW9kYWw7XG4gIH0oKTtcbiAgLyoqXG4gICAqIE1vZGFsIHByb3RvdHlwZSBlbmRzLlxuICAgKiBIZXJlIG9uIGNvZGUgaXMgcmVzcG9uc2libGUgZm9yIGRldGVjdGluZyBhbmRcbiAgICogYXV0byBiaW5kaW5nIGV2ZW50IGhhbmRsZXJzIG9uIG1vZGFsIHRyaWdnZXJzXG4gICAqL1xuICAvLyBLZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBvcGVuZWQgbW9kYWxcblxuXG4gIHZhciBhY3RpdmVNb2RhbCA9IG51bGw7XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYW4gYXNzb2NpYXRpdmUgYXJyYXkgb2YgbW9kYWxzIGFuZCBpdCdzXG4gICAqIHJlc3BlY3RpdmUgdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJzICAgICBBbiBhcnJheSBvZiBhbGwgdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0cmlnZ2VyQXR0ciBUaGUgZGF0YS1hdHRyaWJ1dGUgd2hpY2ggdHJpZ2dlcnMgdGhlIG1vZHVsZVxuICAgKiBAcmV0dXJuIHthcnJheX1cbiAgICovXG5cbiAgdmFyIGdlbmVyYXRlVHJpZ2dlck1hcCA9IGZ1bmN0aW9uIGdlbmVyYXRlVHJpZ2dlck1hcCh0cmlnZ2VycywgdHJpZ2dlckF0dHIpIHtcbiAgICB2YXIgdHJpZ2dlck1hcCA9IFtdO1xuICAgIHRyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgIHZhciB0YXJnZXRNb2RhbCA9IHRyaWdnZXIuYXR0cmlidXRlc1t0cmlnZ2VyQXR0cl0udmFsdWU7XG4gICAgICBpZiAodHJpZ2dlck1hcFt0YXJnZXRNb2RhbF0gPT09IHVuZGVmaW5lZCkgdHJpZ2dlck1hcFt0YXJnZXRNb2RhbF0gPSBbXTtcbiAgICAgIHRyaWdnZXJNYXBbdGFyZ2V0TW9kYWxdLnB1c2godHJpZ2dlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRyaWdnZXJNYXA7XG4gIH07XG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgd2hldGhlciBhIG1vZGFsIG9mIHRoZSBnaXZlbiBpZCBleGlzdHNcbiAgICogaW4gdGhlIERPTVxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGlkICBUaGUgaWQgb2YgdGhlIG1vZGFsXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIHZhbGlkYXRlTW9kYWxQcmVzZW5jZSA9IGZ1bmN0aW9uIHZhbGlkYXRlTW9kYWxQcmVzZW5jZShpZCkge1xuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJNaWNyb01vZGFsOiBcXHUyNzU3U2VlbXMgbGlrZSB5b3UgaGF2ZSBtaXNzZWQgJWMnXCIuY29uY2F0KGlkLCBcIidcIiksICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsICdJRCBzb21ld2hlcmUgaW4geW91ciBjb2RlLiBSZWZlciBleGFtcGxlIGJlbG93IHRvIHJlc29sdmUgaXQuJyk7XG4gICAgICBjb25zb2xlLndhcm4oXCIlY0V4YW1wbGU6XCIsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsIFwiPGRpdiBjbGFzcz1cXFwibW9kYWxcXFwiIGlkPVxcXCJcIi5jb25jYXQoaWQsIFwiXFxcIj48L2Rpdj5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBpZiB0aGVyZSBhcmUgbW9kYWwgdHJpZ2dlcnMgcHJlc2VudFxuICAgKiBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VycyBBbiBhcnJheSBvZiBkYXRhLXRyaWdnZXJzXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIHZhbGlkYXRlVHJpZ2dlclByZXNlbmNlID0gZnVuY3Rpb24gdmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UodHJpZ2dlcnMpIHtcbiAgICBpZiAodHJpZ2dlcnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk1pY3JvTW9kYWw6IFxcdTI3NTdQbGVhc2Ugc3BlY2lmeSBhdCBsZWFzdCBvbmUgJWMnbWljcm9tb2RhbC10cmlnZ2VyJ1wiLCAnYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtjb2xvcjogIzUwNTk2Yztmb250LXdlaWdodDogYm9sZDsnLCAnZGF0YSBhdHRyaWJ1dGUuJyk7XG4gICAgICBjb25zb2xlLndhcm4oXCIlY0V4YW1wbGU6XCIsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsIFwiPGEgaHJlZj1cXFwiI1xcXCIgZGF0YS1taWNyb21vZGFsLXRyaWdnZXI9XFxcIm15LW1vZGFsXFxcIj48L2E+XCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0cmlnZ2VycyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBtb2RhbHNcbiAgICogYXJlIHByZXNlbnQgaW4gdGhlIERPTVxuICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlcnMgICBBcnJheSBvZiBET00gbm9kZXMgd2hpY2ggaGF2ZSBkYXRhLXRyaWdnZXJzXG4gICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VyTWFwIEFzc29jaWF0aXZlIGFycmF5IG9mIG1vZGFscyBhbmQgdGhlaXIgdHJpZ2dlcnNcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICB2YXIgdmFsaWRhdGVBcmdzID0gZnVuY3Rpb24gdmFsaWRhdGVBcmdzKHRyaWdnZXJzLCB0cmlnZ2VyTWFwKSB7XG4gICAgdmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UodHJpZ2dlcnMpO1xuICAgIGlmICghdHJpZ2dlck1hcCkgcmV0dXJuIHRydWU7XG5cbiAgICBmb3IgKHZhciBpZCBpbiB0cmlnZ2VyTWFwKSB7XG4gICAgICB2YWxpZGF0ZU1vZGFsUHJlc2VuY2UoaWQpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICogQmluZHMgY2xpY2sgaGFuZGxlcnMgdG8gYWxsIG1vZGFsIHRyaWdnZXJzXG4gICAqIEBwYXJhbSAge29iamVjdH0gY29uZmlnIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuXG5cbiAgdmFyIGluaXQgPSBmdW5jdGlvbiBpbml0KGNvbmZpZykge1xuICAgIC8vIENyZWF0ZSBhbiBjb25maWcgb2JqZWN0IHdpdGggZGVmYXVsdCBvcGVuVHJpZ2dlclxuICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgb3BlblRyaWdnZXI6ICdkYXRhLW1pY3JvbW9kYWwtdHJpZ2dlcidcbiAgICB9LCBjb25maWcpOyAvLyBDb2xsZWN0cyBhbGwgdGhlIG5vZGVzIHdpdGggdGhlIHRyaWdnZXJcblxuICAgIHZhciB0cmlnZ2VycyA9IF90b0NvbnN1bWFibGVBcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiLmNvbmNhdChvcHRpb25zLm9wZW5UcmlnZ2VyLCBcIl1cIikpKTsgLy8gTWFrZXMgYSBtYXBwaW5ncyBvZiBtb2RhbHMgd2l0aCB0aGVpciB0cmlnZ2VyIG5vZGVzXG5cblxuICAgIHZhciB0cmlnZ2VyTWFwID0gZ2VuZXJhdGVUcmlnZ2VyTWFwKHRyaWdnZXJzLCBvcHRpb25zLm9wZW5UcmlnZ2VyKTsgLy8gQ2hlY2tzIGlmIG1vZGFscyBhbmQgdHJpZ2dlcnMgZXhpc3QgaW4gZG9tXG5cbiAgICBpZiAob3B0aW9ucy5kZWJ1Z01vZGUgPT09IHRydWUgJiYgdmFsaWRhdGVBcmdzKHRyaWdnZXJzLCB0cmlnZ2VyTWFwKSA9PT0gZmFsc2UpIHJldHVybjsgLy8gRm9yIGV2ZXJ5IHRhcmdldCBtb2RhbCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlXG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdHJpZ2dlck1hcCkge1xuICAgICAgdmFyIHZhbHVlID0gdHJpZ2dlck1hcFtrZXldO1xuICAgICAgb3B0aW9ucy50YXJnZXRNb2RhbCA9IGtleTtcbiAgICAgIG9wdGlvbnMudHJpZ2dlcnMgPSBfdG9Db25zdW1hYmxlQXJyYXkodmFsdWUpO1xuICAgICAgYWN0aXZlTW9kYWwgPSBuZXcgTW9kYWwob3B0aW9ucyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogU2hvd3MgYSBwYXJ0aWN1bGFyIG1vZGFsXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGFyZ2V0TW9kYWwgW1RoZSBpZCBvZiB0aGUgbW9kYWwgdG8gZGlzcGxheV1cbiAgICogQHBhcmFtICB7b2JqZWN0fSBjb25maWcgW1RoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0byBwYXNzXVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cblxuXG4gIHZhciBzaG93ID0gZnVuY3Rpb24gc2hvdyh0YXJnZXRNb2RhbCwgY29uZmlnKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBjb25maWcgfHwge307XG4gICAgb3B0aW9ucy50YXJnZXRNb2RhbCA9IHRhcmdldE1vZGFsOyAvLyBDaGVja3MgaWYgbW9kYWxzIGFuZCB0cmlnZ2VycyBleGlzdCBpbiBkb21cblxuICAgIGlmIChvcHRpb25zLmRlYnVnTW9kZSA9PT0gdHJ1ZSAmJiB2YWxpZGF0ZU1vZGFsUHJlc2VuY2UodGFyZ2V0TW9kYWwpID09PSBmYWxzZSkgcmV0dXJuOyAvLyBjbGVhciBldmVudHMgaW4gY2FzZSBwcmV2aW91cyBtb2RhbCB3YXNuJ3QgY2xvc2VcblxuICAgIGlmIChhY3RpdmVNb2RhbCkgYWN0aXZlTW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTsgLy8gc3RvcmVzIHJlZmVyZW5jZSB0byBhY3RpdmUgbW9kYWxcblxuICAgIGFjdGl2ZU1vZGFsID0gbmV3IE1vZGFsKG9wdGlvbnMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuXG4gICAgYWN0aXZlTW9kYWwuc2hvd01vZGFsKCk7XG4gIH07XG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIGFjdGl2ZSBtb2RhbFxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRhcmdldE1vZGFsIFtUaGUgaWQgb2YgdGhlIG1vZGFsIHRvIGNsb3NlXVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cblxuXG4gIHZhciBjbG9zZSA9IGZ1bmN0aW9uIGNsb3NlKHRhcmdldE1vZGFsKSB7XG4gICAgdGFyZ2V0TW9kYWwgPyBhY3RpdmVNb2RhbC5jbG9zZU1vZGFsQnlJZCh0YXJnZXRNb2RhbCkgOiBhY3RpdmVNb2RhbC5jbG9zZU1vZGFsKCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0OiBpbml0LFxuICAgIHNob3c6IHNob3csXG4gICAgY2xvc2U6IGNsb3NlXG4gIH07XG59KCk7XG53aW5kb3cuTWljcm9Nb2RhbCA9IE1pY3JvTW9kYWw7XG5cbmV4cG9ydCBkZWZhdWx0IE1pY3JvTW9kYWw7XG4iLCJpbXBvcnQgeyBHUEdQVSB9IGZyb20gJ3dlYmdsLWdwZ3B1JztcbmltcG9ydCBNaWNyb01vZGFsIGZyb20gJ21pY3JvbW9kYWwnO1xuY29uc3Qgc2ltU2hhZGVyU291cmNlID0gcmVxdWlyZSgnLi9rZXJuZWxzL1NpbVNoYWRlci5nbHNsJyk7XG5jb25zdCByZW5kZXJTaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvUmVuZGVyU2hhZGVyLmdsc2wnKTtcbmNvbnN0IGludGVyYWN0aW9uU2hhZGVyU291cmNlID0gcmVxdWlyZSgnLi9rZXJuZWxzL0ludGVyYWN0aW9uU2hhZGVyLmdsc2wnKTtcblxuLy8gSW5pdCBoZWxwIG1vZGFsLlxuTWljcm9Nb2RhbC5pbml0KCk7XG5cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbGNhbnZhcycpICBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmNvbnN0IGdwZ3B1ID0gbmV3IEdQR1BVKG51bGwsIGNhbnZhcywgKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuXHQvLyBTaG93IGVycm9yIG1vZGFsLlxuXHRNaWNyb01vZGFsLnNob3coJ21vZGFsLTInKTtcblx0Y29uc3QgZXJyb3JFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbEVycm9yTXNnJyk7XG5cdGlmIChlcnJvckVsKSBlcnJvckVsLmlubmVySFRNTCA9YEVycm9yOiAke21lc3NhZ2V9YDtcblx0Y29uc3QgY292ZXJJbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY292ZXJJbWcnKTtcblx0aWYgKGNvdmVySW1nKSBjb3ZlckltZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn0pO1xuXG4vLyBJbml0IHByb2dyYW1zLlxuY29uc3Qgc2ltID0gZ3BncHUuaW5pdFByb2dyYW0oJ3NpbScsIHNpbVNoYWRlclNvdXJjZSwgW1xuXHR7XG5cdFx0bmFtZTogJ3Vfc3RhdGUnLFxuXHRcdHZhbHVlOiAwLFxuXHRcdGRhdGFUeXBlOiAnSU5UJyxcblx0fSxcblx0e1xuXHRcdG5hbWU6ICd1X3B4U2l6ZScsXG5cdFx0dmFsdWU6IFsxIC8gY2FudmFzLmNsaWVudFdpZHRoLCAxIC8gY2FudmFzLmNsaWVudEhlaWdodF0sXG5cdFx0ZGF0YVR5cGU6ICdGTE9BVCcsXG5cdH0sXG5dKTtcbmNvbnN0IHJlbmRlciA9IGdwZ3B1LmluaXRQcm9ncmFtKCdyZW5kZXInLCByZW5kZXJTaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X3N0YXRlJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5dKTtcbmNvbnN0IGludGVyYWN0aW9uID0gZ3BncHUuaW5pdFByb2dyYW0oJ2ludGVyYWN0aW9uJywgaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X3N0YXRlJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5dKTtcblxuLy8gSW5pdCBzdGF0ZS5cbmNvbnN0IHN0YXRlID0gZ3BncHUuaW5pdERhdGFMYXllcignc3RhdGUnLCB7XG5cdHdpZHRoOiBjYW52YXMuY2xpZW50V2lkdGgsXG5cdGhlaWdodDogY2FudmFzLmNsaWVudEhlaWdodCxcblx0dHlwZTogJ2Zsb2F0MTYnLFxuXHRudW1DaGFubmVsczogMyxcbn0sIHRydWUsIDIpO1xuXG4vLyBTZXQgdXAgaW50ZXJhY3Rpb25zLlxuY29uc3QgVE9VQ0hfUkFESVVTID0gMTA7XG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGU6IE1vdXNlRXZlbnQpID0+IHtcblx0Z3BncHUuc3RlcENpcmNsZShpbnRlcmFjdGlvbiwgW2UuY2xpZW50WCwgZS5jbGllbnRZXSwgVE9VQ0hfUkFESVVTLCBbc3RhdGVdLCBzdGF0ZSk7XG59KTtcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZTogVG91Y2hFdmVudCkgPT4ge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZS50b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgdG91Y2ggPSBlLnRvdWNoZXNbaV07XG5cdFx0Z3BncHUuc3RlcENpcmNsZShpbnRlcmFjdGlvbiwgW3RvdWNoLnBhZ2VYLCB0b3VjaC5wYWdlWV0sIFRPVUNIX1JBRElVUywgW3N0YXRlXSwgc3RhdGUpO1xuXHR9XG59KTtcbi8vIERpc2FibGUgb3RoZXIgZ2VzdHVyZXMuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBkaXNhYmxlWm9vbSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlY2hhbmdlJywgZGlzYWJsZVpvb20pOyBcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVlbmQnLCBkaXNhYmxlWm9vbSk7XG5mdW5jdGlvbiBkaXNhYmxlWm9vbShlOiBFdmVudCkge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGNvbnN0IHNjYWxlID0gJ3NjYWxlKDEpJztcblx0Ly8gQHRzLWlnbm9yZVxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICBzY2FsZTsgICAgLy8gQ2hyb21lLCBPcGVyYSwgU2FmYXJpXG5cdC8vIEB0cy1pZ25vcmVcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybSA9ICAgc2NhbGU7ICAgICAgIC8vIElFIDlcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSBzY2FsZTtcbn1cblxuLy8gQWRkIHJlc2l6ZSBsaXN0ZW5lci5cbm9uUmVzaXplKCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpO1xuZnVuY3Rpb24gb25SZXNpemUoKSB7XG5cdC8vIFJlLWluaXQgdGV4dHVyZXMgYXQgbmV3IHNpemUuXG5cdGNvbnN0IHdpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoO1xuXHRjb25zdCBoZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuXHRzdGF0ZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG5cdHNpbS5zZXRVbmlmb3JtKCd1X3B4U2l6ZScsIFsxIC8gd2lkdGgsIDEgLyBoZWlnaHRdLCAnRkxPQVQnKTtcblx0Z3BncHUub25SZXNpemUoY2FudmFzKTtcbn1cblxuLy8gU3RhcnQgcmVuZGVyIGxvb3AuXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuZnVuY3Rpb24gc3RlcCgpIHtcblx0Ly8gQ29tcHV0ZSBzaW11bGF0aW9uLlxuXHQvLyBPbnkgc3RlcCB0aGUgaW50ZXJpb3IgcHgsIHdlIGNhbiBsZWF2ZSB0aGUgYm91bmRhcnkgc3RhdGljIGF0IHplcm8uXG5cdGdwZ3B1LnN0ZXBOb25Cb3VuZGFyeShzaW0sIFtzdGF0ZV0sIHN0YXRlKTtcblx0Ly8gUmVuZGVyIGN1cnJlbnQgc3RhdGUuXG5cdGdwZ3B1LnN0ZXAocmVuZGVyLCBbc3RhdGVdKTtcblx0Ly8gU3RhcnQgYSBuZXcgcmVuZGVyIGN5Y2xlLlxuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xufSIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EYXRhTGF5ZXIgPSB2b2lkIDA7XG52YXIgRGF0YUxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGFMYXllcihuYW1lLCBnbCwgb3B0aW9ucywgZXJyb3JDYWxsYmFjaywgbnVtQnVmZmVycywgd3JpdGFibGUpIHtcbiAgICAgICAgdGhpcy5idWZmZXJJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtdO1xuICAgICAgICAvLyBTYXZlIHBhcmFtcy5cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrO1xuICAgICAgICBpZiAobnVtQnVmZmVycyA8IDAgfHwgbnVtQnVmZmVycyAlIDEgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtQnVmZmVyczogXCIgKyBudW1CdWZmZXJzICsgXCIgZm9yIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiLCBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubnVtQnVmZmVycyA9IG51bUJ1ZmZlcnM7XG4gICAgICAgIC8vIFNhdmUgb3B0aW9ucy5cbiAgICAgICAgdGhpcy53aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuZ2xJbnRlcm5hbEZvcm1hdCA9IG9wdGlvbnMuZ2xJbnRlcm5hbEZvcm1hdDtcbiAgICAgICAgdGhpcy5nbEZvcm1hdCA9IG9wdGlvbnMuZ2xGb3JtYXQ7XG4gICAgICAgIHRoaXMuZ2xUeXBlID0gb3B0aW9ucy5nbFR5cGU7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSB3cml0YWJsZTtcbiAgICAgICAgdGhpcy5pbml0QnVmZmVycyhvcHRpb25zLmRhdGEpO1xuICAgIH1cbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgbnVtQnVmZmVycyA9IF9hLm51bUJ1ZmZlcnMsIGdsID0gX2EuZ2wsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgZ2xJbnRlcm5hbEZvcm1hdCA9IF9hLmdsSW50ZXJuYWxGb3JtYXQsIGdsRm9ybWF0ID0gX2EuZ2xGb3JtYXQsIGdsVHlwZSA9IF9hLmdsVHlwZSwgd3JpdGFibGUgPSBfYS53cml0YWJsZSwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIC8vIEluaXQgYSB0ZXh0dXJlIGZvciBlYWNoIGJ1ZmZlci5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1CdWZmZXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IHRleHR1cmUgZm9yIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBkaWcgaW50byB0aGlzLlxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBnbC5ORUFSRVNUOyAvL3RoaXMubGluZWFyRmlsdGVyRW5hYmxlZCA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1Q7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZmlsdGVyKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBmaWx0ZXIpO1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbEludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCBnbEZvcm1hdCwgZ2xUeXBlLCBkYXRhID8gZGF0YSA6IG51bGwpO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiB0ZXh0dXJlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh3cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIC8vIEluaXQgYSBmcmFtZWJ1ZmZlciBmb3IgdGhpcyB0ZXh0dXJlIHNvIHdlIGNhbiB3cml0ZSB0byBpdC5cbiAgICAgICAgICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IGZyYW1lYnVmZmVyIGZvciBEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIjogXCIgKyBnbC5nZXRFcnJvcigpICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvZnJhbWVidWZmZXJUZXh0dXJlMkRcbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUsIDApO1xuICAgICAgICAgICAgICAgIHZhciBzdGF0dXNfMSA9IGdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNfMSAhPSBnbC5GUkFNRUJVRkZFUl9DT01QTEVURSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiSW52YWxpZCBzdGF0dXMgZm9yIGZyYW1lYnVmZmVyIGZvciBEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIjogXCIgKyBzdGF0dXNfMSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIGZyYW1lYnVmZmVyLlxuICAgICAgICAgICAgICAgIGJ1ZmZlci5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIGJ1ZmZlciB0byB0aGUgbGlzdC5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERhdGFMYXllci5wcm90b3R5cGUuZ2V0Q3VycmVudFN0YXRlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmJ1ZmZlckluZGV4XS50ZXh0dXJlO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5nZXRMYXN0U3RhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5udW1CdWZmZXJzID09PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYWxsaW5nIGdldExhc3RTdGF0ZSBvbiBEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIiB3aXRoIDEgYnVmZmVyLCBubyBsYXN0IHN0YXRlIGF2YWlsYWJsZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmJ1ZmZlckluZGV4XS50ZXh0dXJlO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5zZXRBc1JlbmRlclRhcmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgLy8gSW5jcmVtZW50IGJ1ZmZlckluZGV4LlxuICAgICAgICB0aGlzLmJ1ZmZlckluZGV4ID0gKCsrdGhpcy5idWZmZXJJbmRleCkgJSB0aGlzLm51bUJ1ZmZlcnM7XG4gICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IHRoaXMuYnVmZmVyc1t0aGlzLmJ1ZmZlckluZGV4XS5mcmFtZWJ1ZmZlcjtcbiAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0YUxheWVyIFwiICsgdGhpcy5uYW1lICsgXCIgaXMgbm90IHdyaXRhYmxlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcbiAgICB9O1xuICAgIERhdGFMYXllci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95QnVmZmVycygpO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKGRhdGEpO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5kZXN0cm95QnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgYnVmZmVycyA9IF9hLmJ1ZmZlcnM7XG4gICAgICAgIGJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSBidWZmZXIuZnJhbWVidWZmZXIsIHRleHR1cmUgPSBidWZmZXIudGV4dHVyZTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlO1xuICAgICAgICAgICAgZGVsZXRlIGJ1ZmZlci50ZXh0dXJlO1xuICAgICAgICAgICAgZGVsZXRlIGJ1ZmZlci5mcmFtZWJ1ZmZlcjtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1ZmZlcnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIERhdGFMYXllci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95QnVmZmVycygpO1xuICAgICAgICAvLyBAdHMtaWdub3JlO1xuICAgICAgICBkZWxldGUgdGhpcy5nbDtcbiAgICB9O1xuICAgIHJldHVybiBEYXRhTGF5ZXI7XG59KCkpO1xuZXhwb3J0cy5EYXRhTGF5ZXIgPSBEYXRhTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EYXRhTGF5ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdQR1BVID0gdm9pZCAwO1xudmFyIERlZmF1bHRWZXJ0ZXhTaGFkZXJfMSA9IHJlcXVpcmUoXCIuL2tlcm5lbHMvRGVmYXVsdFZlcnRleFNoYWRlclwiKTtcbnZhciBEYXRhTGF5ZXJfMSA9IHJlcXVpcmUoXCIuL0RhdGFMYXllclwiKTtcbnZhciBHUFVQcm9ncmFtXzEgPSByZXF1aXJlKFwiLi9HUFVQcm9ncmFtXCIpO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBmc1F1YWRQb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAtMSwgMSwgMSwgMV0pO1xudmFyIGJvdW5kYXJ5UG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShbLTEsIC0xLCAxLCAtMSwgMSwgMSwgLTEsIDFdKTtcbnZhciB1bml0Q2lyY2xlUG9pbnRzID0gWzAsIDBdO1xudmFyIE5VTV9TRUdNRU5UU19DSVJDTEUgPSAyMDtcbmZvciAodmFyIGkgPSAwOyBpIDw9IE5VTV9TRUdNRU5UU19DSVJDTEU7IGkrKykge1xuICAgIHVuaXRDaXJjbGVQb2ludHMucHVzaChNYXRoLmNvcygyICogTWF0aC5QSSAqIGkgLyBOVU1fU0VHTUVOVFNfQ0lSQ0xFKSwgTWF0aC5zaW4oMiAqIE1hdGguUEkgKiBpIC8gTlVNX1NFR01FTlRTX0NJUkNMRSkpO1xufVxudmFyIGNpcmNsZVBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkodW5pdENpcmNsZVBvaW50cyk7XG4vLyBTdG9yZSBleHRlbnNpb24gbmFtZXMgYXMgY29uc3RhbnRzLlxudmFyIE9FU19URVhUVVJFX0hBTEZfRkxPQVQgPSAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdCc7XG52YXIgT0VTX1RFWFRVUkVfSEFsRl9GTE9BVF9MSU5FQVIgPSAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInO1xudmFyIEVYVF9DT0xPUl9CVUZGRVJfRkxPQVQgPSAnRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCc7XG52YXIgR1BHUFUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR1BHUFUoZ2wsIGNhbnZhc0VsLCBcbiAgICAvLyBPcHRpb25hbGx5IHBhc3MgaW4gYW4gZXJyb3IgY2FsbGJhY2sgaW4gY2FzZSB3ZSB3YW50IHRvIGhhbmRsZSBlcnJvcnMgcmVsYXRlZCB0byB3ZWJnbCBzdXBwb3J0LlxuICAgIC8vIGUuZy4gdGhyb3cgdXAgYSBtb2RhbCB0ZWxsaW5nIHVzZXIgdGhpcyB3aWxsIG5vdCB3b3JrIG9uIHRoZWlyIGRldmljZS5cbiAgICBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChlcnJvckNhbGxiYWNrID09PSB2b2lkIDApIHsgZXJyb3JDYWxsYmFjayA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7IHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTsgfTsgfVxuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5lcnJvclN0YXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2hhZGVycyA9IFtdOyAvLyBLZWVwIHRyYWNrIG9mIGFsbCBzaGFkZXJzIGluaXRlZCBzbyB0aGV5IGNhbiBiZSBwcm9wZXJseSBkZWFsbG9jYXRlZC5cbiAgICAgICAgLy8gU2F2ZSBjYWxsYmFjayBpbiBjYXNlIHdlIHJ1biBpbnRvIGFuIGVycm9yLlxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5lcnJvclN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5lcnJvclN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKVxuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2sobWVzc2FnZSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEluaXQgR0wuXG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIC8vIEluaXQgYSBnbCBjb250ZXh0IGlmIG5vdCBwYXNzZWQgaW4uXG4gICAgICAgICAgICBnbCA9IGNhbnZhc0VsLmdldENvbnRleHQoJ3dlYmdsMicsIHsgYW50aWFsaWFzOiBmYWxzZSB9KVxuICAgICAgICAgICAgICAgIHx8IGNhbnZhc0VsLmdldENvbnRleHQoJ3dlYmdsJywgeyBhbnRpYWxpYXM6IGZhbHNlIH0pO1xuICAgICAgICAgICAgLy8gfHwgY2FudmFzRWwuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywge2FudGlhbGlhczpmYWxzZX0pIGFzIFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgICAgICAgICBpZiAoZ2wgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBpbml0aWFsaXplIFdlYkdMIGNvbnRleHQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNXZWJHTDIgPSAhIWdsLkhBTEZfRkxPQVQ7XG4gICAgICAgIGlmICh0aGlzLmlzV2ViR0wyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgV2ViR0wgMi4wIGNvbnRleHQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgV2ViR0wgMS4wIGNvbnRleHQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICAvLyBHTCBzZXR1cC5cbiAgICAgICAgLy8gTG9hZCBleHRlbnNpb25zLlxuICAgICAgICAvLyBUT0RPOiBsb2FkIHRoZXNlIGV4dGVuc2lvbnMgYXMgbmVlZGVkLlxuICAgICAgICBpZiAodGhpcy5pc1dlYkdMMikge1xuICAgICAgICAgICAgLy8gRVhUX0NPTE9SX0JVRkZFUl9GTE9BVCBhZGRzIGFiaWxpdHkgdG8gcmVuZGVyIHRvIGEgdmFyaWV0eSBvZiBmbG9hdGluZyBwdCB0ZXh0dXJlcy5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FWFRfY29sb3JfYnVmZmVyX2Zsb2F0XG4gICAgICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNDI2MjQ5My9mcmFtZWJ1ZmZlci1pbmNvbXBsZXRlLWF0dGFjaG1lbnQtZm9yLXRleHR1cmUtd2l0aC1pbnRlcm5hbC1mb3JtYXRcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM2MTA5MzQ3L2ZyYW1lYnVmZmVyLWluY29tcGxldGUtYXR0YWNobWVudC1vbmx5LWhhcHBlbnMtb24tYW5kcm9pZC13LWZpcmVmb3hcbiAgICAgICAgICAgIHRoaXMubG9hZEV4dGVuc2lvbihFWFRfQ09MT1JfQlVGRkVSX0ZMT0FUKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9PRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XG4gICAgICAgICAgICAvLyBIYWxmIGZsb2F0IGlzIHN1cHBvcnRlZCBieSBtb2Rlcm4gbW9iaWxlIGJyb3dzZXJzLCBmbG9hdCBub3QgeWV0IHN1cHBvcnRlZC5cbiAgICAgICAgICAgIC8vIEhhbGYgZmxvYXQgaXMgcHJvdmlkZWQgYnkgZGVmYXVsdCBmb3IgV2ViZ2wyIGNvbnRleHRzLlxuICAgICAgICAgICAgLy8gVGhpcyBleHRlbnNpb24gaW1wbGljaXRseSBlbmFibGVzIHRoZSBFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQgZXh0ZW5zaW9uIChpZiBzdXBwb3J0ZWQpLCB3aGljaCBhbGxvd3MgcmVuZGVyaW5nIHRvIDE2LWJpdCBmbG9hdGluZyBwb2ludCBmb3JtYXRzLlxuICAgICAgICAgICAgdGhpcy5sb2FkRXh0ZW5zaW9uKE9FU19URVhUVVJFX0hBTEZfRkxPQVQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExvYWQgb3B0aW9uYWwgZXh0ZW5zaW9ucy5cbiAgICAgICAgLy8gVE9ETzogbmVlZCB0aGlzIGZvciB3ZWJnbDI/XG4gICAgICAgIHRoaXMubGluZWFyRmlsdGVyRW5hYmxlZCA9IHRoaXMubG9hZEV4dGVuc2lvbihPRVNfVEVYVFVSRV9IQWxGX0ZMT0FUX0xJTkVBUiwgdHJ1ZSk7XG4gICAgICAgIC8vIERpc2FibGUgZGVwdGggdGVzdGluZyBnbG9iYWxseS5cbiAgICAgICAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgLy8gU2V0IHVucGFjayBhbGlnbm1lbnQgdG8gMSBzbyB3ZSBjYW4gaGF2ZSB0ZXh0dXJlcyBvZiBhcmJpdHJhcnkgZGltZW5zaW9ucy5cbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTE1ODIyODIvZXJyb3Itd2hlbi1jcmVhdGluZy10ZXh0dXJlcy1pbi13ZWJnbC13aXRoLXRoZS1yZ2ItZm9ybWF0XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19BTElHTk1FTlQsIDEpO1xuICAgICAgICAvLyBJbml0IGEgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHRoYXQganVzdCBwYXNzZXMgdGhyb3VnaCBzY3JlZW4gY29vcmRzLlxuICAgICAgICB2YXIgZGVmYXVsdFZlcnRleFNoYWRlciA9IHV0aWxzXzEuY29tcGlsZVNoYWRlcihnbCwgdGhpcy5lcnJvckNhbGxiYWNrLCBEZWZhdWx0VmVydGV4U2hhZGVyXzEuZGVmYXVsdCwgZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgICAgIGlmICghZGVmYXVsdFZlcnRleFNoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBmdWxsc2NyZWVuIHF1YWQgdmVydGV4IHNoYWRlci4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmF1bHRWZXJ0ZXhTaGFkZXIgPSBkZWZhdWx0VmVydGV4U2hhZGVyO1xuICAgICAgICAvLyBDcmVhdGUgdmVydGV4IGJ1ZmZlcnMuXG4gICAgICAgIHRoaXMucXVhZFBvc2l0aW9uc0J1ZmZlciA9IHRoaXMuaW5pdFZlcnRleEJ1ZmZlcihmc1F1YWRQb3NpdGlvbnMpO1xuICAgICAgICB0aGlzLmJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyID0gdGhpcy5pbml0VmVydGV4QnVmZmVyKGJvdW5kYXJ5UG9zaXRpb25zKTtcbiAgICAgICAgdGhpcy5jaXJjbGVQb3NpdGlvbnNCdWZmZXIgPSB0aGlzLmluaXRWZXJ0ZXhCdWZmZXIoY2lyY2xlUG9zaXRpb25zKTtcbiAgICAgICAgLy8gVW5iaW5kIGFjdGl2ZSBidWZmZXIuXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICAgICAgLy8gQ2FudmFzIHNldHVwLlxuICAgICAgICB0aGlzLm9uUmVzaXplKGNhbnZhc0VsKTtcbiAgICAgICAgLy8gTG9nIG51bWJlciBvZiB0ZXh0dXJlcyBhdmFpbGFibGUuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlc0luRnJhZ21lbnRTaGFkZXIgPSB0aGlzLmdsLmdldFBhcmFtZXRlcih0aGlzLmdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcbiAgICAgICAgY29uc29sZS5sb2cobWF4VGV4dHVyZXNJbkZyYWdtZW50U2hhZGVyICsgXCIgdGV4dHVyZXMgbWF4LlwiKTtcbiAgICB9XG4gICAgR1BHUFUucHJvdG90eXBlLmluaXRWZXJ0ZXhCdWZmZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaywgZ2wgPSBfYS5nbDtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjaygnVW5hYmxlIHRvIGFsbG9jYXRlIGdsIGJ1ZmZlci4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyKTtcbiAgICAgICAgLy8gQWRkIHZlcnRleCBkYXRhIGZvciBkcmF3aW5nIGZ1bGwgc2NyZWVuIHF1YWQgdmlhIHRyaWFuZ2xlIHN0cmlwLlxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgZGF0YSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLmxvYWRFeHRlbnNpb24gPSBmdW5jdGlvbiAoZXh0ZW5zaW9uLCBvcHRpb25hbCkge1xuICAgICAgICBpZiAob3B0aW9uYWwgPT09IHZvaWQgMCkgeyBvcHRpb25hbCA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGV4dGVuc2lvbnMgPSBfYS5leHRlbnNpb25zLCBnbCA9IF9hLmdsLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgdmFyIGV4dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4dCA9IGdsLmdldEV4dGVuc2lvbihleHRlbnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25dID0gZXh0O1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgZXh0ZW5zaW9uOiBcIiArIGV4dGVuc2lvbiArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVuc3VwcG9ydGVkIFwiICsgKG9wdGlvbmFsID8gJ29wdGlvbmFsICcgOiAnJykgKyBcImV4dGVuc2lvbjogXCIgKyBleHRlbnNpb24gKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGV4dGVuc2lvbiBpcyBub3Qgb3B0aW9uYWwsIHRocm93IGVycm9yLlxuICAgICAgICBpZiAoIWV4dCAmJiAhb3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJSZXF1aXJlZCBleHRlbnNpb24gdW5zdXBwb3J0ZWQgYnkgdGhpcyBkZXZpY2UgLyBicm93c2VyOiBcIiArIGV4dGVuc2lvbiArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gISFleHQ7XG4gICAgfTtcbiAgICBHUEdQVS5wcm90b3R5cGUuaW5pdFByb2dyYW0gPSBmdW5jdGlvbiAobmFtZSwgZnJhZ21lbnRTaGFkZXJTb3VyY2UsIHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICAvLyBMb2FkIGZ1bGxzY3JlZW4gcXVhZCB2ZXJ0ZXggc2hhZGVyIGJ5IGRlZmF1bHQuXG4gICAgICAgIC8vIGNvbnN0IHZlcnRleFNoYWRlciA9IHZlcnRleFNoYWRlclNvdXJjZSA/XG4gICAgICAgIC8vIFx0dGhpcy5jb21waWxlU2hhZGVyKHZlcnRleFNoYWRlclNvdXJjZSwgZ2wuVkVSVEVYX1NIQURFUikgOlxuICAgICAgICAvLyBcdHRoaXMuZnNRdWFkVmVydGV4U2hhZGVyO1xuICAgICAgICB2YXIgdmVydGV4U2hhZGVyID0gdGhpcy5kZWZhdWx0VmVydGV4U2hhZGVyO1xuICAgICAgICByZXR1cm4gbmV3IEdQVVByb2dyYW1fMS5HUFVQcm9ncmFtKG5hbWUsIGdsLCBlcnJvckNhbGxiYWNrLCB0aGlzLmRlZmF1bHRWZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyU291cmNlLCB1bmlmb3Jtcyk7XG4gICAgfTtcbiAgICA7XG4gICAgR1BHUFUucHJvdG90eXBlLmdsVGV4dHVyZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiAobnVtQ2hhbm5lbHMsIHR5cGUsIHdyaXRhYmxlKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL3NwZWNzL2xhdGVzdC8yLjAvI1RFWFRVUkVfVFlQRVNfRk9STUFUU19GUk9NX0RPTV9FTEVNRU5UU19UQUJMRVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBpc1dlYkdMMiA9IF9hLmlzV2ViR0wyLCBleHRlbnNpb25zID0gX2EuZXh0ZW5zaW9ucztcbiAgICAgICAgdmFyIGdsVHlwZSwgZ2xGb3JtYXQsIGdsSW50ZXJuYWxGb3JtYXQsIGdsTnVtQ2hhbm5lbHM7XG4gICAgICAgIGlmIChpc1dlYkdMMikge1xuICAgICAgICAgICAgZ2xOdW1DaGFubmVscyA9IG51bUNoYW5uZWxzO1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvd2ViZ2wvZXh0ZW5zaW9ucy9FWFRfY29sb3JfYnVmZmVyX2Zsb2F0L1xuICAgICAgICAgICAgLy8gVGhlIHNpemVkIGludGVybmFsIGZvcm1hdCBSR0IxNkYgaXMgbm90IGNvbG9yLXJlbmRlcmFibGUgZm9yIHNvbWUgcmVhc29uLlxuICAgICAgICAgICAgLy8gSWYgbnVtQ2hhbm5lbHMgPT0gMyBmb3IgYSB3cml0YWJsZSB0ZXh0dXJlLCB1c2UgUkdCQSBpbnN0ZWFkLlxuICAgICAgICAgICAgaWYgKG51bUNoYW5uZWxzID09PSAzICYmIHdyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgZ2xOdW1DaGFubmVscyA9IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkVEO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0JBO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MTYnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5IQUxGX0ZMT0FUO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUjE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkcxNkY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkc4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0I4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAobnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBmb3IgcmVhZCBvbmx5IHRleHR1cmVzIGluIFdlYkdMIDEuMCwgd2UgY291bGQgdXNlIGdsLkFMUEhBIGFuZCBnbC5MVU1JTkFOQ0VfQUxQSEEgaGVyZS5cbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSAzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkdCQTtcbiAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MTYnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBleHRlbnNpb25zW09FU19URVhUVVJFX0hBTEZfRkxPQVRdLkhBTEZfRkxPQVRfT0VTO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciBtaXNzaW5nIHBhcmFtcy5cbiAgICAgICAgaWYgKGdsVHlwZSA9PT0gdW5kZWZpbmVkIHx8IGdsRm9ybWF0ID09PSB1bmRlZmluZWQgfHwgZ2xJbnRlcm5hbEZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHR5cGU6IFwiICsgdHlwZSArIFwiIG9yIG51bUNoYW5uZWxzIFwiICsgbnVtQ2hhbm5lbHMgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsTnVtQ2hhbm5lbHMgPT09IHVuZGVmaW5lZCB8fCBudW1DaGFubmVscyA8IDEgfHwgbnVtQ2hhbm5lbHMgPiA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG51bUNoYW5uZWxzOiBcIiArIG51bUNoYW5uZWxzICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnbEZvcm1hdDogZ2xGb3JtYXQsXG4gICAgICAgICAgICBnbEludGVybmFsRm9ybWF0OiBnbEludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgZ2xUeXBlOiBnbFR5cGUsXG4gICAgICAgICAgICBnbE51bUNoYW5uZWxzOiBnbE51bUNoYW5uZWxzLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLmluaXREYXRhTGF5ZXIgPSBmdW5jdGlvbiAobmFtZSwgb3B0aW9ucywgd3JpdGFibGUsIG51bUJ1ZmZlcnMpIHtcbiAgICAgICAgaWYgKHdyaXRhYmxlID09PSB2b2lkIDApIHsgd3JpdGFibGUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAobnVtQnVmZmVycyA9PT0gdm9pZCAwKSB7IG51bUJ1ZmZlcnMgPSAxOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICB2YXIgZGF0YSA9IG9wdGlvbnMuZGF0YSwgd2lkdGggPSBvcHRpb25zLndpZHRoLCBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCwgdHlwZSA9IG9wdGlvbnMudHlwZSwgbnVtQ2hhbm5lbHMgPSBvcHRpb25zLm51bUNoYW5uZWxzO1xuICAgICAgICAvLyBDaGVjayB0aGF0IGRhdGEgaXMgY29ycmVjdCBsZW5ndGguXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoICE9PSB3aWR0aCAqIGhlaWdodCAqIG51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGEgYXJyYXkgb2Ygc2l6ZSBcIiArIGRhdGEubGVuZ3RoICsgXCIgZm9yIERhdGFMYXllciBcIiArIG5hbWUgKyBcIiBvZiBkaW1lbnNpb25zIFwiICsgd2lkdGggKyBcIiB4IFwiICsgaGVpZ2h0ICsgXCIgeCBcIiArIG51bUNoYW5uZWxzICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IENoZWNrIHRoYXQgZGF0YSBpcyBjb3JyZWN0IHR5cGUuXG4gICAgICAgIC8vIGlmIChkYXRhICYmIHR5cGUgPT09ICdmbG9hdDE2Jykge1xuICAgICAgICAvLyBcdC8vIC8vIFNpbmNlIHRoZXJlIGlzIG5vIEZsb2F0MTZUeXBlZEFycmF5LCB3ZSBtdXN0IHVzIFVpbnQxNlR5cGVkQXJyYXlcbiAgICAgICAgLy8gXHQvLyBjb25zdCBmbG9hdDE2QXJyYXkgPSBuZXcgSW50MTZBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICAgIC8vIFx0Ly8gZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIFx0Ly8gfVxuICAgICAgICAvLyB9XG4gICAgICAgIC8vIEdldCB0ZXh0dXJlIHBhcmFtcy5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC90ZXhJbWFnZTJEXG4gICAgICAgIHZhciBfYiA9IHRoaXMuZ2xUZXh0dXJlUGFyYW1ldGVycyhudW1DaGFubmVscywgdHlwZSwgd3JpdGFibGUpLCBnbEZvcm1hdCA9IF9iLmdsRm9ybWF0LCBnbEludGVybmFsRm9ybWF0ID0gX2IuZ2xJbnRlcm5hbEZvcm1hdCwgZ2xOdW1DaGFubmVscyA9IF9iLmdsTnVtQ2hhbm5lbHMsIGdsVHlwZSA9IF9iLmdsVHlwZTtcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBkYXRhIGlzIGNvcnJlY3QgbGVuZ3RoLlxuICAgICAgICAvLyBUaGlzIG9ubHkgaGFwcGVucyBmb3Igd2ViZ2wgMS4wIGNvbnRleHRzLlxuICAgICAgICB2YXIgZGF0YVJlc2l6ZWQgPSBkYXRhO1xuICAgICAgICBpZiAoZGF0YSAmJiBudW1DaGFubmVscyAhPT0gZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgdmFyIGltYWdlU2l6ZSA9IHdpZHRoICogaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gdm9pZCAwO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgICAgICBuZXdBcnJheSA9IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0ICogZ2xOdW1DaGFubmVscyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGluaXRpbmcgXCIgKyBuYW1lICsgXCIuICBVbnN1cHBvcnRlZCB0eXBlIFwiICsgdHlwZSArIFwiIGZvciBHUEdQVS5pbml0RGF0YUxheWVyLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbGwgbmV3IGRhdGEgYXJyYXkgd2l0aCBvbGQgZGF0YS5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG51bUNoYW5uZWxzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3QXJyYXlbZ2xOdW1DaGFubmVscyAqIGkgKyBqXSA9IGRhdGFbaSAqIG51bUNoYW5uZWxzICsgal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YVJlc2l6ZWQgPSBuZXdBcnJheTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YUxheWVyID0gbmV3IERhdGFMYXllcl8xLkRhdGFMYXllcihuYW1lLCBnbCwge1xuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICBnbEludGVybmFsRm9ybWF0OiBnbEludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgZ2xGb3JtYXQ6IGdsRm9ybWF0LFxuICAgICAgICAgICAgZ2xUeXBlOiBnbFR5cGUsXG4gICAgICAgICAgICBkYXRhOiBkYXRhUmVzaXplZCxcbiAgICAgICAgfSwgZXJyb3JDYWxsYmFjaywgbnVtQnVmZmVycywgd3JpdGFibGUpO1xuICAgICAgICByZXR1cm4gZGF0YUxheWVyO1xuICAgIH07XG4gICAgO1xuICAgIEdQR1BVLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uIChjYW52YXNFbCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgd2lkdGggPSBjYW52YXNFbC5jbGllbnRXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGNhbnZhc0VsLmNsaWVudEhlaWdodDtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIC8vIFNldCBjb3JyZWN0IGNhbnZhcyBwaXhlbCBzaXplLlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xfQVBJL0J5X2V4YW1wbGUvQ2FudmFzX3NpemVfYW5kX1dlYkdMXG4gICAgICAgIGNhbnZhc0VsLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhc0VsLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgLy8gU2F2ZSBkaW1lbnNpb25zLlxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH07XG4gICAgO1xuICAgIEdQR1BVLnByb3RvdHlwZS5fc3RlcCA9IGZ1bmN0aW9uIChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYXJlIGluIGFuIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoIXByb2dyYW0ucHJvZ3JhbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbS5wcm9ncmFtKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dExheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRMYXllcnNbaV0uZ2V0Q3VycmVudFN0YXRlVGV4dHVyZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0cHV0TGF5ZXIpIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXRMYXllci5udW1CdWZmZXJzID09PSAxICYmIGlucHV0TGF5ZXJzLmluZGV4T2Yob3V0cHV0TGF5ZXIpID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcXG5cXHRcXHRcXHRcXHRcXHRDYW5ub3QgdXNlIHNhbWUgYnVmZmVyIGZvciBpbnB1dCBhbmQgb3V0cHV0IG9mIGEgcHJvZ3JhbS5cXG5cXHRcXHRcXHRcXHRcXHRUcnkgaW5jcmVhc2luZyB0aGUgbnVtYmVyIG9mIGJ1ZmZlcnMgaW4geW91ciBvdXRwdXQgbGF5ZXIgdG8gYXQgbGVhc3QgMiBzbyB5b3VcXG5cXHRcXHRcXHRcXHRcXHRjYW4gcmVuZGVyIHRvIG5leHRTdGF0ZSB1c2luZyBjdXJyZW50U3RhdGUgYXMgYW4gaW5wdXQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0cHV0TGF5ZXIuc2V0QXNSZW5kZXJUYXJnZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9pbnQgYXR0cmlidXRlIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgVkJPLlxuICAgICAgICB2YXIgcG9zaXRpb25Mb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0ucHJvZ3JhbSwgJ2FQb3NpdGlvbicpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIC8vIEVuYWJsZSB0aGUgYXR0cmlidXRlLlxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3NpdGlvbkxvY2F0aW9uKTtcbiAgICB9O1xuICAgIDtcbiAgICAvLyBTdGVwIGZvciBlbnRpcmUgZnVsbHNjcmVlbiBxdWFkLlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKHByb2dyYW0sIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcikge1xuICAgICAgICBpZiAoaW5wdXRMYXllcnMgPT09IHZvaWQgMCkgeyBpbnB1dExheWVycyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBxdWFkUG9zaXRpb25zQnVmZmVyID0gX2EucXVhZFBvc2l0aW9uc0J1ZmZlcjtcbiAgICAgICAgLy8gSWdub3JlIGlmIHdlIGFyZSBpbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV9zY2FsZScsIFsxLCAxXSwgJ0ZMT0FUJyk7XG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV90cmFuc2xhdGlvbicsIFswLCAwXSwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBxdWFkUG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgdGhpcy5fc3RlcChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9O1xuICAgIC8vIFN0ZXAgcHJvZ3JhbSBvbmx5IGZvciBhIHN0cmlwIG9mIHB4IGFsb25nIHRoZSBib3VuZGFyeS5cbiAgICBHUEdQVS5wcm90b3R5cGUuc3RlcEJvdW5kYXJ5ID0gZnVuY3Rpb24gKHByb2dyYW0sIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcikge1xuICAgICAgICBpZiAoaW5wdXRMYXllcnMgPT09IHZvaWQgMCkgeyBpbnB1dExheWVycyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciA9IF9hLmJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIC8vIElnbm9yZSBpZiB3ZSBhcmUgaW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHVuaWZvcm1zIGFuZCBidWZmZXJzLlxuICAgICAgICAvLyBGcmFtZSBuZWVkcyB0byBiZSBvZmZzZXQgYW5kIHNjYWxlZCBzbyB0aGF0IGFsbCBmb3VyIHNpZGVzIGFyZSBpbiB2aWV3cG9ydC5cbiAgICAgICAgdmFyIG9uZVB4ID0gWzEgLyB3aWR0aCwgMSAvIGhlaWdodF07XG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV9zY2FsZScsIFsxIC0gb25lUHhbMF0sIDEgLSBvbmVQeFsxXV0sICdGTE9BVCcpO1xuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3VfdHJhbnNsYXRpb24nLCBvbmVQeCwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBib3VuZGFyeVBvc2l0aW9uc0J1ZmZlcik7XG4gICAgICAgIHRoaXMuX3N0ZXAocHJvZ3JhbSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FX0xPT1AsIDAsIDQpOyAvLyBEcmF3IHRvIGZyYW1lYnVmZmVyLlxuICAgIH07XG4gICAgLy8gU3RlcCBwcm9ncmFtIGZvciBhbGwgYnV0IGEgc3RyaXAgb2YgcHggYWxvbmcgdGhlIGJvdW5kYXJ5LlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwTm9uQm91bmRhcnkgPSBmdW5jdGlvbiAocHJvZ3JhbSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKSB7XG4gICAgICAgIGlmIChpbnB1dExheWVycyA9PT0gdm9pZCAwKSB7IGlucHV0TGF5ZXJzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIHF1YWRQb3NpdGlvbnNCdWZmZXIgPSBfYS5xdWFkUG9zaXRpb25zQnVmZmVyLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIC8vIElnbm9yZSBpZiB3ZSBhcmUgaW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHVuaWZvcm1zIGFuZCBidWZmZXJzLlxuICAgICAgICB2YXIgb25lUHggPSBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3NjYWxlJywgWzEgLSAyICogb25lUHhbMF0sIDEgLSAyICogb25lUHhbMV1dLCAnRkxPQVQnKTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3RyYW5zbGF0aW9uJywgb25lUHgsICdGTE9BVCcpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcXVhZFBvc2l0aW9uc0J1ZmZlcik7XG4gICAgICAgIHRoaXMuX3N0ZXAocHJvZ3JhbSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfTtcbiAgICAvLyBTdGVwIHByb2dyYW0gb25seSBmb3IgYSBjaXJjdWxhciBzcG90LlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwQ2lyY2xlID0gZnVuY3Rpb24gKHByb2dyYW0sIHBvc2l0aW9uLCAvLyBwb3NpdGlvbiBpcyBpbiBzY3JlZW4gc3BhY2UgY29vcmRzLlxuICAgIHJhZGl1cywgLy8gcmFkaXVzIGlzIGluIHB4LlxuICAgIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcikge1xuICAgICAgICBpZiAoaW5wdXRMYXllcnMgPT09IHZvaWQgMCkgeyBpbnB1dExheWVycyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBjaXJjbGVQb3NpdGlvbnNCdWZmZXIgPSBfYS5jaXJjbGVQb3NpdGlvbnNCdWZmZXIsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgLy8gSWdub3JlIGlmIHdlIGFyZSBpbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV9zY2FsZScsIFtyYWRpdXMgLyB3aWR0aCwgcmFkaXVzIC8gaGVpZ2h0XSwgJ0ZMT0FUJyk7XG4gICAgICAgIC8vIEZsaXAgeSBheGlzLlxuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3VfdHJhbnNsYXRpb24nLCBbMiAqIHBvc2l0aW9uWzBdIC8gd2lkdGggLSAxLCAtMiAqIHBvc2l0aW9uWzFdIC8gaGVpZ2h0ICsgMV0sICdGTE9BVCcpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgY2lyY2xlUG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgdGhpcy5fc3RlcChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX0ZBTiwgMCwgTlVNX1NFR01FTlRTX0NJUkNMRSArIDIpOyAvLyBEcmF3IHRvIGZyYW1lYnVmZmVyLlxuICAgIH07XG4gICAgLy8gcmVhZHlUb1JlYWQoKSB7XG4gICAgLy8gXHRjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIC8vICAgICByZXR1cm4gZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUikgPT0gZ2wuRlJBTUVCVUZGRVJfQ09NUExFVEU7XG4gICAgLy8gfTtcbiAgICAvLyByZWFkUGl4ZWxzKHhNaW46IG51bWJlciwgeU1pbjogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgYXJyYXk6IFRleHR1cmVEYXRhVHlwZSkge1xuICAgIC8vIFx0Y29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICAvLyBcdGdsLnJlYWRQaXhlbHMoeE1pbiwgeU1pbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgYXJyYXkpO1xuICAgIC8vIH07XG4gICAgR1BHUFUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgO1xuICAgIHJldHVybiBHUEdQVTtcbn0oKSk7XG5leHBvcnRzLkdQR1BVID0gR1BHUFU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HUEdQVS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR1BVUHJvZ3JhbSA9IHZvaWQgMDtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG52YXIgR1BVUHJvZ3JhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHUFVQcm9ncmFtKG5hbWUsIGdsLCBlcnJvckNhbGxiYWNrLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyU291cmNlLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnVuaWZvcm1zID0ge307XG4gICAgICAgIHRoaXMuc2hhZGVycyA9IFtdOyAvLyBTYXZlIHJlZiB0byBzaGFkZXJzIHNvIHdlIGNhbiBkZWFsbG9jYXRlLlxuICAgICAgICAvLyBTYXZlIHBhcmFtcy5cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrO1xuICAgICAgICAvLyBDcmVhdGUgYSBwcm9ncmFtLlxuICAgICAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiVW5hYmxlIHRvIGluaXQgZ2wgcHJvZ3JhbTogXCIgKyBuYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbXBpbGUgc2hhZGVyLlxuICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSB1dGlsc18xLmNvbXBpbGVTaGFkZXIoZ2wsIGVycm9yQ2FsbGJhY2ssIGZyYWdtZW50U2hhZGVyU291cmNlLCBnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBpZiAoIWZyYWdtZW50U2hhZGVyKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiVW5hYmxlIHRvIGNvbXBpbGUgZnJhZ21lbnQgc2hhZGVyIGZvciBwcm9ncmFtIFwiICsgbmFtZSArIFwiLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNoYWRlcnMucHVzaChmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIC8vIEF0dGFjaCB0aGUgc2hhZGVycy5cbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIC8vIExpbmsgdGhlIHByb2dyYW0uXG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICAvLyBDaGVjayBpZiBpdCBsaW5rZWQuXG4gICAgICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUyk7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgLy8gU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCB0aGUgbGluay5cbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJQcm9ncmFtIFwiICsgbmFtZSArIFwiIGZhaWxlZCB0byBsaW5rOiBcIiArIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcm9ncmFtIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBpbml0ZWQuXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIHVuaWZvcm1zID09PSBudWxsIHx8IHVuaWZvcm1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1bmlmb3Jtcy5mb3JFYWNoKGZ1bmN0aW9uICh1bmlmb3JtKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHVuaWZvcm0ubmFtZSwgdmFsdWUgPSB1bmlmb3JtLnZhbHVlLCBkYXRhVHlwZSA9IHVuaWZvcm0uZGF0YVR5cGU7XG4gICAgICAgICAgICBfdGhpcy5zZXRVbmlmb3JtKG5hbWUsIHZhbHVlLCBkYXRhVHlwZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBHUFVQcm9ncmFtLnByb3RvdHlwZS51bmlmb3JtVHlwZUZvclZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBkYXRhVHlwZSkge1xuICAgICAgICBpZiAoZGF0YVR5cGUgPT09IGNvbnN0YW50c18xLkZMT0FUX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF8xRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF8yRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF8zRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF80RF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1bmlmb3JtIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhVHlwZSA9PT0gY29uc3RhbnRzXzEuSU5UX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5JTlRfMURfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuSU5UXzJEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLklOVF8zRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5JTlRfNERfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdW5pZm9ybSB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVuaWZvcm0gZGF0YSB0eXBlOiBcIiArIGRhdGFUeXBlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgR1BVUHJvZ3JhbS5wcm90b3R5cGUuc2V0VW5pZm9ybSA9IGZ1bmN0aW9uICh1bmlmb3JtTmFtZSwgdmFsdWUsIGRhdGFUeXBlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrLCBwcm9ncmFtID0gX2EucHJvZ3JhbSwgdW5pZm9ybXMgPSBfYS51bmlmb3JtcztcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiUHJvZ3JhbSBub3QgaW5pdGVkLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgYWN0aXZlIHByb2dyYW0uXG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy51bmlmb3JtVHlwZUZvclZhbHVlKHZhbHVlLCBkYXRhVHlwZSk7XG4gICAgICAgIGlmICghdW5pZm9ybXNbdW5pZm9ybU5hbWVdKSB7XG4gICAgICAgICAgICAvLyBJbml0IHVuaWZvcm0gaWYgbmVlZGVkLlxuICAgICAgICAgICAgdmFyIGxvY2F0aW9uXzEgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgdW5pZm9ybU5hbWUpO1xuICAgICAgICAgICAgaWYgKCFsb2NhdGlvbl8xKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IHVuaWZvcm0gXCIgKyB1bmlmb3JtTmFtZSArIFwiLlxcbkNoZWNrIHRoYXQgdW5pZm9ybSBpcyBwcmVzZW50IGluIHNoYWRlciBjb2RlLCB1bnVzZWQgdW5pZm9ybXMgbWF5IGJlIHJlbW92ZWQgYnkgY29tcGlsZXIuXFxuQWxzbyBjaGVjayB0aGF0IHVuaWZvcm0gdHlwZSBpbiBzaGFkZXIgY29kZSBtYXRjaGVzIHR5cGUgXCIgKyB0eXBlICsgXCIuXFxuRXJyb3IgY29kZTogXCIgKyBnbC5nZXRFcnJvcigpICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVuaWZvcm1zW3VuaWZvcm1OYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25fMSxcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdW5pZm9ybSA9IHVuaWZvcm1zW3VuaWZvcm1OYW1lXTtcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCB0eXBlcyBtYXRjaCBwcmV2aW91c2x5IHNldCB1bmlmb3JtLlxuICAgICAgICBpZiAodW5pZm9ybS50eXBlICE9IHR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaWZvcm0gXCIgKyB1bmlmb3JtTmFtZSArIFwiIGNhbm5vdCBjaGFuZ2UgZnJvbSB0eXBlIFwiICsgdW5pZm9ybS50eXBlICsgXCIgdG8gdHlwZSBcIiArIHR5cGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvY2F0aW9uID0gdW5pZm9ybS5sb2NhdGlvbjtcbiAgICAgICAgLy8gU2V0IHVuaWZvcm0uXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvdW5pZm9ybVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuRkxPQVRfMURfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuRkxPQVRfMkRfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmZ2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkZMT0FUXzNEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5GTE9BVF80RF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuSU5UXzFEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLklOVF8yRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yaXYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuSU5UXzNEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5JTlRfNERfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdW5pZm9ybSB0eXBlOiBcIiArIHR5cGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIDtcbiAgICBHUFVQcm9ncmFtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBwcm9ncmFtID0gX2EucHJvZ3JhbSwgc2hhZGVycyA9IF9hLnNoYWRlcnM7XG4gICAgICAgIGlmIChwcm9ncmFtKVxuICAgICAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgLy8gVW5iaW5kIGFsbCBkYXRhIGJlZm9yZSBkZWxldGluZy5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaGFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBGcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvZGVsZXRlU2hhZGVyXG4gICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBoYXMgbm8gZWZmZWN0IGlmIHRoZSBzaGFkZXIgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkXG4gICAgICAgICAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgc2hhZGVycy5sZW5ndGggPSAwO1xuICAgICAgICAvLyBAdHMtaWdub3JlO1xuICAgICAgICBkZWxldGUgdGhpcy5nbDtcbiAgICAgICAgLy8gQHRzLWlnbm9yZTtcbiAgICAgICAgZGVsZXRlIHRoaXMucHJvZ3JhbTtcbiAgICB9O1xuICAgIHJldHVybiBHUFVQcm9ncmFtO1xufSgpKTtcbmV4cG9ydHMuR1BVUHJvZ3JhbSA9IEdQVVByb2dyYW07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HUFVQcm9ncmFtLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JTlRfVFlQRSA9IGV4cG9ydHMuRkxPQVRfVFlQRSA9IGV4cG9ydHMuSU5UXzREX1VOSUZPUk0gPSBleHBvcnRzLklOVF8zRF9VTklGT1JNID0gZXhwb3J0cy5JTlRfMkRfVU5JRk9STSA9IGV4cG9ydHMuSU5UXzFEX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzREX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzNEX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzJEX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzFEX1VOSUZPUk0gPSB2b2lkIDA7XG5leHBvcnRzLkZMT0FUXzFEX1VOSUZPUk0gPSAnMWYnO1xuZXhwb3J0cy5GTE9BVF8yRF9VTklGT1JNID0gJzJmJztcbmV4cG9ydHMuRkxPQVRfM0RfVU5JRk9STSA9ICczZic7XG5leHBvcnRzLkZMT0FUXzREX1VOSUZPUk0gPSAnM2YnO1xuZXhwb3J0cy5JTlRfMURfVU5JRk9STSA9ICcxaSc7XG5leHBvcnRzLklOVF8yRF9VTklGT1JNID0gJzJpJztcbmV4cG9ydHMuSU5UXzNEX1VOSUZPUk0gPSAnM2knO1xuZXhwb3J0cy5JTlRfNERfVU5JRk9STSA9ICczaSc7XG5leHBvcnRzLkZMT0FUX1RZUEUgPSAnRkxPQVQnO1xuZXhwb3J0cy5JTlRfVFlQRSA9ICdJTlQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaW5nbGVDb2xvckZyYWdTaGFkZXIgPSBleHBvcnRzLkdQR1BVID0gdm9pZCAwO1xudmFyIEdQR1BVXzEgPSByZXF1aXJlKFwiLi9HUEdQVVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdQR1BVXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBHUEdQVV8xLkdQR1BVOyB9IH0pO1xudmFyIFNpbmdsZUNvbG9yRnJhZ1NoYWRlcl8xID0gcmVxdWlyZShcIi4va2VybmVscy9TaW5nbGVDb2xvckZyYWdTaGFkZXJcIik7XG5leHBvcnRzLlNpbmdsZUNvbG9yRnJhZ1NoYWRlciA9IFNpbmdsZUNvbG9yRnJhZ1NoYWRlcl8xLmRlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIFZlcnRleCBzaGFkZXIgZm9yIGZ1bGxzY3JlZW4gcXVhZC5cbmV4cG9ydHMuZGVmYXVsdCA9IFwiXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbjtcXG5cXG51bmlmb3JtIHZlYzIgdV9zY2FsZTtcXG51bmlmb3JtIHZlYzIgdV90cmFuc2xhdGlvbjtcXG5cXG52YXJ5aW5nIHZlYzIgdlVWX2xvY2FsO1xcbnZhcnlpbmcgdmVjMiB2VVY7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdC8vIENhbGN1bGF0ZSBVViBjb29yZGluYXRlcyBvZiBjdXJyZW50IHJlbmRlcmVkIG9iamVjdC5cXG5cXHR2VVZfbG9jYWwgPSAwLjUgKiAoYVBvc2l0aW9uICsgMS4wKTtcXG5cXHQvLyBBcHBseSB0cmFuc2Zvcm1hdGlvbnMuXFxuXFx0dmVjMiBwb3NpdGlvbiA9IHVfc2NhbGUgKiBhUG9zaXRpb24gKyB1X3RyYW5zbGF0aW9uO1xcblxcdC8vIENhbGN1bGF0ZSBhIGdsb2JhbCB1diBmb3IgdGhlIHZpZXdwb3J0LlxcblxcdHZVViA9IDAuNSAqIChwb3NpdGlvbiArIDEuMCk7XFxuXFx0Ly8gQ2FsY3VsYXRlIHZlcnRleCBwb3NpdGlvbi5cXG5cXHRnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAsIDEpO1xcbn1cXG5cIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlZmF1bHRWZXJ0ZXhTaGFkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBGcmFnbWVudCBzaGFkZXIgdGhhdCBkcmF3cyBhIHNpbmdsZSBjb2xvciAoZm9yIHRlc3RpbmcpLlxuZXhwb3J0cy5kZWZhdWx0ID0gXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudW5pZm9ybSB2ZWMzIHVfY29sb3I7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQodV9jb2xvciwgMSk7XFxufVwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2luZ2xlQ29sb3JGcmFnU2hhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb21waWxlU2hhZGVyID0gdm9pZCAwO1xuLy8gQ29waWVkIGZyb20gaHR0cDovL3dlYmdsZnVuZGFtZW50YWxzLm9yZy93ZWJnbC9sZXNzb25zL3dlYmdsLWJvaWxlcnBsYXRlLmh0bWxcbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIGVycm9yQ2FsbGJhY2ssIHNoYWRlclNvdXJjZSwgc2hhZGVyVHlwZSkge1xuICAgIC8vIENyZWF0ZSB0aGUgc2hhZGVyIG9iamVjdFxuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7XG4gICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgZXJyb3JDYWxsYmFjaygnVW5hYmxlIHRvIGluaXQgZ2wgc2hhZGVyLicpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gU2V0IHRoZSBzaGFkZXIgc291cmNlIGNvZGUuXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTtcbiAgICAvLyBDb21waWxlIHRoZSBzaGFkZXJcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgLy8gQ2hlY2sgaWYgaXQgY29tcGlsZWRcbiAgICB2YXIgc3VjY2VzcyA9IGdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKTtcbiAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIGNvbXBpbGF0aW9uIC0gcHJpbnQgdGhlIGVycm9yLlxuICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGNvbXBpbGUgXCIgKyAoc2hhZGVyVHlwZSA9PT0gZ2wuRlJBR01FTlRfU0hBREVSID8gJ2ZyYWdtZW50JyA6ICd2ZXJ0ZXgnKSArIFwiXFxuXFx0XFx0XFx0IHNoYWRlcjogXCIgKyBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cbmV4cG9ydHMuY29tcGlsZVNoYWRlciA9IGNvbXBpbGVTaGFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZVVjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3N0YXRlO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHR2ZWMyIGN1cnJlbnRTdGF0ZSA9IHRleHR1cmUyRCh1X3N0YXRlLCB2VVYpLnh5O1xcblxcdC8vIEFkZCBleHRlcm5hbCBmb3JjZSB0byBjdXJyZW50IHB4LlxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoY3VycmVudFN0YXRlLCAtNS4wLCAwKTtcXG59XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZVVjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3N0YXRlO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRmbG9hdCBwb3NpdGlvbiA9IHRleHR1cmUyRCh1X3N0YXRlLCB2VVYpLnIgLyAyMC4wICsgMC41O1xcblxcdGlmIChwb3NpdGlvbiA+IDEuMCkgcG9zaXRpb24gPSAxLjA7XFxuXFx0aWYgKHBvc2l0aW9uIDwgMC4wKSBwb3NpdGlvbiA9IDAuMDtcXG5cXG5cXHRpZiAocG9zaXRpb24gPCAwLjUpe1xcblxcdFxcdHBvc2l0aW9uICo9IDIuMDtcXG5cXHRcXHQvL3Bvc2l0aW9uID0gMCAtPiBibHVlXFxuXFx0XFx0Ly9wb3NpdGlvbiA9IDEgLT4gbWFnZW50YVxcblxcdFxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoKDI1NS4wKnBvc2l0aW9uKS8yNTUuMCwoMTc5LjAqKDEuMC1wb3NpdGlvbikpLzI1NS4wLCgxNTAuMC01NC4wKnBvc2l0aW9uKS8yNTUuMCwxLjApO1xcblxcdH0gZWxzZSB7XFxuXFx0XFx0cG9zaXRpb24gLT0gMC41O1xcblxcdFxcdHBvc2l0aW9uICo9IDIuMDtcXG5cXHRcXHQvL3Bvc2l0aW9uID0gMCAtPiBtYWdlbnRhXFxuXFx0XFx0Ly9wb3NpdGlvbiA9IDEgLT4gd2hpdGVcXG5cXHRcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCgyNTUuMC0oMTAuMCpwb3NpdGlvbikpLzI1NS4wLCgyMjMuMCpwb3NpdGlvbikvMjU1LjAsKDEwNi4wKyg2Ny4wKnBvc2l0aW9uKSkvMjU1LjAsMS4wKTtcXG5cXHR9XFxufVwiIiwibW9kdWxlLmV4cG9ydHMgPSBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcblxcbiNkZWZpbmUgSyAyLjBcXG4jZGVmaW5lIEQgMS4wXFxuI2RlZmluZSBEVCAxLjBcXG4jZGVmaW5lIE1BU1MgMTAuMFxcblxcbnZhcnlpbmcgdmVjMiB2VVY7XFxudW5pZm9ybSBzYW1wbGVyMkQgdV9zdGF0ZTsgLy8gcG9zaXRpb24sIHZlbG9jaXR5LCBleHRlcm5hbEZvcmNlcyA9IHIsIGcsIGJcXG51bmlmb3JtIHZlYzIgdV9weFNpemU7XFxuXFxudm9pZCBtYWluKCkge1xcblxcblxcdHZlYzMgY3VycmVudFN0YXRlID0gdGV4dHVyZTJEKHVfc3RhdGUsIHZVVikueHl6O1xcblxcdGZsb2F0IGN1cnJlbnRQb3NpdGlvbiA9IGN1cnJlbnRTdGF0ZS54O1xcblxcdGZsb2F0IGN1cnJlbnRWZWxvY2l0eSA9IGN1cnJlbnRTdGF0ZS55O1xcblxcdGZsb2F0IGZUb3RhbCA9IGN1cnJlbnRTdGF0ZS56O1xcblxcblxcdC8vIEdldCBpbnRlcmFjdGlvbnMgd2l0aCBOLCBTLCBFLCBXIG5laWdoYm9ycy5cXG5cXHRmb3IgKGludCBpID0gLTE7IGkgPD0gMTsgaSArPSAyKSB7XFxuXFx0XFx0Zm9yIChpbnQgaiA9IC0xOyBqIDw9IDE7IGogKz0gMikge1xcblxcdFxcdFxcdC8vIENhbGN1bGF0ZSB1diBjb29yZGluYXRlIG9mIG5laWdoYm9yIHB4LlxcblxcdFxcdFxcdHZlYzIgbmVpZ2hib3JVViA9IHZVViArIHZlYzIodV9weFNpemUueCAqIGZsb2F0KGkpLCB1X3B4U2l6ZS55ICogZmxvYXQoaikpO1xcblxcdFxcdFxcdC8vIEFwcGx5IHNwcmluZyBkYW1wZXIgY29uc3RyYWludC5cXG5cXHRcXHRcXHR2ZWMyIG5laWdoYm9yU3RhdGUgPSB0ZXh0dXJlMkQodV9zdGF0ZSwgbmVpZ2hib3JVVikueHk7XFxuXFx0XFx0XFx0ZmxvYXQgZGVsdGFQID0gIG5laWdoYm9yU3RhdGUueCAtIGN1cnJlbnRQb3NpdGlvbjtcXG5cXHRcXHRcXHRmbG9hdCBkZWx0YVYgPSBuZWlnaGJvclN0YXRlLnkgLSBjdXJyZW50VmVsb2NpdHk7XFxuXFx0XFx0XFx0ZlRvdGFsICs9IEsgKiBkZWx0YVAgKyBEICogZGVsdGFWO1xcblxcdFxcdH1cXG5cXHR9XFxuXFxuXFx0ZmxvYXQgYWNjZWxlcmF0aW9uID0gZlRvdGFsIC8gTUFTUztcXG5cXHRmbG9hdCB2ZWxvY2l0eSA9IGFjY2VsZXJhdGlvbiAqIERUICsgY3VycmVudFZlbG9jaXR5O1xcblxcdGZsb2F0IHBvc2l0aW9uID0gdmVsb2NpdHkgKiBEVCArIGN1cnJlbnRQb3NpdGlvbjtcXG5cXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KHBvc2l0aW9uLCB2ZWxvY2l0eSwgMCwgMCk7XFxufVwiIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4vLyBUaGlzIGVudHJ5IG1vZHVsZSB1c2VkICdleHBvcnRzJyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG4iXSwic291cmNlUm9vdCI6IiJ9