(()=>{var e={650:(e,t,r)=>{"use strict";function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}r.r(t),r.d(t,{default:()=>d});var a,s,l,u,c,f=(a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],s=function(){function e(t){var r=t.targetModal,o=t.triggers,i=void 0===o?[]:o,a=t.onShow,s=void 0===a?function(){}:a,l=t.onClose,u=void 0===l?function(){}:l,c=t.openTrigger,f=void 0===c?"data-micromodal-trigger":c,d=t.closeTrigger,h=void 0===d?"data-micromodal-close":d,m=t.openClass,v=void 0===m?"is-open":m,g=t.disableScroll,p=void 0!==g&&g,b=t.disableFocus,_=void 0!==b&&b,T=t.awaitCloseAnimation,y=void 0!==T&&T,E=t.awaitOpenAnimation,F=void 0!==E&&E,A=t.debugMode,w=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(r),this.config={debugMode:w,disableScroll:p,openTrigger:f,closeTrigger:h,openClass:v,onShow:s,onClose:u,awaitCloseAnimation:y,awaitOpenAnimation:F,disableFocus:_},i.length>0&&this.registerTriggers.apply(this,n(i)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,r;return t=e,(r=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];r.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var r=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",r,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var r=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(r),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(e)}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(a);return Array.apply(void 0,n(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var r=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));r.length>0&&r[0].focus(),0===r.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var r=t.indexOf(document.activeElement);e.shiftKey&&0===r&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&r===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&o(t.prototype,r),e}(),l=null,u=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},c=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var r in t)u(r);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),r=n(document.querySelectorAll("[".concat(t.openTrigger,"]"))),o=function(e,t){var r=[];return e.forEach((function(e){var o=e.attributes[t].value;void 0===r[o]&&(r[o]=[]),r[o].push(e)})),r}(r,t.openTrigger);if(!0!==t.debugMode||!1!==c(r,o))for(var i in o){var a=o[i];t.targetModal=i,t.triggers=n(a),l=new s(t)}},show:function(e,t){var r=t||{};r.targetModal=e,!0===r.debugMode&&!1===u(e)||(l&&l.removeEventListeners(),(l=new s(r)).showModal())},close:function(e){e?l.closeModalById(e):l.closeModal()}});window.MicroModal=f;const d=f},607:(e,t,r)=>{"use strict";var o=r(561),n=r(650),i=r(942),a=r(539),s=r(950);n.default.init();var l=document.getElementById("glcanvas"),u=new o.GPGPU(null,l,(function(e){n.default.show("modal-2");var t=document.getElementById("glErrorMsg");t&&(t.innerHTML="Error: "+e);var r=document.getElementById("coverImg");r&&(r.style.display="block")}));function c(e){e.preventDefault();var t="scale(1)";document.body.style.webkitTransform=t,document.body.style.msTransform=t,document.body.style.transform=t}function f(){var e=l.clientWidth,t=l.clientHeight;u.initTexture("currentState",e,t,"float16",3,!0,void 0,!0),u.initTexture("lastState",e,t,"float16",3,!0,void 0,!0),u.setProgramUniform("sim","u_pxSize",[1/e,1/t],"FLOAT"),u.onResize(l)}u.initProgram("sim",i,[{name:"u_state",value:0,dataType:"INT"},{name:"u_pxSize",value:[1/l.clientWidth,1/l.clientHeight],dataType:"FLOAT"}]),u.initProgram("render",a,[{name:"u_state",value:0,dataType:"INT"}]),u.initProgram("interaction",s,[{name:"u_state",value:0,dataType:"INT"}]),l.addEventListener("mousemove",(function(e){u.stepCircle("interaction",[e.clientX,e.clientY],10,["currentState"],"lastState")})),l.addEventListener("touchmove",(function(e){e.preventDefault();for(var t=0;t<e.touches.length;t++){var r=e.touches[t];u.stepCircle("interaction",[r.pageX,r.pageY],10,["currentState"],"lastState")}})),document.addEventListener("gesturestart",c),document.addEventListener("gesturechange",c),document.addEventListener("gestureend",c),f(),l.addEventListener("resize",f),window.requestAnimationFrame((function e(){u.stepNonBoundary("sim",["lastState"],"currentState"),u.step("render",["currentState"]),u.swapTextures("currentState","lastState"),window.requestAnimationFrame(e)}))},576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPGPU=void 0;for(var o=r(416),n=r(647),i=new Float32Array([-1,-1,1,-1,-1,1,1,1]),a=new Float32Array([-1,-1,1,-1,1,1,-1,1]),s=[0,0],l=0;l<=20;l++)s.push(Math.cos(2*Math.PI*l/20),Math.sin(2*Math.PI*l/20));var u=new Float32Array(s),c=function(){function e(e,t,r){void 0===r&&(r=function(e){throw new Error(e)}),this.extensions={},this.errorState=!1,this.programs={},this.textures={},this.framebuffers={},this.shaders=[];var n=this;if(this.errorCallback=function(e){n.errorState=!0,r&&r(e)},e||null!==(e=t.getContext("webgl2",{antialias:!1})||t.getContext("webgl",{antialias:!1}))){this.isWebGL2=!!e.HALF_FLOAT,this.isWebGL2?console.log("Using WebGL 2.0 context."):console.log("Using WebGL 1.0 context."),this.gl=e,this.isWebGL2?this.loadExtension("EXT_color_buffer_float"):this.loadExtension("OES_texture_half_float"),this.linearFilterEnabled=this.loadExtension("OES_texture_half_float_linear",!0),e.disable(e.DEPTH_TEST),e.pixelStorei(e.UNPACK_ALIGNMENT,1);var s=this.compileShader(o.default,e.VERTEX_SHADER);if(s){this.defaultVertexShader=s,this.quadPositionsBuffer=this.initVertexBuffer(i),this.boundaryPositionsBuffer=this.initVertexBuffer(a),this.circlePositionsBuffer=this.initVertexBuffer(u),e.bindBuffer(e.ARRAY_BUFFER,null),this.onResize(t);var l=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);console.log(l+" textures max.")}else r("Unable to initialize fullscreen quad vertex shader.")}else r("Unable to initialize WebGL context.")}return e.prototype.initVertexBuffer=function(e){var t=this.errorCallback,r=this.gl,o=r.createBuffer();if(o)return r.bindBuffer(r.ARRAY_BUFFER,o),r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW),o;t("Unable to allocate gl buffer.")},e.prototype.loadExtension=function(e,t){void 0===t&&(t=!1);var r,o=this,n=o.extensions,i=o.gl,a=o.errorCallback;try{r=i.getExtension(e)}catch(e){}return r?(n[e]=r,console.log("Loaded extension: "+e+".")):console.warn("Unsupported "+(t?"optional ":"")+"extension: "+e+"."),r||t||a("Required extension unsupported by this device / browser: "+e+"."),!!r},e.prototype.compileShader=function(e,t){var r=this,o=r.gl,n=r.errorCallback,i=r.shaders,a=o.createShader(t);return a?(o.shaderSource(a,e),o.compileShader(a),o.getShaderParameter(a,o.COMPILE_STATUS)?(i.push(a),a):(n("Could not compile "+(t===o.FRAGMENT_SHADER?"fragment":"vertex")+"\n\t\t\t\t shader: "+o.getShaderInfoLog(a)),null)):(n("Unable to init gl shader."),null)},e.prototype.initProgram=function(e,t,r){var o=this,n=this,i=n.programs,a=n.gl,s=n.errorCallback;if(i[e])return a.useProgram(i[e].program),void console.warn("Already a program with the name "+e+".");var l=this.compileShader(t,a.FRAGMENT_SHADER),u=this.defaultVertexShader;if(l&&u){var c=a.createProgram();c?(a.attachShader(c,u),a.attachShader(c,l),a.linkProgram(c),a.getProgramParameter(c,a.LINK_STATUS)||s("Program "+e+" filed to link: "+a.getProgramInfoLog(c)),i[e]={program:c,uniforms:{}},null==r||r.forEach((function(t){var r=t.name,n=t.value,i=t.dataType;o.setProgramUniform(e,r,n,i)}))):s("Unable to init gl program.")}else s("Unable to init shaders for program "+e+".")},e.prototype.uniformTypeForValue=function(e,t){if(t===n.FLOAT_TYPE){if(!isNaN(e)||1===e.length)return n.FLOAT_1D_UNIFORM;if(2===e.length)return n.FLOAT_2D_UNIFORM;if(3===e.length)return n.FLOAT_3D_UNIFORM;if(4===e.length)return n.FLOAT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}if(t===n.INT_TYPE){if(!isNaN(e)||1===e.length)return n.INT_1D_UNIFORM;if(2===e.length)return n.INT_2D_UNIFORM;if(3===e.length)return n.INT_3D_UNIFORM;if(4===e.length)return n.INT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}throw new Error("Invalid uniform data type: "+t)},e.prototype.setProgramUniform=function(e,t,r,o){var i=this,a=i.gl,s=i.programs,l=i.errorCallback,u=s[e];if(!u)throw new Error("Count not set uniform, no program of name: "+e+".");a.useProgram(u.program);var c=u.uniforms,f=this.uniformTypeForValue(r,o);if(!c[t]){var d=a.getUniformLocation(u.program,t);if(!d)return void l("Could not init uniform "+t+" for program "+e+".\nCheck that uniform is present in shader code, unused uniforms may be removed by compiler.\nAlso check that uniform type in shader code matches type "+f+".\nError code: "+a.getError()+".");c[t]={location:d,type:f}}var h=c[t];if(h.type!=f)throw new Error("Uniform "+t+" cannot change from type "+h.type+" to type "+f+".");var m=h.location;switch(f){case n.FLOAT_1D_UNIFORM:a.uniform1f(m,r);break;case n.FLOAT_2D_UNIFORM:a.uniform2fv(m,r);break;case n.FLOAT_3D_UNIFORM:a.uniform3fv(m,r);break;case n.FLOAT_4D_UNIFORM:a.uniform4fv(m,r);break;case n.INT_1D_UNIFORM:a.uniform1i(m,r);break;case n.INT_2D_UNIFORM:a.uniform2iv(m,r);break;case n.INT_3D_UNIFORM:a.uniform3iv(m,r);break;case n.INT_4D_UNIFORM:a.uniform4iv(m,r);break;default:throw new Error("Unknown uniform type: "+f+".")}},e.prototype.initFramebufferForTexture=function(e,t){void 0===t&&(t=!1);var r=this,o=r.gl,n=r.framebuffers,i=r.textures,a=r.errorCallback;n[e]&&(t||console.warn("Already a framebuffer with the name "+e+", use shouldOverwrite flag in initTexture() to ignore."),o.deleteFramebuffer(n[e]));var s=i[e];if(!s)throw new Error("Cannot init framebuffer, texture "+e+" does not exist.");var l=o.createFramebuffer();if(l){o.bindFramebuffer(o.FRAMEBUFFER,l),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,s,0);var u=o.checkFramebufferStatus(o.FRAMEBUFFER);u!=o.FRAMEBUFFER_COMPLETE&&a("Invalid status for "+e+" framebuffer: "+u+"."),n[e]=l}else a("Could not init "+e+" framebuffer: "+o.getError()+".")},e.prototype.glTextureParameters=function(e,t,r){var o,n,i,a,s=this,l=s.gl,u=s.isWebGL2,c=s.extensions;if(u){switch(a=e,3===e&&r&&(a=4),a){case 1:n=l.RED;break;case 2:n=l.RG;break;case 3:n=l.RGB;break;case 4:n=l.RGBA}switch(t){case"float16":switch(o=l.HALF_FLOAT,a){case 1:i=l.R16F;break;case 2:i=l.RG16F;break;case 3:i=l.RGB16F;break;case 4:i=l.RGBA16F}break;case"uint8":switch(o=l.UNSIGNED_BYTE,a){case 1:i=l.R8;break;case 2:i=l.RG8;break;case 3:i=l.RGB8;break;case 4:i=l.RGBA8}}}else{switch(e){case 1:case 2:case 3:n=l.RGB,i=l.RGB,a=3;break;case 4:n=l.RGBA,i=l.RGBA,a=4}switch(t){case"float16":o=c.OES_texture_half_float.HALF_FLOAT_OES;break;case"uint8":o=l.UNSIGNED_BYTE}}if(void 0===o||void 0===n||void 0===i)throw new Error("Invalid type: "+t+" or numChannels "+e+".");if(void 0===a||e<1||e>4)throw new Error("Invalid numChannels: "+e+".");return{glFormat:n,glInternalFormat:i,glType:o,glNumChannels:a}},e.prototype.initTexture=function(e,t,r,o,n,i,a,s){void 0===i&&(i=!1),void 0===s&&(s=!1);var l=this,u=l.gl,c=l.textures,f=l.framebuffers,d=l.errorCallback;if(c[e]&&(s||console.warn("Already a texture with the name "+e+", use shouldOverwrite flag to ignore."),u.deleteTexture(c[e])),a&&a.length!==t*r*n)throw new Error("Invalid data array of size "+a.length+" for texture of dimensions "+t+" x "+r+" x "+n+".");var h=u.createTexture();if(h){u.bindTexture(u.TEXTURE_2D,h),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE);var m=u.NEAREST;u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,m),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,m);var v=this.glTextureParameters(n,o,i),g=v.glFormat,p=v.glInternalFormat,b=v.glNumChannels,_=v.glType;if(a&&n!==b){var T=t*r,y=void 0;switch(o){case"uint8":y=new Uint8Array(t*r*b);break;default:throw new Error("Unsupported type "+o+" for initTexture.")}for(var E=0;E<T;E++)for(var F=0;F<n;F++)y[b*E+F]=a[E*n+F];a=y}u.texImage2D(u.TEXTURE_2D,0,p,t,r,0,g,_,a||null),c[e]=h,i?this.initFramebufferForTexture(e,s):s&&f[e]&&(u.deleteFramebuffer(f[e]),delete f[e])}else d("Could not init "+e+" texture: "+u.getError()+".")},e.prototype.onResize=function(e){var t=this.gl,r=e.clientWidth,o=e.clientHeight;t.viewport(0,0,r,o),e.width=r,e.height=o,this.width=r,this.height=o},e.prototype._step=function(e,t,r){var o=this,n=o.gl,i=o.programs,a=o.framebuffers,s=i[e];if(!s)throw new Error("Invalid program name: "+e+".");n.useProgram(s.program);var l=r?a[r]:null;if(void 0===l)throw new Error("Invalid output texture: "+r+".");n.bindFramebuffer(n.FRAMEBUFFER,l);for(var u=0;u<t.length;u++)n.activeTexture(n.TEXTURE0+u),n.bindTexture(n.TEXTURE_2D,this.textures[t[u]]);var c=n.getAttribLocation(s.program,"aPosition");n.vertexAttribPointer(c,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(c)},e.prototype.step=function(e,t,r){void 0===t&&(t=[]);var o=this,n=o.gl,i=o.errorState,a=o.quadPositionsBuffer;i||(this.setProgramUniform(e,"u_scale",[1,1],"FLOAT"),this.setProgramUniform(e,"u_translation",[0,0],"FLOAT"),n.bindBuffer(n.ARRAY_BUFFER,a),this._step(e,t,r),n.drawArrays(n.TRIANGLE_STRIP,0,4))},e.prototype.stepBoundary=function(e,t,r){void 0===t&&(t=[]);var o=this,n=o.gl,i=o.errorState,a=o.boundaryPositionsBuffer,s=o.width,l=o.height;if(!i){var u=[1/s,1/l];this.setProgramUniform(e,"u_scale",[1-u[0],1-u[1]],"FLOAT"),this.setProgramUniform(e,"u_translation",u,"FLOAT"),n.bindBuffer(n.ARRAY_BUFFER,a),this._step(e,t,r),n.drawArrays(n.LINE_LOOP,0,4)}},e.prototype.stepNonBoundary=function(e,t,r){void 0===t&&(t=[]);var o=this,n=o.gl,i=o.errorState,a=o.quadPositionsBuffer,s=o.width,l=o.height;if(!i){var u=[1/s,1/l];this.setProgramUniform(e,"u_scale",[1-2*u[0],1-2*u[1]],"FLOAT"),this.setProgramUniform(e,"u_translation",u,"FLOAT"),n.bindBuffer(n.ARRAY_BUFFER,a),this._step(e,t,r),n.drawArrays(n.TRIANGLE_STRIP,0,4)}},e.prototype.stepCircle=function(e,t,r,o,n){void 0===o&&(o=[]);var i=this,a=i.gl,s=i.errorState,l=i.circlePositionsBuffer,u=i.width,c=i.height;s||(this.setProgramUniform(e,"u_scale",[r/u,r/c],"FLOAT"),this.setProgramUniform(e,"u_translation",[2*t[0]/u-1,-2*t[1]/c+1],"FLOAT"),a.bindBuffer(a.ARRAY_BUFFER,l),this._step(e,o,n),a.drawArrays(a.TRIANGLE_FAN,0,22))},e.prototype.swapTextures=function(e,t){var r=this.textures,o=this.framebuffers,n=r[e];r[e]=this.textures[t],r[t]=n,n=o[e],o[e]=this.framebuffers[t],o[t]=n},e.prototype.reset=function(){var e=this,t=e.gl,r=e.programs,o=e.framebuffers,n=e.textures,i=e.shaders,a=e.defaultVertexShader;Object.keys(r).forEach((function(e){var o=r[e].program;t.deleteProgram(o),delete r[e]})),Object.keys(o).forEach((function(e){var r=o[e];t.deleteFramebuffer(r),delete o[e]})),Object.keys(n).forEach((function(e){var r=n[e];t.deleteTexture(r),delete n[e]}));for(var s=i.length-1;s>=0;s--)i[s]!==a&&(t.deleteShader(i[s]),i.splice(s,1))},e}();t.GPGPU=c},647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INT_TYPE=t.FLOAT_TYPE=t.INT_4D_UNIFORM=t.INT_3D_UNIFORM=t.INT_2D_UNIFORM=t.INT_1D_UNIFORM=t.FLOAT_4D_UNIFORM=t.FLOAT_3D_UNIFORM=t.FLOAT_2D_UNIFORM=t.FLOAT_1D_UNIFORM=void 0,t.FLOAT_1D_UNIFORM="1f",t.FLOAT_2D_UNIFORM="2f",t.FLOAT_3D_UNIFORM="3f",t.FLOAT_4D_UNIFORM="3f",t.INT_1D_UNIFORM="1i",t.INT_2D_UNIFORM="2i",t.INT_3D_UNIFORM="3i",t.INT_4D_UNIFORM="3i",t.FLOAT_TYPE="FLOAT",t.INT_TYPE="INT"},561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleColorFragShader=t.GPGPU=void 0;var o=r(576);Object.defineProperty(t,"GPGPU",{enumerable:!0,get:function(){return o.GPGPU}});var n=r(929);t.SingleColorFragShader=n.default},416:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\nattribute vec2 aPosition;\nuniform vec2 u_scale;\nuniform vec2 u_translation;\nvarying vec2 uv_local;\nvarying vec2 uv;\nvoid main() {\n\t// Calculate UV coordinates of current rendered object.\n\tuv_local = 0.5 * (aPosition + 1.0);\n\t// Apply transformations.\n\tvec2 position = u_scale * aPosition + u_translation;\n\t// Calculate a global uv for the viewport.\n\tuv = 0.5 * (position + 1.0);\n\t// Calculate vertex position.\n\tgl_Position = vec4(position, 0, 1);\n}\n"},929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\nuniform vec3 u_color;\nvoid main() {\n\tgl_FragColor = vec4(u_color, 1);\n}"},950:e=>{e.exports="precision mediump float;\n\nvarying vec2 uv;\nuniform sampler2D u_state;\n\nvoid main() {\n\tvec2 currentState = texture2D(u_state, uv).xy;\n\t// Add external force to current px.\n\tgl_FragColor = vec4(currentState, -5.0, 0);\n}"},539:e=>{e.exports="precision mediump float;\n\nvarying vec2 uv;\nuniform sampler2D u_state;\n\nvoid main() {\n\tfloat position = texture2D(u_state, uv).r / 20.0 + 0.5;\n\tif (position > 1.0) position = 1.0;\n\tif (position < 0.0) position = 0.0;\n\n\tif (position < 0.5){\n\t\tposition *= 2.0;\n\t\t//position = 0 -> blue\n\t\t//position = 1 -> magenta\n\t\tgl_FragColor = vec4((255.0*position)/255.0,(179.0*(1.0-position))/255.0,(150.0-54.0*position)/255.0,1.0);\n\t} else {\n\t\tposition -= 0.5;\n\t\tposition *= 2.0;\n\t\t//position = 0 -> magenta\n\t\t//position = 1 -> white\n\t\tgl_FragColor = vec4((255.0-(10.0*position))/255.0,(223.0*position)/255.0,(106.0+(67.0*position))/255.0,1.0);\n\t}\n}"},942:e=>{e.exports="precision mediump float;\n\n#define K 2.0\n#define D 1.0\n#define DT 1.0\n#define MASS 10.0\n\nvarying vec2 uv;\nuniform sampler2D u_state; // position, velocity, externalForces = r, g, b\nuniform vec2 u_pxSize;\n\nvoid main() {\n\n\tvec3 currentState = texture2D(u_state, uv).xyz;\n\tfloat currentPosition = currentState.x;\n\tfloat currentVelocity = currentState.y;\n\tfloat fTotal = currentState.z;\n\n\t// Get interactions with N, S, E, W neighbors.\n\tfor (int i = -1; i <= 1; i += 2) {\n\t\tfor (int j = -1; j <= 1; j += 2) {\n\t\t\t// Calculate uv coordinate of neighbor px.\n\t\t\tvec2 neighborUV = uv + vec2(u_pxSize.x * float(i), u_pxSize.y * float(j));\n\t\t\t// Apply spring damper constraint.\n\t\t\tvec2 neighborState = texture2D(u_state, neighborUV).xy;\n\t\t\tfloat deltaP =  neighborState.x - currentPosition;\n\t\t\tfloat deltaV = neighborState.y - currentVelocity;\n\t\t\tfTotal += K * deltaP + D * deltaV;\n\t\t}\n\t}\n\n\tfloat acceleration = fTotal / MASS;\n\tfloat velocity = acceleration * DT + currentVelocity;\n\tfloat position = velocity * DT + currentPosition;\n\n\tgl_FragColor = vec4(position, velocity, 0, 0);\n}"}},t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vbm9kZV9tb2R1bGVzL21pY3JvbW9kYWwvZGlzdC9taWNyb21vZGFsLmVzLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L0dQR1BVLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9ub2RlX21vZHVsZXMvd2ViZ2wtZ3BncHUvZGlzdC9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9ub2RlX21vZHVsZXMvd2ViZ2wtZ3BncHUvZGlzdC9rZXJuZWxzL0RlZmF1bHRWZXJ0ZXhTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2tlcm5lbHMvU2luZ2xlQ29sb3JGcmFnU2hhZGVyLmpzIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMva2VybmVscy9JbnRlcmFjdGlvblNoYWRlci5nbHNsIiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvLi9zcmMva2VybmVscy9SZW5kZXJTaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyLy4vc3JjL2tlcm5lbHMvU2ltU2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tYXNzc3ByaW5nc2hhZGVyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWFzc3NwcmluZ3NoYWRlci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21hc3NzcHJpbmdzaGFkZXIvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmcm9tIiwiX2l0ZXJhYmxlVG9BcnJheSIsIm8iLCJtaW5MZW4iLCJuIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwibGVuIiwiYXJyMiIsIkZPQ1VTQUJMRV9FTEVNRU5UUyIsIk1vZGFsIiwiYWN0aXZlTW9kYWwiLCJ2YWxpZGF0ZU1vZGFsUHJlc2VuY2UiLCJ2YWxpZGF0ZUFyZ3MiLCJNaWNyb01vZGFsIiwiX3JlZiIsInRhcmdldE1vZGFsIiwiX3JlZiR0cmlnZ2VycyIsInRyaWdnZXJzIiwiX3JlZiRvblNob3ciLCJvblNob3ciLCJfcmVmJG9uQ2xvc2UiLCJvbkNsb3NlIiwiX3JlZiRvcGVuVHJpZ2dlciIsIm9wZW5UcmlnZ2VyIiwiX3JlZiRjbG9zZVRyaWdnZXIiLCJjbG9zZVRyaWdnZXIiLCJfcmVmJG9wZW5DbGFzcyIsIm9wZW5DbGFzcyIsIl9yZWYkZGlzYWJsZVNjcm9sbCIsImRpc2FibGVTY3JvbGwiLCJfcmVmJGRpc2FibGVGb2N1cyIsImRpc2FibGVGb2N1cyIsIl9yZWYkYXdhaXRDbG9zZUFuaW1hdCIsImF3YWl0Q2xvc2VBbmltYXRpb24iLCJfcmVmJGF3YWl0T3BlbkFuaW1hdGkiLCJhd2FpdE9wZW5BbmltYXRpb24iLCJfcmVmJGRlYnVnTW9kZSIsImRlYnVnTW9kZSIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwibW9kYWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29uZmlnIiwicmVnaXN0ZXJUcmlnZ2VycyIsImFwcGx5Iiwib25DbGljayIsImJpbmQiLCJvbktleWRvd24iLCJwcm90b1Byb3BzIiwidmFsdWUiLCJfdGhpcyIsIl9sZW4iLCJhcmd1bWVudHMiLCJfa2V5IiwiZmlsdGVyIiwiQm9vbGVhbiIsImZvckVhY2giLCJ0cmlnZ2VyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwic2hvd01vZGFsIiwiX3RoaXMyIiwidW5kZWZpbmVkIiwiYWN0aXZlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFkZCIsInNjcm9sbEJlaGF2aW91ciIsImFkZEV2ZW50TGlzdGVuZXJzIiwiaGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRGb2N1c1RvRmlyc3ROb2RlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJmb2N1cyIsInJlbW92ZSIsImNsb3NlTW9kYWwiLCJ0b2dnbGUiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsImFzc2lnbiIsInN0eWxlIiwib3ZlcmZsb3ciLCJoYXNBdHRyaWJ1dGUiLCJrZXlDb2RlIiwicmV0YWluRm9jdXMiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdGhpczMiLCJmb2N1c2FibGVOb2RlcyIsImdldEZvY3VzYWJsZU5vZGVzIiwibm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cyIsIm5vZGUiLCJvZmZzZXRQYXJlbnQiLCJjb250YWlucyIsImZvY3VzZWRJdGVtSW5kZXgiLCJpbmRleE9mIiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImlkIiwiY29uc29sZSIsIndhcm4iLCJjb25jYXQiLCJ0cmlnZ2VyTWFwIiwidmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UiLCJpbml0Iiwib3B0aW9ucyIsInRyaWdnZXJBdHRyIiwiYXR0cmlidXRlcyIsInB1c2giLCJnZW5lcmF0ZVRyaWdnZXJNYXAiLCJzaG93IiwiY2xvc2UiLCJjbG9zZU1vZGFsQnlJZCIsIndpbmRvdyIsInNpbVNoYWRlclNvdXJjZSIsInJlbmRlclNoYWRlclNvdXJjZSIsImludGVyYWN0aW9uU2hhZGVyU291cmNlIiwiY2FudmFzIiwiZ3BncHUiLCJHUEdQVSIsIm1lc3NhZ2UiLCJlcnJvckVsIiwiaW5uZXJIVE1MIiwiY292ZXJJbWciLCJkaXNwbGF5IiwiZGlzYWJsZVpvb20iLCJlIiwic2NhbGUiLCJ3ZWJraXRUcmFuc2Zvcm0iLCJtc1RyYW5zZm9ybSIsInRyYW5zZm9ybSIsIm9uUmVzaXplIiwid2lkdGgiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImNsaWVudEhlaWdodCIsImluaXRUZXh0dXJlIiwic2V0UHJvZ3JhbVVuaWZvcm0iLCJpbml0UHJvZ3JhbSIsImRhdGFUeXBlIiwic3RlcENpcmNsZSIsImNsaWVudFgiLCJjbGllbnRZIiwidG91Y2hlcyIsInRvdWNoIiwicGFnZVgiLCJwYWdlWSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInN0ZXAiLCJzdGVwTm9uQm91bmRhcnkiLCJzd2FwVGV4dHVyZXMiLCJleHBvcnRzIiwiRGVmYXVsdFZlcnRleFNoYWRlcl8xIiwiY29uc3RhbnRzXzEiLCJmc1F1YWRQb3NpdGlvbnMiLCJGbG9hdDMyQXJyYXkiLCJib3VuZGFyeVBvc2l0aW9ucyIsInVuaXRDaXJjbGVQb2ludHMiLCJNYXRoIiwiY29zIiwiUEkiLCJzaW4iLCJjaXJjbGVQb3NpdGlvbnMiLCJnbCIsImNhbnZhc0VsIiwiZXJyb3JDYWxsYmFjayIsIkVycm9yIiwiZXh0ZW5zaW9ucyIsImVycm9yU3RhdGUiLCJwcm9ncmFtcyIsInRleHR1cmVzIiwiZnJhbWVidWZmZXJzIiwic2hhZGVycyIsInNlbGYiLCJnZXRDb250ZXh0IiwiYW50aWFsaWFzIiwiaXNXZWJHTDIiLCJIQUxGX0ZMT0FUIiwibG9nIiwibG9hZEV4dGVuc2lvbiIsImxpbmVhckZpbHRlckVuYWJsZWQiLCJkaXNhYmxlIiwiREVQVEhfVEVTVCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX0FMSUdOTUVOVCIsImRlZmF1bHRWZXJ0ZXhTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiZGVmYXVsdCIsIlZFUlRFWF9TSEFERVIiLCJxdWFkUG9zaXRpb25zQnVmZmVyIiwiaW5pdFZlcnRleEJ1ZmZlciIsImJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyIiwiY2lyY2xlUG9zaXRpb25zQnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIm1heFRleHR1cmVzSW5GcmFnbWVudFNoYWRlciIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiZGF0YSIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImJ1ZmZlckRhdGEiLCJTVEFUSUNfRFJBVyIsImV4dGVuc2lvbiIsIm9wdGlvbmFsIiwiZXh0IiwiX2EiLCJnZXRFeHRlbnNpb24iLCJzaGFkZXJTb3VyY2UiLCJzaGFkZXJUeXBlIiwic2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJGUkFHTUVOVF9TSEFERVIiLCJnZXRTaGFkZXJJbmZvTG9nIiwicHJvZ3JhbU5hbWUiLCJmcmFnbWVudFNoYWRlclNvdXJjZSIsInVuaWZvcm1zIiwidXNlUHJvZ3JhbSIsInByb2dyYW0iLCJmcmFnbWVudFNoYWRlciIsInZlcnRleFNoYWRlciIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwidW5pZm9ybSIsInVuaWZvcm1UeXBlRm9yVmFsdWUiLCJGTE9BVF9UWVBFIiwiaXNOYU4iLCJGTE9BVF8xRF9VTklGT1JNIiwiRkxPQVRfMkRfVU5JRk9STSIsIkZMT0FUXzNEX1VOSUZPUk0iLCJGTE9BVF80RF9VTklGT1JNIiwiSU5UX1RZUEUiLCJJTlRfMURfVU5JRk9STSIsIklOVF8yRF9VTklGT1JNIiwiSU5UXzNEX1VOSUZPUk0iLCJJTlRfNERfVU5JRk9STSIsInVuaWZvcm1OYW1lIiwidHlwZSIsImxvY2F0aW9uXzEiLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJnZXRFcnJvciIsImxvY2F0aW9uIiwidW5pZm9ybTFmIiwidW5pZm9ybTJmdiIsInVuaWZvcm0zZnYiLCJ1bmlmb3JtNGZ2IiwidW5pZm9ybTFpIiwidW5pZm9ybTJpdiIsInVuaWZvcm0zaXYiLCJ1bmlmb3JtNGl2IiwiaW5pdEZyYW1lYnVmZmVyRm9yVGV4dHVyZSIsInRleHR1cmVOYW1lIiwic2hvdWxkT3ZlcndyaXRlIiwiZGVsZXRlRnJhbWVidWZmZXIiLCJ0ZXh0dXJlIiwiZnJhbWVidWZmZXIiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsIlRFWFRVUkVfMkQiLCJzdGF0dXMiLCJjaGVja0ZyYW1lYnVmZmVyU3RhdHVzIiwiRlJBTUVCVUZGRVJfQ09NUExFVEUiLCJnbFRleHR1cmVQYXJhbWV0ZXJzIiwibnVtQ2hhbm5lbHMiLCJnbFR5cGUiLCJnbEZvcm1hdCIsImdsSW50ZXJuYWxGb3JtYXQiLCJnbE51bUNoYW5uZWxzIiwiUkVEIiwiUkciLCJSR0IiLCJSR0JBIiwiUjE2RiIsIlJHMTZGIiwiUkdCMTZGIiwiUkdCQTE2RiIsIlVOU0lHTkVEX0JZVEUiLCJSOCIsIlJHOCIsIlJHQjgiLCJSR0JBOCIsIkhBTEZfRkxPQVRfT0VTIiwiZGVsZXRlVGV4dHVyZSIsImNyZWF0ZVRleHR1cmUiLCJiaW5kVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX1dSQVBfUyIsIkNMQU1QX1RPX0VER0UiLCJURVhUVVJFX1dSQVBfVCIsIk5FQVJFU1QiLCJURVhUVVJFX01JTl9GSUxURVIiLCJURVhUVVJFX01BR19GSUxURVIiLCJfYiIsImltYWdlU2l6ZSIsIm5ld0FycmF5IiwiVWludDhBcnJheSIsImoiLCJ0ZXhJbWFnZTJEIiwidmlld3BvcnQiLCJfc3RlcCIsImlucHV0VGV4dHVyZXMiLCJvdXRwdXRUZXh0dXJlIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwicG9zaXRpb25Mb2NhdGlvbiIsImdldEF0dHJpYkxvY2F0aW9uIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJzdGVwQm91bmRhcnkiLCJvbmVQeCIsIkxJTkVfTE9PUCIsInBvc2l0aW9uIiwicmFkaXVzIiwiVFJJQU5HTEVfRkFOIiwiTlVNX1NFR01FTlRTX0NJUkNMRSIsInRleHR1cmUxTmFtZSIsInRleHR1cmUyTmFtZSIsInRlbXAiLCJyZXNldCIsImtleXMiLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwic3BsaWNlIiwiU2luZ2xlQ29sb3JGcmFnU2hhZGVyIiwiR1BHUFVfMSIsImdldCIsIlNpbmdsZUNvbG9yRnJhZ1NoYWRlcl8xIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwib2JqIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiciIsInRvU3RyaW5nVGFnIl0sIm1hcHBpbmdzIjoid0NBTUEsU0FBU0EsRUFBa0JDLEVBQVFDLEdBQ2pDLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQ3JDLElB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LEVBQW9CRCxHQUFVSCxFQUFRQSxFQUFPNUwsUUFBUzhMLEdBRy9DRixFQUFPNUwsUUNuQmY4TCxFQUFvQkcsRUFBSSxDQUFDak0sRUFBU2tNLEtBQ2pDLElBQUksSUFBSS9XLEtBQU8rVyxFQUNYSixFQUFvQi9WLEVBQUVtVyxFQUFZL1csS0FBUzJXLEVBQW9CL1YsRUFBRWlLLEVBQVM3SyxJQUM1RUYsT0FBT0MsZUFBZThLLEVBQVM3SyxFQUFLLENBQUVMLFlBQVksRUFBTTRXLElBQUtRLEVBQVcvVyxNQ0ozRTJXLEVBQW9CL1YsRUFBSSxDQUFDb1csRUFBS0MsSUFBU25YLE9BQU9pQixVQUFVbVcsZUFBZWpXLEtBQUsrVixFQUFLQyxHQ0NqRk4sRUFBb0JRLEVBQUt0TSxJQUNILG9CQUFYckssUUFBMEJBLE9BQU80VyxhQUMxQ3RYLE9BQU9DLGVBQWU4SyxFQUFTckssT0FBTzRXLFlBQWEsQ0FBRTdTLE1BQU8sV0FFN0R6RSxPQUFPQyxlQUFlOEssRUFBUyxhQUFjLENBQUV0RyxPQUFPLEtDSHZEb1MsRUFBb0IsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShuKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbnZhciBNaWNyb01vZGFsID0gZnVuY3Rpb24gKCkge1xuXG4gIHZhciBGT0NVU0FCTEVfRUxFTUVOVFMgPSBbJ2FbaHJlZl0nLCAnYXJlYVtocmVmXScsICdpbnB1dDpub3QoW2Rpc2FibGVkXSk6bm90KFt0eXBlPVwiaGlkZGVuXCJdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAnc2VsZWN0Om5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSknLCAndGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICdidXR0b246bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKScsICdpZnJhbWUnLCAnb2JqZWN0JywgJ2VtYmVkJywgJ1tjb250ZW50ZWRpdGFibGVdJywgJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleF49XCItXCJdKSddO1xuXG4gIHZhciBNb2RhbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kYWwoX3JlZikge1xuICAgICAgdmFyIHRhcmdldE1vZGFsID0gX3JlZi50YXJnZXRNb2RhbCxcbiAgICAgICAgICBfcmVmJHRyaWdnZXJzID0gX3JlZi50cmlnZ2VycyxcbiAgICAgICAgICB0cmlnZ2VycyA9IF9yZWYkdHJpZ2dlcnMgPT09IHZvaWQgMCA/IFtdIDogX3JlZiR0cmlnZ2VycyxcbiAgICAgICAgICBfcmVmJG9uU2hvdyA9IF9yZWYub25TaG93LFxuICAgICAgICAgIG9uU2hvdyA9IF9yZWYkb25TaG93ID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7fSA6IF9yZWYkb25TaG93LFxuICAgICAgICAgIF9yZWYkb25DbG9zZSA9IF9yZWYub25DbG9zZSxcbiAgICAgICAgICBvbkNsb3NlID0gX3JlZiRvbkNsb3NlID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7fSA6IF9yZWYkb25DbG9zZSxcbiAgICAgICAgICBfcmVmJG9wZW5UcmlnZ2VyID0gX3JlZi5vcGVuVHJpZ2dlcixcbiAgICAgICAgICBvcGVuVHJpZ2dlciA9IF9yZWYkb3BlblRyaWdnZXIgPT09IHZvaWQgMCA/ICdkYXRhLW1pY3JvbW9kYWwtdHJpZ2dlcicgOiBfcmVmJG9wZW5UcmlnZ2VyLFxuICAgICAgICAgIF9yZWYkY2xvc2VUcmlnZ2VyID0gX3JlZi5jbG9zZVRyaWdnZXIsXG4gICAgICAgICAgY2xvc2VUcmlnZ2VyID0gX3JlZiRjbG9zZVRyaWdnZXIgPT09IHZvaWQgMCA/ICdkYXRhLW1pY3JvbW9kYWwtY2xvc2UnIDogX3JlZiRjbG9zZVRyaWdnZXIsXG4gICAgICAgICAgX3JlZiRvcGVuQ2xhc3MgPSBfcmVmLm9wZW5DbGFzcyxcbiAgICAgICAgICBvcGVuQ2xhc3MgPSBfcmVmJG9wZW5DbGFzcyA9PT0gdm9pZCAwID8gJ2lzLW9wZW4nIDogX3JlZiRvcGVuQ2xhc3MsXG4gICAgICAgICAgX3JlZiRkaXNhYmxlU2Nyb2xsID0gX3JlZi5kaXNhYmxlU2Nyb2xsLFxuICAgICAgICAgIGRpc2FibGVTY3JvbGwgPSBfcmVmJGRpc2FibGVTY3JvbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRkaXNhYmxlU2Nyb2xsLFxuICAgICAgICAgIF9yZWYkZGlzYWJsZUZvY3VzID0gX3JlZi5kaXNhYmxlRm9jdXMsXG4gICAgICAgICAgZGlzYWJsZUZvY3VzID0gX3JlZiRkaXNhYmxlRm9jdXMgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRkaXNhYmxlRm9jdXMsXG4gICAgICAgICAgX3JlZiRhd2FpdENsb3NlQW5pbWF0ID0gX3JlZi5hd2FpdENsb3NlQW5pbWF0aW9uLFxuICAgICAgICAgIGF3YWl0Q2xvc2VBbmltYXRpb24gPSBfcmVmJGF3YWl0Q2xvc2VBbmltYXQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRhd2FpdENsb3NlQW5pbWF0LFxuICAgICAgICAgIF9yZWYkYXdhaXRPcGVuQW5pbWF0aSA9IF9yZWYuYXdhaXRPcGVuQW5pbWF0aW9uLFxuICAgICAgICAgIGF3YWl0T3BlbkFuaW1hdGlvbiA9IF9yZWYkYXdhaXRPcGVuQW5pbWF0aSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGF3YWl0T3BlbkFuaW1hdGksXG4gICAgICAgICAgX3JlZiRkZWJ1Z01vZGUgPSBfcmVmLmRlYnVnTW9kZSxcbiAgICAgICAgICBkZWJ1Z01vZGUgPSBfcmVmJGRlYnVnTW9kZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGRlYnVnTW9kZTtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsKTtcblxuICAgICAgLy8gU2F2ZSBhIHJlZmVyZW5jZSBvZiB0aGUgbW9kYWxcbiAgICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRNb2RhbCk7IC8vIFNhdmUgYSByZWZlcmVuY2UgdG8gdGhlIHBhc3NlZCBjb25maWdcblxuICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgIGRlYnVnTW9kZTogZGVidWdNb2RlLFxuICAgICAgICBkaXNhYmxlU2Nyb2xsOiBkaXNhYmxlU2Nyb2xsLFxuICAgICAgICBvcGVuVHJpZ2dlcjogb3BlblRyaWdnZXIsXG4gICAgICAgIGNsb3NlVHJpZ2dlcjogY2xvc2VUcmlnZ2VyLFxuICAgICAgICBvcGVuQ2xhc3M6IG9wZW5DbGFzcyxcbiAgICAgICAgb25TaG93OiBvblNob3csXG4gICAgICAgIG9uQ2xvc2U6IG9uQ2xvc2UsXG4gICAgICAgIGF3YWl0Q2xvc2VBbmltYXRpb246IGF3YWl0Q2xvc2VBbmltYXRpb24sXG4gICAgICAgIGF3YWl0T3BlbkFuaW1hdGlvbjogYXdhaXRPcGVuQW5pbWF0aW9uLFxuICAgICAgICBkaXNhYmxlRm9jdXM6IGRpc2FibGVGb2N1c1xuICAgICAgfTsgLy8gUmVnaXN0ZXIgY2xpY2sgZXZlbnRzIG9ubHkgaWYgcHJlIGJpbmRpbmcgZXZlbnRMaXN0ZW5lcnNcblxuICAgICAgaWYgKHRyaWdnZXJzLmxlbmd0aCA+IDApIHRoaXMucmVnaXN0ZXJUcmlnZ2Vycy5hcHBseSh0aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkodHJpZ2dlcnMpKTsgLy8gcHJlIGJpbmQgZnVuY3Rpb25zIGZvciBldmVudCBsaXN0ZW5lcnNcblxuICAgICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLm9uS2V5ZG93biA9IHRoaXMub25LZXlkb3duLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb3BzIHRocm91Z2ggYWxsIG9wZW5UcmlnZ2VycyBhbmQgYmluZHMgY2xpY2sgZXZlbnRcbiAgICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlcnMgW0FycmF5IG9mIG5vZGUgZWxlbWVudHNdXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE1vZGFsLCBbe1xuICAgICAga2V5OiBcInJlZ2lzdGVyVHJpZ2dlcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlclRyaWdnZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB0cmlnZ2VycyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICB0cmlnZ2Vyc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyaWdnZXJzLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmlnZ2VyKSB7XG4gICAgICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNob3dNb2RhbChldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzaG93TW9kYWxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93TW9kYWwoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgdGhpcy5hY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgdGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5vcGVuQ2xhc3MpO1xuICAgICAgICB0aGlzLnNjcm9sbEJlaGF2aW91cignZGlzYWJsZScpO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF3YWl0T3BlbkFuaW1hdGlvbikge1xuICAgICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgICAgIF90aGlzMi5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBoYW5kbGVyLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIF90aGlzMi5zZXRGb2N1c1RvRmlyc3ROb2RlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHRoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0Rm9jdXNUb0ZpcnN0Tm9kZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb25maWcub25TaG93KHRoaXMubW9kYWwsIHRoaXMuYWN0aXZlRWxlbWVudCwgZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZU1vZGFsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuICAgICAgICB2YXIgbW9kYWwgPSB0aGlzLm1vZGFsO1xuICAgICAgICB0aGlzLm1vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmVoYXZpb3VyKCdlbmFibGUnKTtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVFbGVtZW50ICYmIHRoaXMuYWN0aXZlRWxlbWVudC5mb2N1cykge1xuICAgICAgICAgIHRoaXMuYWN0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb25maWcub25DbG9zZSh0aGlzLm1vZGFsLCB0aGlzLmFjdGl2ZUVsZW1lbnQsIGV2ZW50KTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuYXdhaXRDbG9zZUFuaW1hdGlvbikge1xuICAgICAgICAgIHZhciBvcGVuQ2xhc3MgPSB0aGlzLmNvbmZpZy5vcGVuQ2xhc3M7IC8vIDwtIG9sZCBzY2hvb2wgZnR3XG5cbiAgICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKG9wZW5DbGFzcyk7XG4gICAgICAgICAgICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcub3BlbkNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZU1vZGFsQnlJZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlTW9kYWxCeUlkKHRhcmdldE1vZGFsKSB7XG4gICAgICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRNb2RhbCk7XG4gICAgICAgIGlmICh0aGlzLm1vZGFsKSB0aGlzLmNsb3NlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2Nyb2xsQmVoYXZpb3VyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsQmVoYXZpb3VyKHRvZ2dsZSkge1xuICAgICAgICBpZiAoIXRoaXMuY29uZmlnLmRpc2FibGVTY3JvbGwpIHJldHVybjtcbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG5cbiAgICAgICAgc3dpdGNoICh0b2dnbGUpIHtcbiAgICAgICAgICBjYXNlICdlbmFibGUnOlxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihib2R5LnN0eWxlLCB7XG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2Rpc2FibGUnOlxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihib2R5LnN0eWxlLCB7XG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJhZGRFdmVudExpc3RlbmVyc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICB0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlkb3duKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVtb3ZlRXZlbnRMaXN0ZW5lcnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgdGhpcy5tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5ZG93bik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9uQ2xpY2tcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQuaGFzQXR0cmlidXRlKHRoaXMuY29uZmlnLmNsb3NlVHJpZ2dlcikpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlTW9kYWwoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9uS2V5ZG93blwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5ZG93bihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMjcpIHRoaXMuY2xvc2VNb2RhbChldmVudCk7IC8vIGVzY1xuXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSA5KSB0aGlzLnJldGFpbkZvY3VzKGV2ZW50KTsgLy8gdGFiXG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEZvY3VzYWJsZU5vZGVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlTm9kZXMoKSB7XG4gICAgICAgIHZhciBub2RlcyA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvckFsbChGT0NVU0FCTEVfRUxFTUVOVFMpO1xuICAgICAgICByZXR1cm4gQXJyYXkuYXBwbHkodm9pZCAwLCBfdG9Db25zdW1hYmxlQXJyYXkobm9kZXMpKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogVHJpZXMgdG8gc2V0IGZvY3VzIG9uIGEgbm9kZSB3aGljaCBpcyBub3QgYSBjbG9zZSB0cmlnZ2VyXG4gICAgICAgKiBpZiBubyBvdGhlciBub2RlcyBleGlzdCB0aGVuIGZvY3VzZXMgb24gZmlyc3QgY2xvc2UgdHJpZ2dlclxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0Rm9jdXNUb0ZpcnN0Tm9kZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZvY3VzVG9GaXJzdE5vZGUoKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5kaXNhYmxlRm9jdXMpIHJldHVybjtcbiAgICAgICAgdmFyIGZvY3VzYWJsZU5vZGVzID0gdGhpcy5nZXRGb2N1c2FibGVOb2RlcygpOyAvLyBubyBmb2N1c2FibGUgbm9kZXNcblxuICAgICAgICBpZiAoZm9jdXNhYmxlTm9kZXMubGVuZ3RoID09PSAwKSByZXR1cm47IC8vIHJlbW92ZSBub2RlcyBvbiB3aG9zZSBjbGljaywgdGhlIG1vZGFsIGNsb3Nlc1xuICAgICAgICAvLyBjb3VsZCBub3QgdGhpbmsgb2YgYSBiZXR0ZXIgbmFtZSA6KFxuXG4gICAgICAgIHZhciBub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzID0gZm9jdXNhYmxlTm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgcmV0dXJuICFub2RlLmhhc0F0dHJpYnV0ZShfdGhpczMuY29uZmlnLmNsb3NlVHJpZ2dlcik7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobm9kZXNXaGljaEFyZU5vdENsb3NlVGFyZ2V0cy5sZW5ndGggPiAwKSBub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzWzBdLmZvY3VzKCk7XG4gICAgICAgIGlmIChub2Rlc1doaWNoQXJlTm90Q2xvc2VUYXJnZXRzLmxlbmd0aCA9PT0gMCkgZm9jdXNhYmxlTm9kZXNbMF0uZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmV0YWluRm9jdXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXRhaW5Gb2N1cyhldmVudCkge1xuICAgICAgICB2YXIgZm9jdXNhYmxlTm9kZXMgPSB0aGlzLmdldEZvY3VzYWJsZU5vZGVzKCk7IC8vIG5vIGZvY3VzYWJsZSBub2Rlc1xuXG4gICAgICAgIGlmIChmb2N1c2FibGVOb2Rlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbHRlcnMgbm9kZXMgd2hpY2ggYXJlIGhpZGRlbiB0byBwcmV2ZW50XG4gICAgICAgICAqIGZvY3VzIGxlYWsgb3V0c2lkZSBtb2RhbFxuICAgICAgICAgKi9cblxuICAgICAgICBmb2N1c2FibGVOb2RlcyA9IGZvY3VzYWJsZU5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiBub2RlLm9mZnNldFBhcmVudCAhPT0gbnVsbDtcbiAgICAgICAgfSk7IC8vIGlmIGRpc2FibGVGb2N1cyBpcyB0cnVlXG5cbiAgICAgICAgaWYgKCF0aGlzLm1vZGFsLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgZm9jdXNhYmxlTm9kZXNbMF0uZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZm9jdXNlZEl0ZW1JbmRleCA9IGZvY3VzYWJsZU5vZGVzLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkgJiYgZm9jdXNlZEl0ZW1JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgZm9jdXNhYmxlTm9kZXNbZm9jdXNhYmxlTm9kZXMubGVuZ3RoIC0gMV0uZm9jdXMoKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFldmVudC5zaGlmdEtleSAmJiBmb2N1c2FibGVOb2Rlcy5sZW5ndGggPiAwICYmIGZvY3VzZWRJdGVtSW5kZXggPT09IGZvY3VzYWJsZU5vZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGZvY3VzYWJsZU5vZGVzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNb2RhbDtcbiAgfSgpO1xuICAvKipcbiAgICogTW9kYWwgcHJvdG90eXBlIGVuZHMuXG4gICAqIEhlcmUgb24gY29kZSBpcyByZXNwb25zaWJsZSBmb3IgZGV0ZWN0aW5nIGFuZFxuICAgKiBhdXRvIGJpbmRpbmcgZXZlbnQgaGFuZGxlcnMgb24gbW9kYWwgdHJpZ2dlcnNcbiAgICovXG4gIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIG9wZW5lZCBtb2RhbFxuXG5cbiAgdmFyIGFjdGl2ZU1vZGFsID0gbnVsbDtcbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhbiBhc3NvY2lhdGl2ZSBhcnJheSBvZiBtb2RhbHMgYW5kIGl0J3NcbiAgICogcmVzcGVjdGl2ZSB0cmlnZ2Vyc1xuICAgKiBAcGFyYW0gIHthcnJheX0gdHJpZ2dlcnMgICAgIEFuIGFycmF5IG9mIGFsbCB0cmlnZ2Vyc1xuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRyaWdnZXJBdHRyIFRoZSBkYXRhLWF0dHJpYnV0ZSB3aGljaCB0cmlnZ2VycyB0aGUgbW9kdWxlXG4gICAqIEByZXR1cm4ge2FycmF5fVxuICAgKi9cblxuICB2YXIgZ2VuZXJhdGVUcmlnZ2VyTWFwID0gZnVuY3Rpb24gZ2VuZXJhdGVUcmlnZ2VyTWFwKHRyaWdnZXJzLCB0cmlnZ2VyQXR0cikge1xuICAgIHZhciB0cmlnZ2VyTWFwID0gW107XG4gICAgdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgdmFyIHRhcmdldE1vZGFsID0gdHJpZ2dlci5hdHRyaWJ1dGVzW3RyaWdnZXJBdHRyXS52YWx1ZTtcbiAgICAgIGlmICh0cmlnZ2VyTWFwW3RhcmdldE1vZGFsXSA9PT0gdW5kZWZpbmVkKSB0cmlnZ2VyTWFwW3RhcmdldE1vZGFsXSA9IFtdO1xuICAgICAgdHJpZ2dlck1hcFt0YXJnZXRNb2RhbF0ucHVzaCh0cmlnZ2VyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJpZ2dlck1hcDtcbiAgfTtcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB3aGV0aGVyIGEgbW9kYWwgb2YgdGhlIGdpdmVuIGlkIGV4aXN0c1xuICAgKiBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAge251bWJlcn0gaWQgIFRoZSBpZCBvZiB0aGUgbW9kYWxcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICB2YXIgdmFsaWRhdGVNb2RhbFByZXNlbmNlID0gZnVuY3Rpb24gdmFsaWRhdGVNb2RhbFByZXNlbmNlKGlkKSB7XG4gICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk1pY3JvTW9kYWw6IFxcdTI3NTdTZWVtcyBsaWtlIHlvdSBoYXZlIG1pc3NlZCAlYydcIi5jb25jYXQoaWQsIFwiJ1wiKSwgJ2JhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7JywgJ0lEIHNvbWV3aGVyZSBpbiB5b3VyIGNvZGUuIFJlZmVyIGV4YW1wbGUgYmVsb3cgdG8gcmVzb2x2ZSBpdC4nKTtcbiAgICAgIGNvbnNvbGUud2FybihcIiVjRXhhbXBsZTpcIiwgJ2JhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7JywgXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbFxcXCIgaWQ9XFxcIlwiLmNvbmNhdChpZCwgXCJcXFwiPjwvZGl2PlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogVmFsaWRhdGVzIGlmIHRoZXJlIGFyZSBtb2RhbCB0cmlnZ2VycyBwcmVzZW50XG4gICAqIGluIHRoZSBET01cbiAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJzIEFuIGFycmF5IG9mIGRhdGEtdHJpZ2dlcnNcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG5cblxuICB2YXIgdmFsaWRhdGVUcmlnZ2VyUHJlc2VuY2UgPSBmdW5jdGlvbiB2YWxpZGF0ZVRyaWdnZXJQcmVzZW5jZSh0cmlnZ2Vycykge1xuICAgIGlmICh0cmlnZ2Vycy5sZW5ndGggPD0gMCkge1xuICAgICAgY29uc29sZS53YXJuKFwiTWljcm9Nb2RhbDogXFx1Mjc1N1BsZWFzZSBzcGVjaWZ5IGF0IGxlYXN0IG9uZSAlYydtaWNyb21vZGFsLXRyaWdnZXInXCIsICdiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkOycsICdkYXRhIGF0dHJpYnV0ZS4nKTtcbiAgICAgIGNvbnNvbGUud2FybihcIiVjRXhhbXBsZTpcIiwgJ2JhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7JywgXCI8YSBocmVmPVxcXCIjXFxcIiBkYXRhLW1pY3JvbW9kYWwtdHJpZ2dlcj1cXFwibXktbW9kYWxcXFwiPjwvYT5cIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ2hlY2tzIGlmIHRyaWdnZXJzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG1vZGFsc1xuICAgKiBhcmUgcHJlc2VudCBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAge2FycmF5fSB0cmlnZ2VycyAgIEFycmF5IG9mIERPTSBub2RlcyB3aGljaCBoYXZlIGRhdGEtdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7YXJyYXl9IHRyaWdnZXJNYXAgQXNzb2NpYXRpdmUgYXJyYXkgb2YgbW9kYWxzIGFuZCB0aGVpciB0cmlnZ2Vyc1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHZhciB2YWxpZGF0ZUFyZ3MgPSBmdW5jdGlvbiB2YWxpZGF0ZUFyZ3ModHJpZ2dlcnMsIHRyaWdnZXJNYXApIHtcbiAgICB2YWxpZGF0ZVRyaWdnZXJQcmVzZW5jZSh0cmlnZ2Vycyk7XG4gICAgaWYgKCF0cmlnZ2VyTWFwKSByZXR1cm4gdHJ1ZTtcblxuICAgIGZvciAodmFyIGlkIGluIHRyaWdnZXJNYXApIHtcbiAgICAgIHZhbGlkYXRlTW9kYWxQcmVzZW5jZShpZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBCaW5kcyBjbGljayBoYW5kbGVycyB0byBhbGwgbW9kYWwgdHJpZ2dlcnNcbiAgICogQHBhcmFtICB7b2JqZWN0fSBjb25maWcgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG5cblxuICB2YXIgaW5pdCA9IGZ1bmN0aW9uIGluaXQoY29uZmlnKSB7XG4gICAgLy8gQ3JlYXRlIGFuIGNvbmZpZyBvYmplY3Qgd2l0aCBkZWZhdWx0IG9wZW5UcmlnZ2VyXG4gICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICBvcGVuVHJpZ2dlcjogJ2RhdGEtbWljcm9tb2RhbC10cmlnZ2VyJ1xuICAgIH0sIGNvbmZpZyk7IC8vIENvbGxlY3RzIGFsbCB0aGUgbm9kZXMgd2l0aCB0aGUgdHJpZ2dlclxuXG4gICAgdmFyIHRyaWdnZXJzID0gX3RvQ29uc3VtYWJsZUFycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIuY29uY2F0KG9wdGlvbnMub3BlblRyaWdnZXIsIFwiXVwiKSkpOyAvLyBNYWtlcyBhIG1hcHBpbmdzIG9mIG1vZGFscyB3aXRoIHRoZWlyIHRyaWdnZXIgbm9kZXNcblxuXG4gICAgdmFyIHRyaWdnZXJNYXAgPSBnZW5lcmF0ZVRyaWdnZXJNYXAodHJpZ2dlcnMsIG9wdGlvbnMub3BlblRyaWdnZXIpOyAvLyBDaGVja3MgaWYgbW9kYWxzIGFuZCB0cmlnZ2VycyBleGlzdCBpbiBkb21cblxuICAgIGlmIChvcHRpb25zLmRlYnVnTW9kZSA9PT0gdHJ1ZSAmJiB2YWxpZGF0ZUFyZ3ModHJpZ2dlcnMsIHRyaWdnZXJNYXApID09PSBmYWxzZSkgcmV0dXJuOyAvLyBGb3IgZXZlcnkgdGFyZ2V0IG1vZGFsIGNyZWF0ZXMgYSBuZXcgaW5zdGFuY2VcblxuICAgIGZvciAodmFyIGtleSBpbiB0cmlnZ2VyTWFwKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0cmlnZ2VyTWFwW2tleV07XG4gICAgICBvcHRpb25zLnRhcmdldE1vZGFsID0ga2V5O1xuICAgICAgb3B0aW9ucy50cmlnZ2VycyA9IF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZSk7XG4gICAgICBhY3RpdmVNb2RhbCA9IG5ldyBNb2RhbChvcHRpb25zKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBTaG93cyBhIHBhcnRpY3VsYXIgbW9kYWxcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0YXJnZXRNb2RhbCBbVGhlIGlkIG9mIHRoZSBtb2RhbCB0byBkaXNwbGF5XVxuICAgKiBAcGFyYW0gIHtvYmplY3R9IGNvbmZpZyBbVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIHBhc3NdXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuXG5cbiAgdmFyIHNob3cgPSBmdW5jdGlvbiBzaG93KHRhcmdldE1vZGFsLCBjb25maWcpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGNvbmZpZyB8fCB7fTtcbiAgICBvcHRpb25zLnRhcmdldE1vZGFsID0gdGFyZ2V0TW9kYWw7IC8vIENoZWNrcyBpZiBtb2RhbHMgYW5kIHRyaWdnZXJzIGV4aXN0IGluIGRvbVxuXG4gICAgaWYgKG9wdGlvbnMuZGVidWdNb2RlID09PSB0cnVlICYmIHZhbGlkYXRlTW9kYWxQcmVzZW5jZSh0YXJnZXRNb2RhbCkgPT09IGZhbHNlKSByZXR1cm47IC8vIGNsZWFyIGV2ZW50cyBpbiBjYXNlIHByZXZpb3VzIG1vZGFsIHdhc24ndCBjbG9zZVxuXG4gICAgaWYgKGFjdGl2ZU1vZGFsKSBhY3RpdmVNb2RhbC5yZW1vdmVFdmVudExpc3RlbmVycygpOyAvLyBzdG9yZXMgcmVmZXJlbmNlIHRvIGFjdGl2ZSBtb2RhbFxuXG4gICAgYWN0aXZlTW9kYWwgPSBuZXcgTW9kYWwob3B0aW9ucyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG5cbiAgICBhY3RpdmVNb2RhbC5zaG93TW9kYWwoKTtcbiAgfTtcbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgYWN0aXZlIG1vZGFsXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGFyZ2V0TW9kYWwgW1RoZSBpZCBvZiB0aGUgbW9kYWwgdG8gY2xvc2VdXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuXG5cbiAgdmFyIGNsb3NlID0gZnVuY3Rpb24gY2xvc2UodGFyZ2V0TW9kYWwpIHtcbiAgICB0YXJnZXRNb2RhbCA/IGFjdGl2ZU1vZGFsLmNsb3NlTW9kYWxCeUlkKHRhcmdldE1vZGFsKSA6IGFjdGl2ZU1vZGFsLmNsb3NlTW9kYWwoKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGluaXQ6IGluaXQsXG4gICAgc2hvdzogc2hvdyxcbiAgICBjbG9zZTogY2xvc2VcbiAgfTtcbn0oKTtcbndpbmRvdy5NaWNyb01vZGFsID0gTWljcm9Nb2RhbDtcblxuZXhwb3J0IGRlZmF1bHQgTWljcm9Nb2RhbDtcbiIsImltcG9ydCB7IEdQR1BVIH0gZnJvbSAnd2ViZ2wtZ3BncHUnO1xuaW1wb3J0IE1pY3JvTW9kYWwgZnJvbSAnbWljcm9tb2RhbCc7XG5jb25zdCBzaW1TaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvU2ltU2hhZGVyLmdsc2wnKTtcbmNvbnN0IHJlbmRlclNoYWRlclNvdXJjZSA9IHJlcXVpcmUoJy4va2VybmVscy9SZW5kZXJTaGFkZXIuZ2xzbCcpO1xuY29uc3QgaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvSW50ZXJhY3Rpb25TaGFkZXIuZ2xzbCcpO1xuXG4vLyBJbml0IGhlbHAgbW9kYWwuXG5NaWNyb01vZGFsLmluaXQoKTtcblxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsY2FudmFzJykgIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuY29uc3QgZ3BncHUgPSBuZXcgR1BHUFUobnVsbCwgY2FudmFzLCAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG5cdC8vIFNob3cgZXJyb3IgbW9kYWwuXG5cdE1pY3JvTW9kYWwuc2hvdygnbW9kYWwtMicpO1xuXHRjb25zdCBlcnJvckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsRXJyb3JNc2cnKTtcblx0aWYgKGVycm9yRWwpIGVycm9yRWwuaW5uZXJIVE1MID1gRXJyb3I6ICR7bWVzc2FnZX1gO1xuXHRjb25zdCBjb3ZlckltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3ZlckltZycpO1xuXHRpZiAoY292ZXJJbWcpIGNvdmVySW1nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufSk7XG5cbi8vIEluaXQgcHJvZ3JhbXMuXG5ncGdwdS5pbml0UHJvZ3JhbSgnc2ltJywgc2ltU2hhZGVyU291cmNlLCBbXG5cdHtcblx0XHRuYW1lOiAndV9zdGF0ZScsXG5cdFx0dmFsdWU6IDAsXG5cdFx0ZGF0YVR5cGU6ICdJTlQnLFxuXHR9LFxuXHR7XG5cdFx0bmFtZTogJ3VfcHhTaXplJyxcblx0XHR2YWx1ZTogWzEgLyBjYW52YXMuY2xpZW50V2lkdGgsIDEgLyBjYW52YXMuY2xpZW50SGVpZ2h0XSxcblx0XHRkYXRhVHlwZTogJ0ZMT0FUJyxcblx0fSxcbl0pO1xuZ3BncHUuaW5pdFByb2dyYW0oJ3JlbmRlcicsIHJlbmRlclNoYWRlclNvdXJjZSwgW1xuXHR7XG5cdFx0bmFtZTogJ3Vfc3RhdGUnLFxuXHRcdHZhbHVlOiAwLFxuXHRcdGRhdGFUeXBlOiAnSU5UJyxcblx0fSxcbl0pO1xuZ3BncHUuaW5pdFByb2dyYW0oJ2ludGVyYWN0aW9uJywgaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X3N0YXRlJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5dKTtcblxuLy8gU2V0IHVwIGludGVyYWN0aW9ucy5cbmNvbnN0IFRPVUNIX1JBRElVUyA9IDEwO1xuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlOiBNb3VzZUV2ZW50KSA9PiB7XG5cdGdwZ3B1LnN0ZXBDaXJjbGUoJ2ludGVyYWN0aW9uJywgW2UuY2xpZW50WCwgZS5jbGllbnRZXSwgVE9VQ0hfUkFESVVTLCBbJ2N1cnJlbnRTdGF0ZSddLCAnbGFzdFN0YXRlJyk7XG59KTtcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZTogVG91Y2hFdmVudCkgPT4ge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZS50b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgdG91Y2ggPSBlLnRvdWNoZXNbaV07XG5cdFx0Z3BncHUuc3RlcENpcmNsZSgnaW50ZXJhY3Rpb24nLCBbdG91Y2gucGFnZVgsIHRvdWNoLnBhZ2VZXSwgVE9VQ0hfUkFESVVTLCBbJ2N1cnJlbnRTdGF0ZSddLCAnbGFzdFN0YXRlJyk7XG5cdH1cbn0pO1xuLy8gRGlzYWJsZSBvdGhlciBnZXN0dXJlcy5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVzdGFydCcsIGRpc2FibGVab29tKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVjaGFuZ2UnLCBkaXNhYmxlWm9vbSk7IFxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZ2VzdHVyZWVuZCcsIGRpc2FibGVab29tKTtcbmZ1bmN0aW9uIGRpc2FibGVab29tKGU6IEV2ZW50KSB7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0Y29uc3Qgc2NhbGUgPSAnc2NhbGUoMSknO1xuXHQvLyBAdHMtaWdub3JlXG5cdGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gIHNjYWxlOyAgICAvLyBDaHJvbWUsIE9wZXJhLCBTYWZhcmlcblx0Ly8gQHRzLWlnbm9yZVxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNmb3JtID0gICBzY2FsZTsgICAgICAgLy8gSUUgOVxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSA9IHNjYWxlO1xufVxuXG4vLyBBZGQgcmVzaXplIGxpc3RlbmVyLlxub25SZXNpemUoKTtcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZSk7XG5cbmZ1bmN0aW9uIG9uUmVzaXplKCkge1xuXHQvLyBSZS1pbml0IHRleHR1cmVzIGF0IG5ldyBzaXplLlxuXHRjb25zdCB3aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcblx0Y29uc3QgaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcblx0Z3BncHUuaW5pdFRleHR1cmUoJ2N1cnJlbnRTdGF0ZScsIHdpZHRoLCBoZWlnaHQsICdmbG9hdDE2JywgMywgdHJ1ZSwgdW5kZWZpbmVkLCB0cnVlKTtcblx0Z3BncHUuaW5pdFRleHR1cmUoJ2xhc3RTdGF0ZScsIHdpZHRoLCBoZWlnaHQsICdmbG9hdDE2JywgMywgdHJ1ZSwgdW5kZWZpbmVkLCB0cnVlKTtcblx0Z3BncHUuc2V0UHJvZ3JhbVVuaWZvcm0oJ3NpbScsICd1X3B4U2l6ZScsIFsxIC8gd2lkdGgsIDEgLyBoZWlnaHRdLCAnRkxPQVQnKTtcblx0Z3BncHUub25SZXNpemUoY2FudmFzKTtcbn1cblxuLy8gU3RhcnQgcmVuZGVyIGxvb3AuXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuXG5mdW5jdGlvbiBzdGVwKCkge1xuXHQvLyBDb21wdXRlIHNpbXVsYXRpb24uXG5cdGdwZ3B1LnN0ZXBOb25Cb3VuZGFyeSgnc2ltJywgWydsYXN0U3RhdGUnXSwgJ2N1cnJlbnRTdGF0ZScpO1xuXHQvLyBSZW5kZXIgY3VycmVudCBzdGF0ZS5cblx0Z3BncHUuc3RlcCgncmVuZGVyJywgWydjdXJyZW50U3RhdGUnXSk7XG5cdC8vIFRvZ2dsZSB0ZXh0dXJlcy5cblx0Z3BncHUuc3dhcFRleHR1cmVzKCdjdXJyZW50U3RhdGUnLCAnbGFzdFN0YXRlJyk7XG5cdC8vIFN0YXJ0IGEgbmV3IHJlbmRlciBjeWNsZS5cblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR1BHUFUgPSB2b2lkIDA7XG52YXIgRGVmYXVsdFZlcnRleFNoYWRlcl8xID0gcmVxdWlyZShcIi4va2VybmVscy9EZWZhdWx0VmVydGV4U2hhZGVyXCIpO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIGZzUXVhZFBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgMSwgLTEsIC0xLCAxLCAxLCAxXSk7XG52YXIgYm91bmRhcnlQb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAxLCAxLCAtMSwgMV0pO1xudmFyIHVuaXRDaXJjbGVQb2ludHMgPSBbMCwgMF07XG52YXIgTlVNX1NFR01FTlRTX0NJUkNMRSA9IDIwO1xuZm9yICh2YXIgaSA9IDA7IGkgPD0gTlVNX1NFR01FTlRTX0NJUkNMRTsgaSsrKSB7XG4gICAgdW5pdENpcmNsZVBvaW50cy5wdXNoKE1hdGguY29zKDIgKiBNYXRoLlBJICogaSAvIE5VTV9TRUdNRU5UU19DSVJDTEUpLCBNYXRoLnNpbigyICogTWF0aC5QSSAqIGkgLyBOVU1fU0VHTUVOVFNfQ0lSQ0xFKSk7XG59XG52YXIgY2lyY2xlUG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheSh1bml0Q2lyY2xlUG9pbnRzKTtcbi8vIFN0b3JlIGV4dGVuc2lvbiBuYW1lcyBhcyBjb25zdGFudHMuXG52YXIgT0VTX1RFWFRVUkVfSEFMRl9GTE9BVCA9ICdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0JztcbnZhciBPRVNfVEVYVFVSRV9IQWxGX0ZMT0FUX0xJTkVBUiA9ICdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhcic7XG52YXIgRVhUX0NPTE9SX0JVRkZFUl9GTE9BVCA9ICdFWFRfY29sb3JfYnVmZmVyX2Zsb2F0JztcbnZhciBHUEdQVSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHUEdQVShnbCwgY2FudmFzRWwsIFxuICAgIC8vIE9wdGlvbmFsbHkgcGFzcyBpbiBhbiBlcnJvciBjYWxsYmFjayBpbiBjYXNlIHdlIHdhbnQgdG8gaGFuZGxlIGVycm9ycyByZWxhdGVkIHRvIHdlYmdsIHN1cHBvcnQuXG4gICAgLy8gZS5nLiB0aHJvdyB1cCBhIG1vZGFsIHRlbGxpbmcgdXNlciB0aGlzIHdpbGwgbm90IHdvcmsgb24gdGhlaXIgZGV2aWNlLlxuICAgIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2sgPT09IHZvaWQgMCkgeyBlcnJvckNhbGxiYWNrID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpOyB9OyB9XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuICAgICAgICB0aGlzLmVycm9yU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcm9ncmFtcyA9IHt9OyAvLyBBbGwgY3VycmVudCBnbCBwcm9ncmFtcy5cbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IHt9OyAvLyBBbGwgY3VycmVudCBnbCB0ZXh0dXJlcy5cbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlcnMgPSB7fTsgLy8gQWxsIGN1cnJlbnQgZ2wgZnJhbWVidWZmZXJzLlxuICAgICAgICB0aGlzLnNoYWRlcnMgPSBbXTsgLy8gS2VlcCB0cmFjayBvZiBhbGwgc2hhZGVycyBpbml0ZWQgc28gdGhleSBjYW4gYmUgcHJvcGVybHkgZGVhbGxvY2F0ZWQuXG4gICAgICAgIC8vIFNhdmUgY2FsbGJhY2sgaW4gY2FzZSB3ZSBydW4gaW50byBhbiBlcnJvci5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2sgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgc2VsZi5lcnJvclN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKVxuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2sobWVzc2FnZSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEluaXQgR0wuXG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIC8vIEluaXQgYSBnbCBjb250ZXh0IGlmIG5vdCBwYXNzZWQgaW4uXG4gICAgICAgICAgICBnbCA9IGNhbnZhc0VsLmdldENvbnRleHQoJ3dlYmdsMicsIHsgYW50aWFsaWFzOiBmYWxzZSB9KVxuICAgICAgICAgICAgICAgIHx8IGNhbnZhc0VsLmdldENvbnRleHQoJ3dlYmdsJywgeyBhbnRpYWxpYXM6IGZhbHNlIH0pO1xuICAgICAgICAgICAgLy8gfHwgY2FudmFzRWwuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywge2FudGlhbGlhczpmYWxzZX0pIGFzIFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgICAgICAgICBpZiAoZ2wgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBXZWJHTCBjb250ZXh0LicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzV2ViR0wyID0gISFnbC5IQUxGX0ZMT0FUO1xuICAgICAgICBpZiAodGhpcy5pc1dlYkdMMikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIFdlYkdMIDIuMCBjb250ZXh0LicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIFdlYkdMIDEuMCBjb250ZXh0LicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgLy8gR0wgc2V0dXAuXG4gICAgICAgIC8vIExvYWQgZXh0ZW5zaW9ucy5cbiAgICAgICAgLy8gVE9ETzogbG9hZCB0aGVzZSBleHRlbnNpb25zIGFzIG5lZWRlZC5cbiAgICAgICAgaWYgKHRoaXMuaXNXZWJHTDIpIHtcbiAgICAgICAgICAgIC8vIEVYVF9DT0xPUl9CVUZGRVJfRkxPQVQgYWRkcyBhYmlsaXR5IHRvIHJlbmRlciB0byBhIHZhcmlldHkgb2YgZmxvYXRpbmcgcHQgdGV4dHVyZXMuXG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdFxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQyNjI0OTMvZnJhbWVidWZmZXItaW5jb21wbGV0ZS1hdHRhY2htZW50LWZvci10ZXh0dXJlLXdpdGgtaW50ZXJuYWwtZm9ybWF0XG4gICAgICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNjEwOTM0Ny9mcmFtZWJ1ZmZlci1pbmNvbXBsZXRlLWF0dGFjaG1lbnQtb25seS1oYXBwZW5zLW9uLWFuZHJvaWQtdy1maXJlZm94XG4gICAgICAgICAgICB0aGlzLmxvYWRFeHRlbnNpb24oRVhUX0NPTE9SX0JVRkZFUl9GTE9BVCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvT0VTX3RleHR1cmVfaGFsZl9mbG9hdFxuICAgICAgICAgICAgLy8gSGFsZiBmbG9hdCBpcyBzdXBwb3J0ZWQgYnkgbW9kZXJuIG1vYmlsZSBicm93c2VycywgZmxvYXQgbm90IHlldCBzdXBwb3J0ZWQuXG4gICAgICAgICAgICAvLyBIYWxmIGZsb2F0IGlzIHByb3ZpZGVkIGJ5IGRlZmF1bHQgZm9yIFdlYmdsMiBjb250ZXh0cy5cbiAgICAgICAgICAgIC8vIFRoaXMgZXh0ZW5zaW9uIGltcGxpY2l0bHkgZW5hYmxlcyB0aGUgRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0IGV4dGVuc2lvbiAoaWYgc3VwcG9ydGVkKSwgd2hpY2ggYWxsb3dzIHJlbmRlcmluZyB0byAxNi1iaXQgZmxvYXRpbmcgcG9pbnQgZm9ybWF0cy5cbiAgICAgICAgICAgIHRoaXMubG9hZEV4dGVuc2lvbihPRVNfVEVYVFVSRV9IQUxGX0ZMT0FUKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMb2FkIG9wdGlvbmFsIGV4dGVuc2lvbnMuXG4gICAgICAgIC8vIFRPRE86IG5lZWQgdGhpcyBmb3Igd2ViZ2wyP1xuICAgICAgICB0aGlzLmxpbmVhckZpbHRlckVuYWJsZWQgPSB0aGlzLmxvYWRFeHRlbnNpb24oT0VTX1RFWFRVUkVfSEFsRl9GTE9BVF9MSU5FQVIsIHRydWUpO1xuICAgICAgICAvLyBEaXNhYmxlIGRlcHRoIHRlc3RpbmcgZ2xvYmFsbHkuXG4gICAgICAgIGdsLmRpc2FibGUoZ2wuREVQVEhfVEVTVCk7XG4gICAgICAgIC8vIFNldCB1bnBhY2sgYWxpZ25tZW50IHRvIDEgc28gd2UgY2FuIGhhdmUgdGV4dHVyZXMgb2YgYXJiaXRyYXJ5IGRpbWVuc2lvbnMuXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUxNTgyMjgyL2Vycm9yLXdoZW4tY3JlYXRpbmctdGV4dHVyZXMtaW4td2ViZ2wtd2l0aC10aGUtcmdiLWZvcm1hdFxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfQUxJR05NRU5ULCAxKTtcbiAgICAgICAgLy8gSW5pdCBhIGRlZmF1bHQgdmVydGV4IHNoYWRlciB0aGF0IGp1c3QgcGFzc2VzIHRocm91Z2ggc2NyZWVuIGNvb3Jkcy5cbiAgICAgICAgdmFyIGRlZmF1bHRWZXJ0ZXhTaGFkZXIgPSB0aGlzLmNvbXBpbGVTaGFkZXIoRGVmYXVsdFZlcnRleFNoYWRlcl8xLmRlZmF1bHQsIGdsLlZFUlRFWF9TSEFERVIpO1xuICAgICAgICBpZiAoIWRlZmF1bHRWZXJ0ZXhTaGFkZXIpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBpbml0aWFsaXplIGZ1bGxzY3JlZW4gcXVhZCB2ZXJ0ZXggc2hhZGVyLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVmYXVsdFZlcnRleFNoYWRlciA9IGRlZmF1bHRWZXJ0ZXhTaGFkZXI7XG4gICAgICAgIC8vIENyZWF0ZSB2ZXJ0ZXggYnVmZmVycy5cbiAgICAgICAgdGhpcy5xdWFkUG9zaXRpb25zQnVmZmVyID0gdGhpcy5pbml0VmVydGV4QnVmZmVyKGZzUXVhZFBvc2l0aW9ucyk7XG4gICAgICAgIHRoaXMuYm91bmRhcnlQb3NpdGlvbnNCdWZmZXIgPSB0aGlzLmluaXRWZXJ0ZXhCdWZmZXIoYm91bmRhcnlQb3NpdGlvbnMpO1xuICAgICAgICB0aGlzLmNpcmNsZVBvc2l0aW9uc0J1ZmZlciA9IHRoaXMuaW5pdFZlcnRleEJ1ZmZlcihjaXJjbGVQb3NpdGlvbnMpO1xuICAgICAgICAvLyBVbmJpbmQgYWN0aXZlIGJ1ZmZlci5cbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgICAgICAvLyBDYW52YXMgc2V0dXAuXG4gICAgICAgIHRoaXMub25SZXNpemUoY2FudmFzRWwpO1xuICAgICAgICAvLyBMb2cgbnVtYmVyIG9mIHRleHR1cmVzIGF2YWlsYWJsZS5cbiAgICAgICAgdmFyIG1heFRleHR1cmVzSW5GcmFnbWVudFNoYWRlciA9IHRoaXMuZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuICAgICAgICBjb25zb2xlLmxvZyhtYXhUZXh0dXJlc0luRnJhZ21lbnRTaGFkZXIgKyBcIiB0ZXh0dXJlcyBtYXguXCIpO1xuICAgIH1cbiAgICBHUEdQVS5wcm90b3R5cGUuaW5pdFZlcnRleEJ1ZmZlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrLCBnbCA9IF9hLmdsO1xuICAgICAgICB2YXIgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gYWxsb2NhdGUgZ2wgYnVmZmVyLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xuICAgICAgICAvLyBBZGQgdmVydGV4IGRhdGEgZm9yIGRyYXdpbmcgZnVsbCBzY3JlZW4gcXVhZCB2aWEgdHJpYW5nbGUgc3RyaXAuXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBkYXRhLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfTtcbiAgICBHUEdQVS5wcm90b3R5cGUubG9hZEV4dGVuc2lvbiA9IGZ1bmN0aW9uIChleHRlbnNpb24sIG9wdGlvbmFsKSB7XG4gICAgICAgIGlmIChvcHRpb25hbCA9PT0gdm9pZCAwKSB7IG9wdGlvbmFsID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZXh0ZW5zaW9ucyA9IF9hLmV4dGVuc2lvbnMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICB2YXIgZXh0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKGV4dGVuc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICBpZiAoZXh0KSB7XG4gICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbl0gPSBleHQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBleHRlbnNpb246IFwiICsgZXh0ZW5zaW9uICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5zdXBwb3J0ZWQgXCIgKyAob3B0aW9uYWwgPyAnb3B0aW9uYWwgJyA6ICcnKSArIFwiZXh0ZW5zaW9uOiBcIiArIGV4dGVuc2lvbiArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgZXh0ZW5zaW9uIGlzIG5vdCBvcHRpb25hbCwgdGhyb3cgZXJyb3IuXG4gICAgICAgIGlmICghZXh0ICYmICFvcHRpb25hbCkge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlJlcXVpcmVkIGV4dGVuc2lvbiB1bnN1cHBvcnRlZCBieSB0aGlzIGRldmljZSAvIGJyb3dzZXI6IFwiICsgZXh0ZW5zaW9uICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhIWV4dDtcbiAgICB9O1xuICAgIC8vIENvcGllZCBmcm9tIGh0dHA6Ly93ZWJnbGZ1bmRhbWVudGFscy5vcmcvd2ViZ2wvbGVzc29ucy93ZWJnbC1ib2lsZXJwbGF0ZS5odG1sXG4gICAgR1BHUFUucHJvdG90eXBlLmNvbXBpbGVTaGFkZXIgPSBmdW5jdGlvbiAoc2hhZGVyU291cmNlLCBzaGFkZXJUeXBlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrLCBzaGFkZXJzID0gX2Euc2hhZGVycztcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBzaGFkZXIgb2JqZWN0XG4gICAgICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7XG4gICAgICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gaW5pdCBnbCBzaGFkZXIuJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgdGhlIHNoYWRlciBzb3VyY2UgY29kZS5cbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTtcbiAgICAgICAgLy8gQ29tcGlsZSB0aGUgc2hhZGVyXG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgY29tcGlsZWRcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyk7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgLy8gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIGNvbXBpbGF0aW9uIC0gcHJpbnQgdGhlIGVycm9yLlxuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBjb21waWxlIFwiICsgKHNoYWRlclR5cGUgPT09IGdsLkZSQUdNRU5UX1NIQURFUiA/ICdmcmFnbWVudCcgOiAndmVydGV4JykgKyBcIlxcblxcdFxcdFxcdFxcdCBzaGFkZXI6IFwiICsgZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHNoYWRlcnMucHVzaChzaGFkZXIpO1xuICAgICAgICByZXR1cm4gc2hhZGVyO1xuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLmluaXRQcm9ncmFtID0gZnVuY3Rpb24gKHByb2dyYW1OYW1lLCBmcmFnbWVudFNoYWRlclNvdXJjZSwgdW5pZm9ybXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcHJvZ3JhbXMgPSBfYS5wcm9ncmFtcywgZ2wgPSBfYS5nbCwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIGlmIChwcm9ncmFtc1twcm9ncmFtTmFtZV0pIHtcbiAgICAgICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbXNbcHJvZ3JhbU5hbWVdLnByb2dyYW0pO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQWxyZWFkeSBhIHByb2dyYW0gd2l0aCB0aGUgbmFtZSBcIiArIHByb2dyYW1OYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmcmFnbWVudFNoYWRlciA9IHRoaXMuY29tcGlsZVNoYWRlcihmcmFnbWVudFNoYWRlclNvdXJjZSwgZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICAgICAgLy8gTG9hZCBmdWxsc2NyZWVuIHF1YWQgdmVydGV4IHNoYWRlciBieSBkZWZhdWx0LlxuICAgICAgICAvLyBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSB2ZXJ0ZXhTaGFkZXJTb3VyY2UgP1xuICAgICAgICAvLyBcdHRoaXMuY29tcGlsZVNoYWRlcih2ZXJ0ZXhTaGFkZXJTb3VyY2UsIGdsLlZFUlRFWF9TSEFERVIpIDpcbiAgICAgICAgLy8gXHR0aGlzLmZzUXVhZFZlcnRleFNoYWRlcjtcbiAgICAgICAgdmFyIHZlcnRleFNoYWRlciA9IHRoaXMuZGVmYXVsdFZlcnRleFNoYWRlcjtcbiAgICAgICAgaWYgKCFmcmFnbWVudFNoYWRlciB8fCAhdmVydGV4U2hhZGVyKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiVW5hYmxlIHRvIGluaXQgc2hhZGVycyBmb3IgcHJvZ3JhbSBcIiArIHByb2dyYW1OYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZSBhIHByb2dyYW0uXG4gICAgICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBpbml0IGdsIHByb2dyYW0uJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0YWNoIHRoZSBzaGFkZXJzLlxuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgLy8gTGluayB0aGUgcHJvZ3JhbS5cbiAgICAgICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGxpbmtlZC5cbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKTtcbiAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHRoZSBsaW5rLlxuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlByb2dyYW0gXCIgKyBwcm9ncmFtTmFtZSArIFwiIGZpbGVkIHRvIGxpbms6IFwiICsgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBuZXcgcHJvZ3JhbS5cbiAgICAgICAgcHJvZ3JhbXNbcHJvZ3JhbU5hbWVdID0ge1xuICAgICAgICAgICAgcHJvZ3JhbTogcHJvZ3JhbSxcbiAgICAgICAgICAgIHVuaWZvcm1zOiB7fSxcbiAgICAgICAgfTtcbiAgICAgICAgdW5pZm9ybXMgPT09IG51bGwgfHwgdW5pZm9ybXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVuaWZvcm1zLmZvckVhY2goZnVuY3Rpb24gKHVuaWZvcm0pIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdW5pZm9ybS5uYW1lLCB2YWx1ZSA9IHVuaWZvcm0udmFsdWUsIGRhdGFUeXBlID0gdW5pZm9ybS5kYXRhVHlwZTtcbiAgICAgICAgICAgIF90aGlzLnNldFByb2dyYW1Vbmlmb3JtKHByb2dyYW1OYW1lLCBuYW1lLCB2YWx1ZSwgZGF0YVR5cGUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIDtcbiAgICBHUEdQVS5wcm90b3R5cGUudW5pZm9ybVR5cGVGb3JWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZGF0YVR5cGUpIHtcbiAgICAgICAgaWYgKGRhdGFUeXBlID09PSBjb25zdGFudHNfMS5GTE9BVF9UWVBFKSB7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuRkxPQVRfMURfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuRkxPQVRfMkRfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuRkxPQVRfM0RfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuRkxPQVRfNERfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdW5pZm9ybSB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YVR5cGUgPT09IGNvbnN0YW50c18xLklOVF9UWVBFKSB7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuSU5UXzFEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLklOVF8yRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5JTlRfM0RfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuSU5UXzREX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVuaWZvcm0gdmFsdWU6IFwiICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1bmlmb3JtIGRhdGEgdHlwZTogXCIgKyBkYXRhVHlwZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5zZXRQcm9ncmFtVW5pZm9ybSA9IGZ1bmN0aW9uIChwcm9ncmFtTmFtZSwgdW5pZm9ybU5hbWUsIHZhbHVlLCBkYXRhVHlwZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBwcm9ncmFtcyA9IF9hLnByb2dyYW1zLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBwcm9ncmFtc1twcm9ncmFtTmFtZV07XG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bnQgbm90IHNldCB1bmlmb3JtLCBubyBwcm9ncmFtIG9mIG5hbWU6IFwiICsgcHJvZ3JhbU5hbWUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IGFjdGl2ZSBwcm9ncmFtLlxuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHByb2dyYW0udW5pZm9ybXM7XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy51bmlmb3JtVHlwZUZvclZhbHVlKHZhbHVlLCBkYXRhVHlwZSk7XG4gICAgICAgIGlmICghdW5pZm9ybXNbdW5pZm9ybU5hbWVdKSB7XG4gICAgICAgICAgICAvLyBJbml0IHVuaWZvcm0gaWYgbmVlZGVkLlxuICAgICAgICAgICAgdmFyIGxvY2F0aW9uXzEgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbS5wcm9ncmFtLCB1bmlmb3JtTmFtZSk7XG4gICAgICAgICAgICBpZiAoIWxvY2F0aW9uXzEpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGluaXQgdW5pZm9ybSBcIiArIHVuaWZvcm1OYW1lICsgXCIgZm9yIHByb2dyYW0gXCIgKyBwcm9ncmFtTmFtZSArIFwiLlxcbkNoZWNrIHRoYXQgdW5pZm9ybSBpcyBwcmVzZW50IGluIHNoYWRlciBjb2RlLCB1bnVzZWQgdW5pZm9ybXMgbWF5IGJlIHJlbW92ZWQgYnkgY29tcGlsZXIuXFxuQWxzbyBjaGVjayB0aGF0IHVuaWZvcm0gdHlwZSBpbiBzaGFkZXIgY29kZSBtYXRjaGVzIHR5cGUgXCIgKyB0eXBlICsgXCIuXFxuRXJyb3IgY29kZTogXCIgKyBnbC5nZXRFcnJvcigpICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVuaWZvcm1zW3VuaWZvcm1OYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25fMSxcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdW5pZm9ybSA9IHVuaWZvcm1zW3VuaWZvcm1OYW1lXTtcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCB0eXBlcyBtYXRjaCBwcmV2aW91c2x5IHNldCB1bmlmb3JtLlxuICAgICAgICBpZiAodW5pZm9ybS50eXBlICE9IHR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaWZvcm0gXCIgKyB1bmlmb3JtTmFtZSArIFwiIGNhbm5vdCBjaGFuZ2UgZnJvbSB0eXBlIFwiICsgdW5pZm9ybS50eXBlICsgXCIgdG8gdHlwZSBcIiArIHR5cGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvY2F0aW9uID0gdW5pZm9ybS5sb2NhdGlvbjtcbiAgICAgICAgLy8gU2V0IHVuaWZvcm0uXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvdW5pZm9ybVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuRkxPQVRfMURfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuRkxPQVRfMkRfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmZ2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkZMT0FUXzNEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5GTE9BVF80RF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuSU5UXzFEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLklOVF8yRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yaXYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuSU5UXzNEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5JTlRfNERfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdW5pZm9ybSB0eXBlOiBcIiArIHR5cGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIDtcbiAgICBHUEdQVS5wcm90b3R5cGUuaW5pdEZyYW1lYnVmZmVyRm9yVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlTmFtZSwgc2hvdWxkT3ZlcndyaXRlKSB7XG4gICAgICAgIGlmIChzaG91bGRPdmVyd3JpdGUgPT09IHZvaWQgMCkgeyBzaG91bGRPdmVyd3JpdGUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBmcmFtZWJ1ZmZlcnMgPSBfYS5mcmFtZWJ1ZmZlcnMsIHRleHR1cmVzID0gX2EudGV4dHVyZXMsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICBpZiAoZnJhbWVidWZmZXJzW3RleHR1cmVOYW1lXSkge1xuICAgICAgICAgICAgaWYgKCFzaG91bGRPdmVyd3JpdGUpXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQWxyZWFkeSBhIGZyYW1lYnVmZmVyIHdpdGggdGhlIG5hbWUgXCIgKyB0ZXh0dXJlTmFtZSArIFwiLCB1c2Ugc2hvdWxkT3ZlcndyaXRlIGZsYWcgaW4gaW5pdFRleHR1cmUoKSB0byBpZ25vcmUuXCIpO1xuICAgICAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZnJhbWVidWZmZXJzW3RleHR1cmVOYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0ZXh0dXJlc1t0ZXh0dXJlTmFtZV07XG4gICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGluaXQgZnJhbWVidWZmZXIsIHRleHR1cmUgXCIgKyB0ZXh0dXJlTmFtZSArIFwiIGRvZXMgbm90IGV4aXN0LlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgICAgICBpZiAoIWZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGluaXQgXCIgKyB0ZXh0dXJlTmFtZSArIFwiIGZyYW1lYnVmZmVyOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvZnJhbWVidWZmZXJUZXh0dXJlMkRcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0ZXh0dXJlLCAwKTtcbiAgICAgICAgdmFyIHN0YXR1cyA9IGdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpO1xuICAgICAgICBpZiAoc3RhdHVzICE9IGdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiSW52YWxpZCBzdGF0dXMgZm9yIFwiICsgdGV4dHVyZU5hbWUgKyBcIiBmcmFtZWJ1ZmZlcjogXCIgKyBzdGF0dXMgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWVidWZmZXJzW3RleHR1cmVOYW1lXSA9IGZyYW1lYnVmZmVyO1xuICAgIH07XG4gICAgO1xuICAgIEdQR1BVLnByb3RvdHlwZS5nbFRleHR1cmVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKG51bUNoYW5uZWxzLCB0eXBlLCB3cml0YWJsZSkge1xuICAgICAgICAvLyBodHRwczovL3d3dy5raHJvbm9zLm9yZy9yZWdpc3RyeS93ZWJnbC9zcGVjcy9sYXRlc3QvMi4wLyNURVhUVVJFX1RZUEVTX0ZPUk1BVFNfRlJPTV9ET01fRUxFTUVOVFNfVEFCTEVcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgaXNXZWJHTDIgPSBfYS5pc1dlYkdMMiwgZXh0ZW5zaW9ucyA9IF9hLmV4dGVuc2lvbnM7XG4gICAgICAgIHZhciBnbFR5cGUsIGdsRm9ybWF0LCBnbEludGVybmFsRm9ybWF0LCBnbE51bUNoYW5uZWxzO1xuICAgICAgICBpZiAoaXNXZWJHTDIpIHtcbiAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSBudW1DaGFubmVscztcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL2V4dGVuc2lvbnMvRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdC9cbiAgICAgICAgICAgIC8vIFRoZSBzaXplZCBpbnRlcm5hbCBmb3JtYXQgUkdCMTZGIGlzIG5vdCBjb2xvci1yZW5kZXJhYmxlIGZvciBzb21lIHJlYXNvbi5cbiAgICAgICAgICAgIC8vIElmIG51bUNoYW5uZWxzID09IDMgZm9yIGEgd3JpdGFibGUgdGV4dHVyZSwgdXNlIFJHQkEgaW5zdGVhZC5cbiAgICAgICAgICAgIGlmIChudW1DaGFubmVscyA9PT0gMyAmJiB3cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJFRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkdCO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkdCQTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdmbG9hdDE2JzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlIxNkY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHMTZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0IxNkY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkExNkY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUjg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogZm9yIHJlYWQgb25seSB0ZXh0dXJlcyBpbiBXZWJHTCAxLjAsIHdlIGNvdWxkIHVzZSBnbC5BTFBIQSBhbmQgZ2wuTFVNSU5BTkNFX0FMUEhBIGhlcmUuXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkdCO1xuICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCO1xuICAgICAgICAgICAgICAgICAgICBnbE51bUNoYW5uZWxzID0gMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBO1xuICAgICAgICAgICAgICAgICAgICBnbE51bUNoYW5uZWxzID0gNDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdmbG9hdDE2JzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZXh0ZW5zaW9uc1tPRVNfVEVYVFVSRV9IQUxGX0ZMT0FUXS5IQUxGX0ZMT0FUX09FUztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgbWlzc2luZyBwYXJhbXMuXG4gICAgICAgIGlmIChnbFR5cGUgPT09IHVuZGVmaW5lZCB8fCBnbEZvcm1hdCA9PT0gdW5kZWZpbmVkIHx8IGdsSW50ZXJuYWxGb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0eXBlOiBcIiArIHR5cGUgKyBcIiBvciBudW1DaGFubmVscyBcIiArIG51bUNoYW5uZWxzICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbE51bUNoYW5uZWxzID09PSB1bmRlZmluZWQgfHwgbnVtQ2hhbm5lbHMgPCAxIHx8IG51bUNoYW5uZWxzID4gNCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBudW1DaGFubmVsczogXCIgKyBudW1DaGFubmVscyArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2xGb3JtYXQ6IGdsRm9ybWF0LFxuICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdDogZ2xJbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgIGdsVHlwZTogZ2xUeXBlLFxuICAgICAgICAgICAgZ2xOdW1DaGFubmVsczogZ2xOdW1DaGFubmVscyxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5pbml0VGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlTmFtZSwgd2lkdGgsIGhlaWdodCwgdHlwZSwgbnVtQ2hhbm5lbHMsIHdyaXRhYmxlLCBkYXRhLCBzaG91bGRPdmVyd3JpdGUpIHtcbiAgICAgICAgaWYgKHdyaXRhYmxlID09PSB2b2lkIDApIHsgd3JpdGFibGUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoc2hvdWxkT3ZlcndyaXRlID09PSB2b2lkIDApIHsgc2hvdWxkT3ZlcndyaXRlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgdGV4dHVyZXMgPSBfYS50ZXh0dXJlcywgZnJhbWVidWZmZXJzID0gX2EuZnJhbWVidWZmZXJzLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgaWYgKHRleHR1cmVzW3RleHR1cmVOYW1lXSkge1xuICAgICAgICAgICAgaWYgKCFzaG91bGRPdmVyd3JpdGUpXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQWxyZWFkeSBhIHRleHR1cmUgd2l0aCB0aGUgbmFtZSBcIiArIHRleHR1cmVOYW1lICsgXCIsIHVzZSBzaG91bGRPdmVyd3JpdGUgZmxhZyB0byBpZ25vcmUuXCIpO1xuICAgICAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlc1t0ZXh0dXJlTmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIHRoYXQgZGF0YSBpcyBjb3JyZWN0IGxlbmd0aC5cbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggIT09IHdpZHRoICogaGVpZ2h0ICogbnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YSBhcnJheSBvZiBzaXplIFwiICsgZGF0YS5sZW5ndGggKyBcIiBmb3IgdGV4dHVyZSBvZiBkaW1lbnNpb25zIFwiICsgd2lkdGggKyBcIiB4IFwiICsgaGVpZ2h0ICsgXCIgeCBcIiArIG51bUNoYW5uZWxzICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJDb3VsZCBub3QgaW5pdCBcIiArIHRleHR1cmVOYW1lICsgXCIgdGV4dHVyZTogXCIgKyBnbC5nZXRFcnJvcigpICsgXCIuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgICAvLyBUT0RPOiBkaWcgaW50byB0aGlzLlxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIHZhciBmaWx0ZXIgPSBnbC5ORUFSRVNUOyAvL3RoaXMubGluZWFyRmlsdGVyRW5hYmxlZCA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1Q7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBmaWx0ZXIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZmlsdGVyKTtcbiAgICAgICAgLy8gVE9ETzogQ2hlY2sgdGhhdCBkYXRhIGlzIGNvcnJlY3QgdHlwZS5cbiAgICAgICAgLy8gaWYgKGRhdGEgJiYgdHlwZSA9PT0gJ2Zsb2F0MTYnKSB7XG4gICAgICAgIC8vIFx0Ly8gLy8gU2luY2UgdGhlcmUgaXMgbm8gRmxvYXQxNlR5cGVkQXJyYXksIHdlIG11c3QgdXMgVWludDE2VHlwZWRBcnJheVxuICAgICAgICAvLyBcdC8vIGNvbnN0IGZsb2F0MTZBcnJheSA9IG5ldyBJbnQxNkFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgICAgLy8gXHQvLyBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gXHQvLyB9XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC90ZXhJbWFnZTJEXG4gICAgICAgIHZhciBfYiA9IHRoaXMuZ2xUZXh0dXJlUGFyYW1ldGVycyhudW1DaGFubmVscywgdHlwZSwgd3JpdGFibGUpLCBnbEZvcm1hdCA9IF9iLmdsRm9ybWF0LCBnbEludGVybmFsRm9ybWF0ID0gX2IuZ2xJbnRlcm5hbEZvcm1hdCwgZ2xOdW1DaGFubmVscyA9IF9iLmdsTnVtQ2hhbm5lbHMsIGdsVHlwZSA9IF9iLmdsVHlwZTtcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBkYXRhIGlzIGNvcnJlY3QgbGVuZ3RoLlxuICAgICAgICAvLyBUaGlzIG9ubHkgaGFwcGVucyBmb3Igd2ViZ2wgMS4wIGNvbnRleHRzLlxuICAgICAgICBpZiAoZGF0YSAmJiBudW1DaGFubmVscyAhPT0gZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgdmFyIGltYWdlU2l6ZSA9IHdpZHRoICogaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gdm9pZCAwO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgICAgICBuZXdBcnJheSA9IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0ICogZ2xOdW1DaGFubmVscyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHR5cGUgXCIgKyB0eXBlICsgXCIgZm9yIGluaXRUZXh0dXJlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbGwgbmV3IGRhdGEgYXJyYXkgd2l0aCBvbGQgZGF0YS5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG51bUNoYW5uZWxzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3QXJyYXlbZ2xOdW1DaGFubmVscyAqIGkgKyBqXSA9IGRhdGFbaSAqIG51bUNoYW5uZWxzICsgal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YSA9IG5ld0FycmF5O1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2xJbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMCwgZ2xGb3JtYXQsIGdsVHlwZSwgZGF0YSA/IGRhdGEgOiBudWxsKTtcbiAgICAgICAgdGV4dHVyZXNbdGV4dHVyZU5hbWVdID0gdGV4dHVyZTtcbiAgICAgICAgaWYgKCF3cml0YWJsZSkge1xuICAgICAgICAgICAgLy8gRGVsZXRlIHVudXNlZCBmcmFtZWJ1ZmZlciBpZiBuZWVkZWQuXG4gICAgICAgICAgICBpZiAoc2hvdWxkT3ZlcndyaXRlICYmIGZyYW1lYnVmZmVyc1t0ZXh0dXJlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcnNbdGV4dHVyZU5hbWVdKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgZnJhbWVidWZmZXJzW3RleHR1cmVOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbml0IGEgZnJhbWVidWZmZXIgZm9yIHRoaXMgdGV4dHVyZSBzbyB3ZSBjYW4gd3JpdGUgdG8gaXQuXG4gICAgICAgIHRoaXMuaW5pdEZyYW1lYnVmZmVyRm9yVGV4dHVyZSh0ZXh0dXJlTmFtZSwgc2hvdWxkT3ZlcndyaXRlKTtcbiAgICB9O1xuICAgIDtcbiAgICBHUEdQVS5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoY2FudmFzRWwpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIHdpZHRoID0gY2FudmFzRWwuY2xpZW50V2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBjYW52YXNFbC5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAvLyBTZXQgY29ycmVjdCBjYW52YXMgcGl4ZWwgc2l6ZS5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMX0FQSS9CeV9leGFtcGxlL0NhbnZhc19zaXplX2FuZF9XZWJHTFxuICAgICAgICBjYW52YXNFbC53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXNFbC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8vIFNhdmUgZGltZW5zaW9ucy5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB9O1xuICAgIDtcbiAgICBHUEdQVS5wcm90b3R5cGUuX3N0ZXAgPSBmdW5jdGlvbiAocHJvZ3JhbU5hbWUsIGlucHV0VGV4dHVyZXMsIG91dHB1dFRleHR1cmUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgcHJvZ3JhbXMgPSBfYS5wcm9ncmFtcywgZnJhbWVidWZmZXJzID0gX2EuZnJhbWVidWZmZXJzO1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IHByb2dyYW1zW3Byb2dyYW1OYW1lXTtcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByb2dyYW0gbmFtZTogXCIgKyBwcm9ncmFtTmFtZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IG91dHB1dFRleHR1cmUgPyBmcmFtZWJ1ZmZlcnNbb3V0cHV0VGV4dHVyZV0gOiBudWxsO1xuICAgICAgICBpZiAoZnJhbWVidWZmZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvdXRwdXQgdGV4dHVyZTogXCIgKyBvdXRwdXRUZXh0dXJlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVidWZmZXIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0VGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZXNbaW5wdXRUZXh0dXJlc1tpXV0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBvaW50IGF0dHJpYnV0ZSB0byB0aGUgY3VycmVudGx5IGJvdW5kIFZCTy5cbiAgICAgICAgdmFyIHBvc2l0aW9uTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLnByb2dyYW0sICdhUG9zaXRpb24nKTtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAvLyBFbmFibGUgdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25Mb2NhdGlvbik7XG4gICAgfTtcbiAgICA7XG4gICAgLy8gU3RlcCBmb3IgZW50aXJlIGZ1bGxzY3JlZW4gcXVhZC5cbiAgICBHUEdQVS5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uIChwcm9ncmFtTmFtZSwgaW5wdXRUZXh0dXJlcywgb3V0cHV0VGV4dHVyZSkge1xuICAgICAgICBpZiAoaW5wdXRUZXh0dXJlcyA9PT0gdm9pZCAwKSB7IGlucHV0VGV4dHVyZXMgPSBbXTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvclN0YXRlID0gX2EuZXJyb3JTdGF0ZSwgcXVhZFBvc2l0aW9uc0J1ZmZlciA9IF9hLnF1YWRQb3NpdGlvbnNCdWZmZXI7XG4gICAgICAgIC8vIElnbm9yZSBpZiB3ZSBhcmUgaW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHVuaWZvcm1zIGFuZCBidWZmZXJzLlxuICAgICAgICB0aGlzLnNldFByb2dyYW1Vbmlmb3JtKHByb2dyYW1OYW1lLCAndV9zY2FsZScsIFsxLCAxXSwgJ0ZMT0FUJyk7XG4gICAgICAgIHRoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsICd1X3RyYW5zbGF0aW9uJywgWzAsIDBdLCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHF1YWRQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICB0aGlzLl9zdGVwKHByb2dyYW1OYW1lLCBpbnB1dFRleHR1cmVzLCBvdXRwdXRUZXh0dXJlKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfTtcbiAgICAvLyBTdGVwIHByb2dyYW0gb25seSBmb3IgYSBzdHJpcCBvZiBweCBhbG9uZyB0aGUgYm91bmRhcnkuXG4gICAgR1BHUFUucHJvdG90eXBlLnN0ZXBCb3VuZGFyeSA9IGZ1bmN0aW9uIChwcm9ncmFtTmFtZSwgaW5wdXRUZXh0dXJlcywgb3V0cHV0VGV4dHVyZSkge1xuICAgICAgICBpZiAoaW5wdXRUZXh0dXJlcyA9PT0gdm9pZCAwKSB7IGlucHV0VGV4dHVyZXMgPSBbXTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvclN0YXRlID0gX2EuZXJyb3JTdGF0ZSwgYm91bmRhcnlQb3NpdGlvbnNCdWZmZXIgPSBfYS5ib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSB1bmlmb3JtcyBhbmQgYnVmZmVycy5cbiAgICAgICAgLy8gRnJhbWUgbmVlZHMgdG8gYmUgb2Zmc2V0IGFuZCBzY2FsZWQgc28gdGhhdCBhbGwgZm91ciBzaWRlcyBhcmUgaW4gdmlld3BvcnQuXG4gICAgICAgIHZhciBvbmVQeCA9IFsxIC8gd2lkdGgsIDEgLyBoZWlnaHRdO1xuICAgICAgICB0aGlzLnNldFByb2dyYW1Vbmlmb3JtKHByb2dyYW1OYW1lLCAndV9zY2FsZScsIFsxIC0gb25lUHhbMF0sIDEgLSBvbmVQeFsxXV0sICdGTE9BVCcpO1xuICAgICAgICB0aGlzLnNldFByb2dyYW1Vbmlmb3JtKHByb2dyYW1OYW1lLCAndV90cmFuc2xhdGlvbicsIG9uZVB4LCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgdGhpcy5fc3RlcChwcm9ncmFtTmFtZSwgaW5wdXRUZXh0dXJlcywgb3V0cHV0VGV4dHVyZSk7XG4gICAgICAgIC8vIERyYXcuXG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuTElORV9MT09QLCAwLCA0KTsgLy8gRHJhdyB0byBmcmFtZWJ1ZmZlci5cbiAgICB9O1xuICAgIC8vIFN0ZXAgcHJvZ3JhbSBmb3IgYWxsIGJ1dCBhIHN0cmlwIG9mIHB4IGFsb25nIHRoZSBib3VuZGFyeS5cbiAgICBHUEdQVS5wcm90b3R5cGUuc3RlcE5vbkJvdW5kYXJ5ID0gZnVuY3Rpb24gKHByb2dyYW1OYW1lLCBpbnB1dFRleHR1cmVzLCBvdXRwdXRUZXh0dXJlKSB7XG4gICAgICAgIGlmIChpbnB1dFRleHR1cmVzID09PSB2b2lkIDApIHsgaW5wdXRUZXh0dXJlcyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBxdWFkUG9zaXRpb25zQnVmZmVyID0gX2EucXVhZFBvc2l0aW9uc0J1ZmZlciwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSB1bmlmb3JtcyBhbmQgYnVmZmVycy5cbiAgICAgICAgdmFyIG9uZVB4ID0gWzEgLyB3aWR0aCwgMSAvIGhlaWdodF07XG4gICAgICAgIHRoaXMuc2V0UHJvZ3JhbVVuaWZvcm0ocHJvZ3JhbU5hbWUsICd1X3NjYWxlJywgWzEgLSAyICogb25lUHhbMF0sIDEgLSAyICogb25lUHhbMV1dLCAnRkxPQVQnKTtcbiAgICAgICAgdGhpcy5zZXRQcm9ncmFtVW5pZm9ybShwcm9ncmFtTmFtZSwgJ3VfdHJhbnNsYXRpb24nLCBvbmVQeCwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBxdWFkUG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgdGhpcy5fc3RlcChwcm9ncmFtTmFtZSwgaW5wdXRUZXh0dXJlcywgb3V0cHV0VGV4dHVyZSk7XG4gICAgICAgIC8vIERyYXcuXG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH07XG4gICAgLy8gU3RlcCBwcm9ncmFtIG9ubHkgZm9yIGEgY2lyY3VsYXIgc3BvdC5cbiAgICBHUEdQVS5wcm90b3R5cGUuc3RlcENpcmNsZSA9IGZ1bmN0aW9uIChwcm9ncmFtTmFtZSwgcG9zaXRpb24sIC8vIHBvc2l0aW9uIGlzIGluIHNjcmVlbiBzcGFjZSBjb29yZHMuXG4gICAgcmFkaXVzLCAvLyByYWRpdXMgaXMgaW4gcHguXG4gICAgaW5wdXRUZXh0dXJlcywgb3V0cHV0VGV4dHVyZSkge1xuICAgICAgICBpZiAoaW5wdXRUZXh0dXJlcyA9PT0gdm9pZCAwKSB7IGlucHV0VGV4dHVyZXMgPSBbXTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvclN0YXRlID0gX2EuZXJyb3JTdGF0ZSwgY2lyY2xlUG9zaXRpb25zQnVmZmVyID0gX2EuY2lyY2xlUG9zaXRpb25zQnVmZmVyLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIC8vIElnbm9yZSBpZiB3ZSBhcmUgaW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHVuaWZvcm1zIGFuZCBidWZmZXJzLlxuICAgICAgICB0aGlzLnNldFByb2dyYW1Vbmlmb3JtKHByb2dyYW1OYW1lLCAndV9zY2FsZScsIFtyYWRpdXMgLyB3aWR0aCwgcmFkaXVzIC8gaGVpZ2h0XSwgJ0ZMT0FUJyk7XG4gICAgICAgIC8vIEZsaXAgeSBheGlzLlxuICAgICAgICB0aGlzLnNldFByb2dyYW1Vbmlmb3JtKHByb2dyYW1OYW1lLCAndV90cmFuc2xhdGlvbicsIFsyICogcG9zaXRpb25bMF0gLyB3aWR0aCAtIDEsIC0yICogcG9zaXRpb25bMV0gLyBoZWlnaHQgKyAxXSwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBjaXJjbGVQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICB0aGlzLl9zdGVwKHByb2dyYW1OYW1lLCBpbnB1dFRleHR1cmVzLCBvdXRwdXRUZXh0dXJlKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9GQU4sIDAsIE5VTV9TRUdNRU5UU19DSVJDTEUgKyAyKTsgLy8gRHJhdyB0byBmcmFtZWJ1ZmZlci5cbiAgICB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5zd2FwVGV4dHVyZXMgPSBmdW5jdGlvbiAodGV4dHVyZTFOYW1lLCB0ZXh0dXJlMk5hbWUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgdGV4dHVyZXMgPSBfYS50ZXh0dXJlcywgZnJhbWVidWZmZXJzID0gX2EuZnJhbWVidWZmZXJzO1xuICAgICAgICB2YXIgdGVtcCA9IHRleHR1cmVzW3RleHR1cmUxTmFtZV07XG4gICAgICAgIHRleHR1cmVzW3RleHR1cmUxTmFtZV0gPSB0aGlzLnRleHR1cmVzW3RleHR1cmUyTmFtZV07XG4gICAgICAgIHRleHR1cmVzW3RleHR1cmUyTmFtZV0gPSB0ZW1wO1xuICAgICAgICB0ZW1wID0gZnJhbWVidWZmZXJzW3RleHR1cmUxTmFtZV07XG4gICAgICAgIGZyYW1lYnVmZmVyc1t0ZXh0dXJlMU5hbWVdID0gdGhpcy5mcmFtZWJ1ZmZlcnNbdGV4dHVyZTJOYW1lXTtcbiAgICAgICAgZnJhbWVidWZmZXJzW3RleHR1cmUyTmFtZV0gPSB0ZW1wO1xuICAgIH07XG4gICAgO1xuICAgIC8vIHN3YXAzVGV4dHVyZXMoXG4gICAgLy8gXHR0ZXh0dXJlMU5hbWU6IHN0cmluZyxcbiAgICAvLyBcdHRleHR1cmUyTmFtZTogc3RyaW5nLFxuICAgIC8vIFx0dGV4dHVyZTNOYW1lOiBzdHJpbmcsXG4gICAgLy8gKSB7XG4gICAgLy8gICAgIGxldCB0ZW1wID0gdGhpcy50ZXh0dXJlc1t0ZXh0dXJlM05hbWVdO1xuICAgIC8vICAgICB0aGlzLnRleHR1cmVzW3RleHR1cmUzTmFtZV0gPSB0aGlzLnRleHR1cmVzW3RleHR1cmUyTmFtZV07XG4gICAgLy8gICAgIHRoaXMudGV4dHVyZXNbdGV4dHVyZTJOYW1lXSA9IHRoaXMudGV4dHVyZXNbdGV4dHVyZTFOYW1lXTtcbiAgICAvLyAgICAgdGhpcy50ZXh0dXJlc1t0ZXh0dXJlMU5hbWVdID0gdGVtcDtcbiAgICAvLyAgICAgdGVtcCA9IHRoaXMuZnJhbWVidWZmZXJzW3RleHR1cmUzTmFtZV07XG4gICAgLy8gICAgIHRoaXMuZnJhbWVidWZmZXJzW3RleHR1cmUzTmFtZV0gPSB0aGlzLmZyYW1lYnVmZmVyc1t0ZXh0dXJlMk5hbWVdO1xuICAgIC8vICAgICB0aGlzLmZyYW1lYnVmZmVyc1t0ZXh0dXJlMk5hbWVdID0gdGhpcy5mcmFtZWJ1ZmZlcnNbdGV4dHVyZTFOYW1lXTtcbiAgICAvLyAgICAgdGhpcy5mcmFtZWJ1ZmZlcnNbdGV4dHVyZTFOYW1lXSA9IHRlbXA7XG4gICAgLy8gfTtcbiAgICAvLyByZWFkeVRvUmVhZCgpIHtcbiAgICAvLyBcdGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgLy8gICAgIHJldHVybiBnbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKGdsLkZSQU1FQlVGRkVSKSA9PSBnbC5GUkFNRUJVRkZFUl9DT01QTEVURTtcbiAgICAvLyB9O1xuICAgIC8vIHJlYWRQaXhlbHMoeE1pbjogbnVtYmVyLCB5TWluOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBhcnJheTogVGV4dHVyZURhdGFUeXBlKSB7XG4gICAgLy8gXHRjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIC8vIFx0Z2wucmVhZFBpeGVscyh4TWluLCB5TWluLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBhcnJheSk7XG4gICAgLy8gfTtcbiAgICBHUEdQVS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE86IG1ha2Ugc3VyZSB3ZSBhcmUgYWN0dWFsbHkgZGVhbGxvY2F0aW5nIHJlc291cmNlcyBoZXJlLlxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBwcm9ncmFtcyA9IF9hLnByb2dyYW1zLCBmcmFtZWJ1ZmZlcnMgPSBfYS5mcmFtZWJ1ZmZlcnMsIHRleHR1cmVzID0gX2EudGV4dHVyZXMsIHNoYWRlcnMgPSBfYS5zaGFkZXJzLCBkZWZhdWx0VmVydGV4U2hhZGVyID0gX2EuZGVmYXVsdFZlcnRleFNoYWRlcjtcbiAgICAgICAgLy8gVW5iaW5kIGFsbCBkYXRhIGJlZm9yZSBkZWxldGluZy5cbiAgICAgICAgT2JqZWN0LmtleXMocHJvZ3JhbXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBwcm9ncmFtc1trZXldLnByb2dyYW07XG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICAgICAgZGVsZXRlIHByb2dyYW1zW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3Qua2V5cyhmcmFtZWJ1ZmZlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIGZyYW1lYnVmZmVyID0gZnJhbWVidWZmZXJzW2tleV07XG4gICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICBkZWxldGUgZnJhbWVidWZmZXJzW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3Qua2V5cyh0ZXh0dXJlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRleHR1cmVzW2tleV07XG4gICAgICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICAgICAgZGVsZXRlIHRleHR1cmVzW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKHZhciBpID0gc2hhZGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKHNoYWRlcnNbaV0gPT09IGRlZmF1bHRWZXJ0ZXhTaGFkZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC9kZWxldGVTaGFkZXJcbiAgICAgICAgICAgIC8vIFRoaXMgbWV0aG9kIGhhcyBubyBlZmZlY3QgaWYgdGhlIHNoYWRlciBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWRcbiAgICAgICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXJzW2ldKTtcbiAgICAgICAgICAgIHNoYWRlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICA7XG4gICAgcmV0dXJuIEdQR1BVO1xufSgpKTtcbmV4cG9ydHMuR1BHUFUgPSBHUEdQVTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdQR1BVLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JTlRfVFlQRSA9IGV4cG9ydHMuRkxPQVRfVFlQRSA9IGV4cG9ydHMuSU5UXzREX1VOSUZPUk0gPSBleHBvcnRzLklOVF8zRF9VTklGT1JNID0gZXhwb3J0cy5JTlRfMkRfVU5JRk9STSA9IGV4cG9ydHMuSU5UXzFEX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzREX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzNEX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzJEX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzFEX1VOSUZPUk0gPSB2b2lkIDA7XG5leHBvcnRzLkZMT0FUXzFEX1VOSUZPUk0gPSAnMWYnO1xuZXhwb3J0cy5GTE9BVF8yRF9VTklGT1JNID0gJzJmJztcbmV4cG9ydHMuRkxPQVRfM0RfVU5JRk9STSA9ICczZic7XG5leHBvcnRzLkZMT0FUXzREX1VOSUZPUk0gPSAnM2YnO1xuZXhwb3J0cy5JTlRfMURfVU5JRk9STSA9ICcxaSc7XG5leHBvcnRzLklOVF8yRF9VTklGT1JNID0gJzJpJztcbmV4cG9ydHMuSU5UXzNEX1VOSUZPUk0gPSAnM2knO1xuZXhwb3J0cy5JTlRfNERfVU5JRk9STSA9ICczaSc7XG5leHBvcnRzLkZMT0FUX1RZUEUgPSAnRkxPQVQnO1xuZXhwb3J0cy5JTlRfVFlQRSA9ICdJTlQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaW5nbGVDb2xvckZyYWdTaGFkZXIgPSBleHBvcnRzLkdQR1BVID0gdm9pZCAwO1xudmFyIEdQR1BVXzEgPSByZXF1aXJlKFwiLi9HUEdQVVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdQR1BVXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBHUEdQVV8xLkdQR1BVOyB9IH0pO1xudmFyIFNpbmdsZUNvbG9yRnJhZ1NoYWRlcl8xID0gcmVxdWlyZShcIi4va2VybmVscy9TaW5nbGVDb2xvckZyYWdTaGFkZXJcIik7XG5leHBvcnRzLlNpbmdsZUNvbG9yRnJhZ1NoYWRlciA9IFNpbmdsZUNvbG9yRnJhZ1NoYWRlcl8xLmRlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIFZlcnRleCBzaGFkZXIgZm9yIGZ1bGxzY3JlZW4gcXVhZC5cbmV4cG9ydHMuZGVmYXVsdCA9IFwiXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbmF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbjtcXG51bmlmb3JtIHZlYzIgdV9zY2FsZTtcXG51bmlmb3JtIHZlYzIgdV90cmFuc2xhdGlvbjtcXG52YXJ5aW5nIHZlYzIgdXZfbG9jYWw7XFxudmFyeWluZyB2ZWMyIHV2O1xcbnZvaWQgbWFpbigpIHtcXG5cXHQvLyBDYWxjdWxhdGUgVVYgY29vcmRpbmF0ZXMgb2YgY3VycmVudCByZW5kZXJlZCBvYmplY3QuXFxuXFx0dXZfbG9jYWwgPSAwLjUgKiAoYVBvc2l0aW9uICsgMS4wKTtcXG5cXHQvLyBBcHBseSB0cmFuc2Zvcm1hdGlvbnMuXFxuXFx0dmVjMiBwb3NpdGlvbiA9IHVfc2NhbGUgKiBhUG9zaXRpb24gKyB1X3RyYW5zbGF0aW9uO1xcblxcdC8vIENhbGN1bGF0ZSBhIGdsb2JhbCB1diBmb3IgdGhlIHZpZXdwb3J0LlxcblxcdHV2ID0gMC41ICogKHBvc2l0aW9uICsgMS4wKTtcXG5cXHQvLyBDYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uLlxcblxcdGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMCwgMSk7XFxufVxcblwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVmYXVsdFZlcnRleFNoYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIEZyYWdtZW50IHNoYWRlciB0aGF0IGRyYXdzIGEgc2luZ2xlIGNvbG9yIChmb3IgdGVzdGluZykuXG5leHBvcnRzLmRlZmF1bHQgPSBcIlxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcXG52b2lkIG1haW4oKSB7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCh1X2NvbG9yLCAxKTtcXG59XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaW5nbGVDb2xvckZyYWdTaGFkZXIuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB1djtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3N0YXRlO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHR2ZWMyIGN1cnJlbnRTdGF0ZSA9IHRleHR1cmUyRCh1X3N0YXRlLCB1dikueHk7XFxuXFx0Ly8gQWRkIGV4dGVybmFsIGZvcmNlIHRvIGN1cnJlbnQgcHguXFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNChjdXJyZW50U3RhdGUsIC01LjAsIDApO1xcbn1cIiIsIm1vZHVsZS5leHBvcnRzID0gXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdXY7XFxudW5pZm9ybSBzYW1wbGVyMkQgdV9zdGF0ZTtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0ZmxvYXQgcG9zaXRpb24gPSB0ZXh0dXJlMkQodV9zdGF0ZSwgdXYpLnIgLyAyMC4wICsgMC41O1xcblxcdGlmIChwb3NpdGlvbiA+IDEuMCkgcG9zaXRpb24gPSAxLjA7XFxuXFx0aWYgKHBvc2l0aW9uIDwgMC4wKSBwb3NpdGlvbiA9IDAuMDtcXG5cXG5cXHRpZiAocG9zaXRpb24gPCAwLjUpe1xcblxcdFxcdHBvc2l0aW9uICo9IDIuMDtcXG5cXHRcXHQvL3Bvc2l0aW9uID0gMCAtPiBibHVlXFxuXFx0XFx0Ly9wb3NpdGlvbiA9IDEgLT4gbWFnZW50YVxcblxcdFxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoKDI1NS4wKnBvc2l0aW9uKS8yNTUuMCwoMTc5LjAqKDEuMC1wb3NpdGlvbikpLzI1NS4wLCgxNTAuMC01NC4wKnBvc2l0aW9uKS8yNTUuMCwxLjApO1xcblxcdH0gZWxzZSB7XFxuXFx0XFx0cG9zaXRpb24gLT0gMC41O1xcblxcdFxcdHBvc2l0aW9uICo9IDIuMDtcXG5cXHRcXHQvL3Bvc2l0aW9uID0gMCAtPiBtYWdlbnRhXFxuXFx0XFx0Ly9wb3NpdGlvbiA9IDEgLT4gd2hpdGVcXG5cXHRcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCgyNTUuMC0oMTAuMCpwb3NpdGlvbikpLzI1NS4wLCgyMjMuMCpwb3NpdGlvbikvMjU1LjAsKDEwNi4wKyg2Ny4wKnBvc2l0aW9uKSkvMjU1LjAsMS4wKTtcXG5cXHR9XFxufVwiIiwibW9kdWxlLmV4cG9ydHMgPSBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcblxcbiNkZWZpbmUgSyAyLjBcXG4jZGVmaW5lIEQgMS4wXFxuI2RlZmluZSBEVCAxLjBcXG4jZGVmaW5lIE1BU1MgMTAuMFxcblxcbnZhcnlpbmcgdmVjMiB1djtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3N0YXRlOyAvLyBwb3NpdGlvbiwgdmVsb2NpdHksIGV4dGVybmFsRm9yY2VzID0gciwgZywgYlxcbnVuaWZvcm0gdmVjMiB1X3B4U2l6ZTtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuXFx0dmVjMyBjdXJyZW50U3RhdGUgPSB0ZXh0dXJlMkQodV9zdGF0ZSwgdXYpLnh5ejtcXG5cXHRmbG9hdCBjdXJyZW50UG9zaXRpb24gPSBjdXJyZW50U3RhdGUueDtcXG5cXHRmbG9hdCBjdXJyZW50VmVsb2NpdHkgPSBjdXJyZW50U3RhdGUueTtcXG5cXHRmbG9hdCBmVG90YWwgPSBjdXJyZW50U3RhdGUuejtcXG5cXG5cXHQvLyBHZXQgaW50ZXJhY3Rpb25zIHdpdGggTiwgUywgRSwgVyBuZWlnaGJvcnMuXFxuXFx0Zm9yIChpbnQgaSA9IC0xOyBpIDw9IDE7IGkgKz0gMikge1xcblxcdFxcdGZvciAoaW50IGogPSAtMTsgaiA8PSAxOyBqICs9IDIpIHtcXG5cXHRcXHRcXHQvLyBDYWxjdWxhdGUgdXYgY29vcmRpbmF0ZSBvZiBuZWlnaGJvciBweC5cXG5cXHRcXHRcXHR2ZWMyIG5laWdoYm9yVVYgPSB1diArIHZlYzIodV9weFNpemUueCAqIGZsb2F0KGkpLCB1X3B4U2l6ZS55ICogZmxvYXQoaikpO1xcblxcdFxcdFxcdC8vIEFwcGx5IHNwcmluZyBkYW1wZXIgY29uc3RyYWludC5cXG5cXHRcXHRcXHR2ZWMyIG5laWdoYm9yU3RhdGUgPSB0ZXh0dXJlMkQodV9zdGF0ZSwgbmVpZ2hib3JVVikueHk7XFxuXFx0XFx0XFx0ZmxvYXQgZGVsdGFQID0gIG5laWdoYm9yU3RhdGUueCAtIGN1cnJlbnRQb3NpdGlvbjtcXG5cXHRcXHRcXHRmbG9hdCBkZWx0YVYgPSBuZWlnaGJvclN0YXRlLnkgLSBjdXJyZW50VmVsb2NpdHk7XFxuXFx0XFx0XFx0ZlRvdGFsICs9IEsgKiBkZWx0YVAgKyBEICogZGVsdGFWO1xcblxcdFxcdH1cXG5cXHR9XFxuXFxuXFx0ZmxvYXQgYWNjZWxlcmF0aW9uID0gZlRvdGFsIC8gTUFTUztcXG5cXHRmbG9hdCB2ZWxvY2l0eSA9IGFjY2VsZXJhdGlvbiAqIERUICsgY3VycmVudFZlbG9jaXR5O1xcblxcdGZsb2F0IHBvc2l0aW9uID0gdmVsb2NpdHkgKiBEVCArIGN1cnJlbnRQb3NpdGlvbjtcXG5cXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KHBvc2l0aW9uLCB2ZWxvY2l0eSwgMCwgMCk7XFxufVwiIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4vLyBUaGlzIGVudHJ5IG1vZHVsZSB1c2VkICdleHBvcnRzJyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG4iXSwic291cmNlUm9vdCI6IiJ9